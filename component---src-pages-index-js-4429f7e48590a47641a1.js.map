{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/lodash.omit/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/@react-spring/shared/esm/createInterpolator.js","webpack:///./node_modules/troika-three-utils/dist/troika-three-utils.umd.js","webpack:///./node_modules/@react-spring/shared/esm/helpers.js","webpack:///./node_modules/@react-spring/shared/esm/globals.js","webpack:///./node_modules/@react-spring/core/index.js","webpack:///./node_modules/react-layout-effect/dist/esm/useLayoutEffect.js","webpack:///./node_modules/@react-spring/animated/index.js","webpack:///./node_modules/fluids/dist/esm/index.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/react-three-fiber/node_modules/scheduler/index.js","webpack:///./node_modules/@react-spring/web/index.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","webpack:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/element.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/global.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/process.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/react-merge-refs/dist/react-merge-refs.esm.js","webpack:///./node_modules/three/examples/js/libs/stats.min.js","webpack:///./node_modules/react-three-fiber/node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/three/examples/jsm/lines/LineSegmentsGeometry.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/three/examples/jsm/lines/LineGeometry.js","webpack:///./node_modules/three/examples/jsm/lines/LineMaterial.js","webpack:///./node_modules/three/examples/jsm/lines/LineSegments2.js","webpack:///./node_modules/three/examples/jsm/lines/Line2.js","webpack:///./node_modules/three/examples/jsm/controls/DeviceOrientationControls.js","webpack:///./node_modules/three/examples/jsm/controls/FlyControls.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/controls/TrackballControls.js","webpack:///./node_modules/three/examples/jsm/controls/TransformControls.js","webpack:///./node_modules/three/examples/jsm/controls/PointerLockControls.js","webpack:///./node_modules/three/examples/jsm/loaders/DRACOLoader.js","webpack:///./node_modules/three/examples/jsm/libs/inflate.module.min.js","webpack:///./node_modules/three/examples/jsm/curves/NURBSUtils.js","webpack:///./node_modules/three/examples/jsm/curves/NURBSCurve.js","webpack:///./node_modules/three/examples/jsm/loaders/FBXLoader.js","webpack:///./node_modules/zustand/index.js","webpack:///./node_modules/three/examples/jsm/objects/Reflector.js","webpack:///./node_modules/three/examples/jsm/modifiers/SimplifyModifier.js","webpack:///./node_modules/three/examples/jsm/modifiers/SubdivisionModifier.js","webpack:///./node_modules/three/examples/jsm/modifiers/TessellateModifier.js","webpack:///./node_modules/three/examples/jsm/objects/Sky.js","webpack:///./node_modules/three/examples/jsm/shaders/HorizontalBlurShader.js","webpack:///./node_modules/three/examples/jsm/shaders/VerticalBlurShader.js","webpack:///./node_modules/drei/index.js","webpack:///./src/components/hero.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/use-asset/dist/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/troika-worker-utils/dist/troika-worker-utils.umd.js","webpack:///./node_modules/@react-spring/shared/esm/index.js","webpack:///./node_modules/detect-gpu/dist/detect-gpu.umd.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/@react-spring/shared/esm/deprecations.js","webpack:///./node_modules/@react-spring/shared/esm/hooks.js","webpack:///./node_modules/@react-spring/shared/esm/FrameLoop.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/react-use-measure/dist/web.js","webpack:///./node_modules/lodash.pick/index.js","webpack:///./node_modules/@react-spring/shared/esm/colors.js","webpack:///./node_modules/@react-spring/shared/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@react-spring/shared/esm/colorMatchers.js","webpack:///./node_modules/@react-spring/shared/esm/normalizeColor.js","webpack:///./node_modules/@react-spring/shared/esm/colorToRgba.js","webpack:///./node_modules/@react-spring/shared/esm/stringInterpolation.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/use-memo-one/dist/use-memo-one.esm.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/debounce/index.js","webpack:///./node_modules/tiny-emitter/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js"],"names":["_classCallCheck","instance","Constructor","TypeError","reIsHostCtor","reIsUint","freeGlobal","global","Object","freeSelf","self","root","Function","apply","func","thisArg","args","length","call","arrayIncludes","array","value","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayMap","iteratee","result","Array","arrayPush","values","offset","cacheHas","cache","key","has","overArg","transform","arg","uid","arrayProto","prototype","funcProto","objectProto","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","toString","hasOwnProperty","objectToString","reIsNative","RegExp","replace","Symbol","getPrototype","getPrototypeOf","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","undefined","nativeGetSymbols","getOwnPropertySymbols","nativeMax","Math","max","Map","getNative","nativeCreate","Hash","entries","this","clear","entry","set","ListCache","MapCache","SetCache","__data__","add","arrayLikeKeys","inherited","isArray","isArguments","n","baseTimes","String","skipIndexes","isIndex","push","assocIndexOf","other","baseIsNative","isObject","isFunction","e","isHostObject","test","toSource","baseKeysIn","object","nativeKeysIn","Ctor","proto","isProto","constructor","getAllKeysIn","keysFunc","symbolsFunc","baseGetAllKeys","keysIn","getSymbolsIn","getMapData","map","type","data","getValue","get","pop","getSymbols","stubArray","isFlattenable","toKey","isObjectLike","isSymbol","isArrayLike","isArrayLikeObject","isLength","tag","start","omit","props","baseFlatten","depth","isStrict","basePickBy","basePick","includes","isCommon","valuesLength","outer","computed","valuesIndex","baseDifference","arguments","otherArgs","module","exports","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","l","i","createInterpolator","range","output","extrapolate","fun","arr","str","config","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","t","input","findRange","inputMin","inputMax","outputMin","outputMax","Infinity","interpolate","three","voidMainRegExp","expandShaderIncludes","source","match","include","chunk","ShaderChunk","assign","arguments$1","target","len","prop","epoch","Date","now","CACHE","WeakMap","createDerivedMaterial","baseMaterial","options","optionsHash","JSON","stringify","optionsJsonReplacer","getOptionsHash","cached","clone","distanceMaterialTpl","depthMaterialTpl","id","optionsHashesToIds","_idCtr","getIdForOptionsHash","privateDerivedShadersProp","privateBeforeCompileProp","onBeforeCompile","shaderInfo","ref","vertex","fragment","vertexShader","fragmentShader","upgraded","vertexDefs","vertexMainIntro","vertexMainOutro","vertexTransform","fragmentDefs","fragmentMainIntro","fragmentMainOutro","fragmentColorTransform","customRewriter","timeUniform","res","postChunks","join","code","match1","fullStr","substr","injectIntoShaderCode","upgradeShaders","uniforms","DerivedMaterial","_listeners","isDerivedMaterial","fn","copy","isShaderMaterial","extensions","defines","UniformsUtils","getDepthMaterial","depthMaterial","_depthMaterial","MeshDepthMaterial","depthPacking","RGBADepthPacking","IS_DEPTH_MATERIAL","getDistanceMaterial","distanceMaterial","_distanceMaterial","MeshDistanceMaterial","IS_DISTANCE_MATERIAL","dispose","material","shaderCode","defs","intro","outro","MATERIAL_TYPES_TO_SHADERS","MeshNormalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","ShaderFloatArray","name","textureUniform","textureSizeUniform","multiplierUniform","dataSizeUniform","readFunction","_raw","Float32Array","_texture","DataTexture","Uint8Array","_length","_multiplier","prototypeAccessors","configurable","encodeFloatToFourInts","startIndex","enc0","enc1","enc2","enc3","round","size","pow","ceil","log2","raw","subarray","setArray","_needsRepack","image","_needsMultCheck","getShaderUniforms","obj","me","_sync","width","getShaderHeaderCode","tex","needsRepack","height","maxVal","reduce","a","b","mult","needsUpdate","mult$1","defineProperties","geometry","defaultBaseMaterial","color","side","DoubleSide","BezierMesh","Mesh","getGeometry","pointA","Vector3","controlA","controlB","pointB","radius","dashArray","Vector2","dashOffset","frustumCulled","__proto__","customDepthMaterial","customDistanceMaterial","CylinderBufferGeometry","translate","derivedMaterial","_derivedMaterial","_baseMaterial","dashing","createBezierMeshMaterial","addEventListener","onDispose","removeEventListener","onBeforeRender","x","y","raycast","raycaster","intersects","getShaderUniformTypes","shader","uniformRE","getShadersForMaterial","builtinType","ShaderLib","factory","noop","defineHidden","writable","is","num","und","isEqual","isAnimatedString","each","cb","ctx","forEach","toArray","flush","queue","iterator","items","from","createStringInterpolator","to","frameLoop","performance","colorNames","skipAnimation","requestAnimationFrame","window","batchedUpdates","callback","willAdvance","globals","_a","defined","pluckDefined","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","_createForOfIteratorHelper","o","allowArrayLike","it","minLen","_arrayLikeToArray","slice","_unsupportedIterableToArray","F","s","done","_e","f","err","normalCompletion","didErr","step","next","_e2","return","arr2","defaults","tension","friction","mass","damping","clamp","AnimationConfig","frequency","velocity","restVelocity","precision","progress","duration","bounce","decay","sanitizeConfig","isTensionConfig","emptyArray","Animation","changed","toValues","fromValues","immediate","onStart","onChange","onRest","useMemo","deps","callProp","_len","_key","matchProp","getProps","getDefaultProp","default","getDefaultProps","omitKeys","DEFAULT_PROPS","_step","_iterator","RESERVED_PROPS","loop","reset","pause","cancel","reverse","delay","onDelayEnd","onProps","trail","sort","expires","initial","enter","update","leave","callId","parentId","inferTo","forward","count","getForwardProps","out","val","computeGoal","scheduleProps","_ref3","state","actions","Promise","resolve","reject","timeout","onPause","resumeQueue","onResume","time","pauseQueue","setTimeout","delete","cancelId","resume","getCombinedResult","results","some","cancelled","getCancelledResult","every","getNoopResult","getFinishedResult","finished","runAsync","_x","_x2","_x3","_x4","_runAsync","mark","_callee6","prevTo","prevPromise","wrap","_context6","prev","asyncTo","promise","abrupt","_callee5","defaultProps","preventBail","bail","bailPromise","bailIfEnded","animate","animating","_context5","asyncId","bailSignal","bailResult","onError","BailSignal","catch","withBailHandler","arg1","arg2","then","_ref15","_callee3","_context3","stop","_x7","_ref16","_callee4","_iterator2","_step2","_props2","_context4","t0","finish","_x8","bind","all","cancelAsync","_Error","_super","_this","Error","isFrameValue","FrameValue","nextId","_FluidValue","_super2","_this2","_len2","_key2","concat","_priority","_children","Set","node","_len3","_key3","_len4","_key4","child","_attach","_detach","_ref4","idle","_reset","_start","_emit","parent","priority","event","onParentChange","_onPriorityChange","ACTIVE","SpringValue","_FrameValue","_start2","_super3","_this3","animation","_phase","_state","_defaultProps","_lastCallId","_lastToId","dt","_this4","anim","payload","toConfig","lastPosition","position","elapsed","elapsedTime","v0","exp","abs","lastVelocity","min","bounceFactor","canBounce","isGrowing","numSteps","p","Number","isNaN","console","warn","setValue","_onChange","phase","_this5","_focus","_set","_stop","checkDisposed","_this6","_callee","_this7","_context","_update","sent","_x5","_x6","_this8","_ref5","_ref6","_updateNode","nodeType","_getNodeType","parentNode","isLoop","_this9","mergeDefaultProp","_prepareNode","_merge","nextProps","createLoopUpdate","hasToProp","hasFromProp","coerceEventProp","mergeDefaultProps","prevFrom","_range$to","_range$from","_ref7","hasFromChanged","hasToChanged","fromConfig","hasAsyncTo","newConfig","defaultConfig","PI","mergeConfig","goal","isAnimatable","goalType","started","hasValueChanged","getPayload","onRestQueue","checkFinishedOnRest","onRestIndex","_config","removeChild","addChild","oldValue","spring","loopRet","overrides","createUpdate","_props","findDefined","BATCHED_EVENTS","nextId$1","Controller","springs","_flush","_initialProps","_lastAsyncId","_active","_events","_onFrame","prepareKeys","flushUpdateQueue","_this10","_this$_events","isActive","_ref8","_ref9","onFrame","ctrl","flushUpdate","handler","_ref10","promises","hasDefaultProp","getSprings","prepareSprings","createSpring","setSprings","observer","SpringContext","_ref","Provider","Consumer","useSpringContext","SpringHandle","getControllers","_callee2","_context2","ENTER","useTransition","_props$trail","_props$expires","transitions","getKeys","usedTransitions","prevTransitions","current","expired","clearTimeout","expirationId","reused","indexOf","item","keyIndex","prevIndex","forceUpdate","changes","prevPhase","isLeave","_config2","find","expiry","expiryMs","context","api","_ref11","renderTransitions","render","elem","_ref13","_ref13$keys","Interpolation","_FrameValue2","_super4","_this11","calc","_get","_dt","inputs","advance","_this12","_this13","useLayoutEffect","document","createElement","$node","for","getAnimated","owner","setAnimated","Animated","AnimatedValue","_Animated","_value","_to","AnimatedString","_AnimatedValue","_string","_toString","TreeContext","AnimatedObject","_Animated2","animated","_makePayload","_addToPayload","dependencies","AnimatedArray","_AnimatedObject","_thisSuper","_makeAnimated","newValue","AnimatedProps","_AnimatedObject2","_super5","dirty","style","createAnimatedStyle","host","withAnimated","Component","rawProps","instanceRef","hasInstance","isReactComponent","applyAnimatedValues","dep","getComponentProps","updateRef","cacheKey","createHost","components","_ref2","_ref2$applyAnimatedVa","_ref2$createAnimatedS","_ref2$getComponentPro","hostConfig","displayName","getDisplayName","$config","getFluidValue","getFluidConfig","FluidValue","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","flat","depthArg","O","sourceLen","A","isCustomPropRE","dangerousStyleValue","isUnitlessNumber","trim","attributeCache","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","acc","prefix","charAt","toUpperCase","substring","prefixKey","domTransforms","pxTransforms","degTransforms","addUnit","unit","isValueIdentity","v","parseFloat","AnimatedStyle","z","transforms","xyz","deg","startsWith","FluidTransform","identity","_this2$transforms$i","_this2$transforms$i2","setAttribute","isFilterElement","nodeName","scrollTop","scrollLeft","attributes","names","hasAttribute","toLowerCase","onWrite","textContent","setProperty","ResizeObserverBoxOptions","resizeObservers","msg","trigger","DOMRectReadOnly","top","left","bottom","right","freeze","toJSON","fromRect","rectangle","isSVG","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","isElement","scope","ownerDocument","defaultView","Element","scrollRegexp","verticalRegexp","IE","navigator","userAgent","parseDimension","pixel","inlineSize","blockSize","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","forceRecalculation","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","devicePixelRatio","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","shallowestDepth","callbacks","ro","activeTargets","ot","targetDepth","lastReportedSize","_i","callbacks_1","skippedTargets","observationTargets","ErrorEvent","message","createEvent","initEvent","dispatchEvent","queueMicroTask","toggle_1","el_1","createTextNode","MutationObserver","observe","characterData","watching","observerConfig","childList","subtree","events","scheduled","scheduler","Scheduler","stopped","listener","schedule","run","until","elementsHaveResized","body","disconnect","updateCount","ResizeObservation","CONTENT_BOX","tagName","isReplacedElement","display","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","connect","detail","firstObservation","box","unobserve","lastObservation","ResizeObserver","asyncGeneratorStep","gen","_next","_throw","info","error","_asyncToGenerator","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_inherits","subClass","superClass","refs","Stats","h","c","appendChild","dom","k","d","cssText","preventDefault","g","r","Panel","memory","REVISION","addPanel","showPanel","begin","end","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","u","m","q","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","drawImage","MessageChannel","unstable_now","unstable_forceFrameRate","w","cancelAnimationFrame","B","C","D","E","G","floor","H","I","port2","port1","onmessage","postMessage","J","K","L","M","sortIndex","N","P","Q","R","S","T","U","V","startTime","expirationTime","W","X","priorityLevel","Y","Z","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","unstable_shouldYield","unstable_wrapCallback","addToUnscopables","Parent","Class","setPrototypeOf","vector","GLTFLoader","manager","dracoLoader","ddsLoader","ktx2Loader","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFRegistry","objects","remove","removeAll","load","url","onLoad","onProgress","resourcePath","path","extractUrlBase","itemStart","_onError","itemError","itemEnd","loader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","parse","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","unregister","content","plugins","decodeText","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","asset","version","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","uses","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","_loadLight","lightIndex","dependency","lightNode","lightDef","lights","fromArray","distance","spot","innerConeAngle","outerConeAngle","angle","penumbra","intensity","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","materialIndex","materials","extendMaterialParams","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","scale","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","loadTexture","textureIndex","textureDef","textures","images","loadTextureImage","BINARY_EXTENSION_CHUNK_TYPES","headerView","DataView","header","magic","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","preload","GLTFMeshStandardSGMaterial","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","fog","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","getDependency","decodeDracoFile","attribute","extendTexture","texture","rotation","repeat","texCoord","copySampleValue_","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t1","stride","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","WEBGL_CONSTANTS","5120","Int8Array","5121","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","WEBGL_FILTERS","9728","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","STEP","ALPHA_MODES","resolveURL","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","mesh","meshDef","il","morphTargetInfluences","targetNames","morphTargetDictionary","createAttributesKey","attributesKey","associations","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","createImageBitmap","textureLoader","setCrossOrigin","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","accessorIndex","accessor","gltfAttributeName","indices","setIndex","targets","maxDisplacement","setX","setY","setZ","expandByVector","boundingBox","sphere","getCenter","center","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","normal","morphPositions","morphNormals","morphAttributes","morphTargetsRelative","addMorphTargets","toTrianglesDrawMode","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","getX","newGeometry","_invokeAll","ext","getDependencies","scene","scenes","animations","cameras","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","camera","_invokeOne","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","def","bufferIndex","bufferDef","buffers","uri","bufferViewDef","bufferViews","buffer","sparse","pendingBufferViews","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","byteStride","ibSlice","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setW","textureExtensions","getHandler","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","mimeType","colorType","getUint8","blob","Blob","createObjectURL","isImageBitmapLoader","imageBitmap","revokeObjectURL","flipY","format","sampler","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","lineMaterial","cachedMaterial","skinning","vertexTangents","vertexColors","flatShading","morphTargets","uv2","uv","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","alphaMode","transparent","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","originalName","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","dracoExtension","geometryPromise","mode","meshIndex","depthTest","geometries","skinWeight","normalizeSkinWeights","group","cameraIndex","cameraDef","radToDeg","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","parameters","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","targetName","interpolation","traverse","isMesh","outputArray","scaled","j","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","matrix","applyMatrix4","quaternion","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","matrixWorld","sceneIndex","sceneDef","nodeIds","isLineSegmentsGeometry","instanceStart","instanceEnd","computeBoundingBox","computeBoundingSphere","setPositions","lineSegments","instanceBuffer","setColors","colors","instanceColorBuffer","fromWireframeGeometry","fromEdgesGeometry","fromMesh","fromLineSegments","isGeometry","vertices","isBufferGeometry","setFromBufferAttribute","union","maxRadiusSq","fromBufferAttribute","distanceToSquared","sqrt","applyMatrix","isLineGeometry","points","fromLine","line","linewidth","resolution","dashScale","dashSize","gapSize","merge","common","clipping","dashed","diffuse","isLineMaterial","random","isLineSegments2","computeLineDistances","lineDistances","instanceDistanceBuffer","ssOrigin","ssOrigin3","mvMatrix","closestPoint","threshold","Line2","ray","projectionMatrix","lineWidth","at","matrixWorldInverse","multiplyScalar","multiplyMatrices","isBehindCameraNear","isPastCameraFar","param","closestPointToPointParameter","zPos","lerp","isInClipSpace","isInside","pointOnLine","point","distanceSqToSegment","origin","face","faceIndex","isLine2","changeEvent","reorder","enabled","deviceOrientation","screenOrientation","alphaOffset","zee","euler","q0","q1","lastQuaternion","onDeviceOrientationChangeEvent","onScreenOrientationChangeEvent","orientation","setObjectQuaternion","alpha","beta","gamma","orient","setFromEuler","multiply","setFromAxisAngle","DeviceOrientationEvent","requestPermission","response","device","degToRad","dot","movementSpeed","rollSpeed","dragToLook","autoForward","contextmenu","tmpQuaternion","mouseStatus","moveState","up","down","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","rotationVector","keydown","altKey","keyCode","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","mousedown","focus","stopPropagation","button","mousemove","container","getContainerDimensions","halfWidth","halfHeight","pageX","pageY","mouseup","delta","moveMult","rotMult","translateX","translateY","translateZ","normalize","offsetLeft","offsetTop","innerWidth","innerHeight","_mousedown","_mousemove","_mouseup","_keydown","_keyup","quat","quatInverse","twoPI","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TWO","DOLLY_PAN","target0","position0","zoom0","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","updateProjectionMatrix","STATE","NONE","setFromUnitVectors","inverse","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","lookAt","zoomChanged","EPS","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onPointerMove","onPointerUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","isOrthographicCamera","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","dx","dy","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","pointerType","mouseAction","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","handleMouseWheel","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","tabIndex","screen","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","ZOOM","lastZoom","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","up0","handleResize","getBoundingClientRect","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","axis","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","getMouseOnScreen","getMouseOnCircle","mousewheel","deltaMode","touchstart","touchmove","touchend","rotateCamera","setLength","zoomCamera","factor","panCamera","lengthSq","scale_x","scale_y","cross","checkDistances","addVectors","visible","_gizmo","_plane","mouseDownEvent","mouseUpEvent","objectChangeEvent","intersectObjectWithRay","includeInvisible","allIntersections","intersectObject","_tempVector","_tempVector2","_tempQuaternion","_unit","pointStart","pointEnd","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","getPointer","pointerLockElement","pointer","changedTouches","rect","onPointerHover","pointerHover","touchAction","pointerDown","pointerMove","pointerUp","attach","detach","updateMatrixWorld","decompose","dragging","setFromCamera","intersect","picker","planeIntersect","space","snap","rotationSnap","divide","translationSnap","search","setFromMatrixPosition","scaleSnap","ROTATION_SPEED","angleTo","getMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSize","setSpace","isTransformControls","gizmoMaterial","toneMapped","gizmoLineMaterial","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","CircleGeometry","arc","cos","sin","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","gizmoRotate","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tempGeometry","renderOrder","tempVector","tempEuler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","handle","setFromRotationMatrix","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","split","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","isLocked","direction","lockEvent","unlockEvent","PI_2","vec","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","setFromQuaternion","onPointerlockChange","onPointerlockError","getObject","getDirection","moveForward","moveRight","lock","requestPointerLock","unlock","exitPointerLock","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","setDecoderPath","setDecoderConfig","setWorkerLimit","setVerbosity","setDrawMode","setSkipDequantization","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","worker","taskKey","taskCache","cachedTask","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","_createGeometry","_releaseTask","geometryData","_loadLibrary","responseType","_initDecoder","useJS","WebAssembly","librariesPending","libraries","jsContent","wasmBinary","DRACOWorker","lastIndexOf","Worker","_taskCosts","_taskLoad","debug","log","terminate","decodeAttribute","draco","decoder","dracoGeometry","attributeType","numComponents","num_components","numValues","num_points","dataType","DT_FLOAT32","DT_INT8","DT_INT16","Int32Array","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","getDracoDataType","ptr","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","_free","onModuleLoaded","DracoDecoderModule","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","error_msg","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numIndices","num_faces","GetTrianglesUInt32Array","decodeIndex","destroy","attr","releaseDecoderModule","getDecoderModule","mod","aa","execScript","shift","POSITIVE_INFINITY","bufferSize","bufferType","resize","ba","ca","fa","da","ea","ga","verify","ha","method","charCodeAt","ia","ADAPTIVE","BLOCK","Inflate","Zlib","NURBSUtils","findSpan","low","high","mid","calcBasisFunctions","span","saved","rv","lv","temp","calcBSplinePoint","Nj","wNj","calcBasisFunctionDerivatives","zeroArr","ders","ndu","rk","pk","j2","calcBSplineDerivatives","nd","du","CK","nders","Pw","calcKoverI","nom","denom","calcRationalCurveDerivatives","Pders","Aders","wders","divideScalar","calcNURBSDerivatives","calcSurfacePoint","uspan","vspan","Nu","Nv","Sw","degree","knots","controlPoints","startKnot","endKnot","getPoint","optionalTarget","hpoint","getTangent","fbxTree","connections","sceneGraph","FBXLoader","FBXTreeParser","GeometryParser","AnimationParser","TextParser","BinaryParser","BinaryReader","littleEndian","dv","FBXTree","getFbxVersion","text","parseInt","convertFBXTimeToSeconds","FBXBuffer","CORRECT","convertArrayBufferToString","FBXText","cursor","isFbxFormatASCII","parseConnections","parseImages","parseTextures","parseMaterials","deformers","parseDeformers","geometryMap","parseScene","connectionMap","Connections","rawConnection","fromID","toID","relationship","parents","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","ArrayBuffer","base64Content","parseImage","filename","fileName","textureMap","textureNodes","Texture","parseTexture","textureNode","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","Scaling","currentPath","FileName","materialMap","materialNodes","Material","parseMaterial","materialNode","ShadingModel","parseParameters","BumpFactor","Diffuse","DiffuseColor","DisplacementFactor","Emissive","EmissiveColor","EmissiveFactor","Opacity","ReflectionFactor","reflectivity","Shininess","shininess","Specular","SpecularColor","getTexture","mapping","LayeredTexture","skeletons","DeformerNodes","Deformer","deformerNode","relationships","attrType","skeleton","parseSkeleton","geometryID","morphTarget","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","transformLink","TransformLink","Indexes","Weights","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","filter","modelMap","parseModels","modelNodes","Model","model","modelNode","setLookAtProperties","connection","bindSkeleton","createAmbientLight","setupMorphMaterials","transformData","parentMatrixWorld","generateTransform","isGroup","buildSkeleton","createCamera","createLight","createMesh","createCurve","getTransformData","bone","subBone","cameraAttribute","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","AspectWidth","AspectHeight","aspect","FieldOfView","focalLength","FocalLength","setFocalLength","lightAttribute","LightType","Color","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","OuterAngle","CastShadows","castShadow","FBX_Deformer","geo","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","Lcl_Translation","preRotation","PreRotation","Lcl_Rotation","postRotation","PostRotation","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","pos","bindMatrices","parsePoseNodes","geoConnParent","BindPoseNode","Pose","poseNodes","PoseNode","poseNode","Node","Matrix","GlobalSettings","ambientColor","AmbientColor","setupMorphMaterial","matUuid","sharedMat","clonedMat","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","genBuffers","positionAttribute","weightsIndices","vertexWeights","normalMatrix","getNormalMatrix","normalAttribute","applyNormalMatrix","uvs","uvBuffer","mappingType","prevMaterialIndex","currentIndex","addGroup","groups","lastGroup","lastIndex","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","UV","parseUVs","weightTable","weight","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","currentWeight","comparedWeight","comparedWeightIndex","comparedWeightArray","tmp","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","Order","KnotVector","pointsValues","Points","Form","getPoints","positions","animationClips","rawClips","parseClips","rawClip","clip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","curves","rawCurves","animationCurve","KeyTime","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","morph","deformerID","morpherID","morphName","rawStacks","AnimationStack","layer","rawTracks","generateTracks","positionTrack","generateVectorTrack","rotationTrack","generateRotationTrack","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","quaternionValues","premultiply","morphNum","getObjectByName","prevValue","xIndex","yIndex","xValue","yValue","zValue","curve","valuesSpan","absoluteSpan","numSubIntervals","nextValue","initialTime","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","matchComment","matchEmpty","matchBeginning","matchProperty","matchEnd","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","property","nodeAttrs","attrs","parseNodeAttr","currentNode","contentLine","connProps","rest","append","parseNumberArray","parseNodeSpecialProperty","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","reader","skip","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getArrayBuffer","getInt16","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","reader2","decompress","nullByte","dataArray","infoObject","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lGlobalT","setPosition","makeRotationFromEuler","lLRM","lParentGRM","extractRotation","copyPosition","lParentGSM","getInverse","lGlobalRS","lParentLSM_inv","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","a1","a2","createState","listeners","setState","partial","nextState","getState","subscribe","selector","equalityFn","currentSlice","listenerToAdd","newStateSlice","subscribeWithSelector","useIsoLayoutEffect","useStore","_useReducer","_useReducer2","stateRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","unsubscribe","Reflector","textureWidth","textureHeight","clipBias","ReflectorShader","reflectorPlane","reflectorWorldPosition","cameraWorldPosition","rotationMatrix","lookAtPosition","clipPlane","view","textureMatrix","virtualCamera","renderTarget","isPowerOfTwo","generateMipmaps","renderer","reflect","negate","far","setFromNormalAndCoplanarPoint","constant","sign","elements","outputEncoding","currentRenderTarget","getRenderTarget","currentXrEnabled","xr","currentShadowAutoUpdate","shadowMap","autoUpdate","setRenderTarget","setMask","autoClear","viewport","SimplifyModifier","ab","removeFromArray","computeEdgeCollapseCost","sideFace","edgelength","curvature","sideFaces","faces","hasVertex","minCurvature","dotProd","computeEdgeCostAtVertex","neighbors","collapseNeighbor","collapseCost","minCost","totalCost","costCount","removeVertex","assert","removeFace","v1","v2","v3","vs","removeIfNonNeighbor","collapse","tmpVertices","replaceVertex","minimumCostEdge","least","Triangle","computeNormal","addUniqueNeighbor","Vertex","vA","vB","vC","oldv","newv","modify","fromBufferGeometry","mergeVertices","nextVertex","oldVertices","oldFaces","triangle","simplifiedGeometry","SubdivisionModifier","subdivisions","repeats","smooth","computeFaceNormals","computeVertexNormals","ABC","getEdge","processEdge","metaVertices","edge","vertexIndexA","vertexIndexB","newEdge","edges","newFace","newFaces","midpoint","newUv","newUvs","oldUvs","newVertices","sourceEdges","newEdgeVertices","newSourceVertices","newUVs","currentEdge","edgeVertexWeight","adjacentVertexWeight","connectedFaces","sourceVertexWeight","connectingVertexWeight","connectingEdge","connectingEdges","oldVertex","newSourceVertex","hasUvs","faceVertexUvs","generateLookups","edge1","edge2","edge3","x0","x1","x2","sl","x3","x4","x5","TessellateModifier","maxEdgeLength","maxEdgeLengthSquared","va","vb","vc","dab","dbc","dac","triA","triB","vm","vertexNormals","vnm","vcm","uvA","uvB","uvC","uvM","uvsTriA","uvsTriB","Sky","SkyShader","El","loaded","total","active","errors","deployed","Logo","useRef","useLoader","logoModel","useState","hovered","setHover","setActive","useFrame","clock","getElapsedTime","Curve001","onClick","onPointerOver","onPointerOut","shadowmap_pars_fragment","_ref10$frustrum","frustrum","_ref10$size","_ref10$near","near","_ref10$samples","samples","_ref10$rings","rings","pcss","softShadows","Hero","sRGB","shadow-mapSize-width","shadow-mapSize-height","shadow-camera-far","shadow-camera-left","shadow-camera-right","shadow-camera-top","shadow-camera-bottom","fallback","receiveShadow","IndexPage","marginBottom","receiver","base","desc","getOwnPropertyDescriptor","_toArray","_e3","_r","_o","lifespan","_len6","_key6","_len7","_key7","peek","_len8","_key8","BespokeThenable","completeCalled","oneTime","complete","reason","st","ignoreThrow","thenableObj","recursiveError","valThen","getThenableThen","scheduleQueueFlush","flushQueue","callIt","isFn","called","onResolve","onReject","nextThenable","resultThen","NativePromiseThenable","rej","resultCount","DefaultThenable","itemThenable","workerBootstrap","modules","rehydrate","troikaDefine","importScripts","messageId","action","registerModule","init","getTransferables","isWorkerModule","depResult","noLog","success","isCallable","ref$1","handleResult","tx","callModule","transferables","stack","_supportsWorkers","supported","_workerModuleId","_messageId","_allowInitAsString","workers","openRequests","defineWorkerModule","workerId","moduleFunc","_getInitResult","initResult","initThenable","defineMainThreadModule","registrationThenable","callWorker","workerModuleData","stringifyFunction","thenable","_count","bootstrap","msgId","getWorker","ThenableWorkerModule","Thenable","_slicedToArray","isAndroidDevice","iOSDevice","platform","maxTouchPoints","MSStream","isTablet","isMobile","browser","_D","_A","_n","rank","_a2","_A2","_e4","_n2","getGPUTier","_ref$mobileBenchmarkP","mobileBenchmarkPercentages","_ref$desktopBenchmark","desktopBenchmarkPercentages","_ref$forceRendererStr","forceRendererString","_ref$forceMobile","forceMobile","glContext","_ref$failIfMajorPerfo","failIfMajorPerformanceCaveat","tier","_e5","antialias","powerPreference","stencil","WebGLRenderingContext","getExtension","getParameter","UNMASKED_RENDERER_WEBGL","arrayLikeToArray","equal","flags","valueOf","flagInterpolate","deprecateInterpolate","useOnce","effect","useForceUpdate","unmounted","usePrev","prevRef","FrameLoop","raf","writing","lastTime","startQueue","frameQueue","writeQueue","findIndex","kickoff","timeoutQueue","ms","dt_1","write","_getPrototypeOf","useMeasure","debounce","scroll","debounce$1","polyfill","_useState","_useState2","bounds","scrollContainers","lastBounds","scrollDebounce","resizeDebounce","_useMemo","_state$current$elemen","areBoundsEqual","_useMemo2","forceRefresh","resizeChange","scrollChange","removeListeners","addListeners","scrollContainer","capture","passive","findScrollContainers","useOnWindowScroll","Boolean","useOnWindowResize","onWindowResize","onScroll","_window$getComputedSt","overflow","parentElement","pick","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","_assign","NUMBER","parts","rgb","rgba","hsl","hsla","hex3","hex4","hex6","hex8","hslToRgb","hue2rgb","R1","G1","B1","parse255","int","parse360","parse1","parsePercentage","colorToRgba","int32Color","colorNamesRegex","numberRegex","colorRegex","rgbaRegex","rgbaRound","_","p2","p3","p4","keyframes","interpolators","_cache","Wrapper","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","async","iter","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_arr","_d","_s","useMemoOne","getResult","committed","newInputs","lastInputs","areInputsEqual","useCallbackOne","_possibleConstructorReturn","original","mapper","targetIndex","sourceIndex","mapFn","_setPrototypeOf","wait","timestamp","later","last","debounced","callNow","on","once","off","emit","evtArr","evts","liveEvents","TinyEmitter"],"mappings":"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","file":"component---src-pages-index-js-4429f7e48590a47641a1.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n/** Used as references for various `Number` constants. */\n\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\n\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to detect host constructors (Safari). */\n\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used to detect unsigned integer values. */\n\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\n\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\n\n\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\n\n\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\n\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\n\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while (fromRight ? index-- : ++index < length) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\n\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\n\n\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\n\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\n\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\n\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\n\n\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n\n  return result;\n}\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n/** Used for built-in method references. */\n\n\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n/** Used to detect overreaching core-js shims. */\n\nvar coreJsData = root['__core-js_shared__'];\n/** Used to detect methods masquerading as native. */\n\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n/** Used to resolve the decompiled source of functions. */\n\n\nvar funcToString = funcProto.toString;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/** Used to detect if a method is native. */\n\nvar reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n/** Built-in value references. */\n\nvar Symbol = root.Symbol,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeMax = Math.max;\n/* Built-in method references that are verified to be native. */\n\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\n\n\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction hashGet(key) {\n  var data = this.__data__;\n\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\n\n\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n  return this;\n} // Add methods to `Hash`.\n\n\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\n\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n\n  var lastIndex = data.length - 1;\n\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n\n  return true;\n}\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n  return index < 0 ? undefined : data[index][1];\n}\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\n\n\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n\n  return this;\n} // Add methods to `ListCache`.\n\n\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\n\n\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash(),\n    'map': new (Map || ListCache)(),\n    'string': new Hash()\n  };\n}\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\n\n\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n} // Add methods to `MapCache`.\n\n\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\n\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n  this.__data__ = new MapCache();\n\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\n\n\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n\n  return this;\n}\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\n\n\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n} // Add methods to `SetCache`.\n\n\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\n\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n\n  return -1;\n}\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\n\n\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  } else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n\n  outer: while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n    value = comparator || value !== 0 ? value : 0;\n\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n\n      result.push(value);\n    } else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\n\n\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n\n  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\n\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function (value, key) {\n    return key in object;\n  });\n}\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\n\n\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\n\n\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\n\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {\n  var result = [];\n\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n\n  return result;\n};\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\n\n\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\n\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\n\n\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\n\n\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n}\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\n\nfunction nativeKeysIn(object) {\n  var result = [];\n\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\n\n\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\n\n\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n\n  return '';\n}\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\n\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\n\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\n\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\n\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\n\n\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable string keyed properties of `object` that are\n * not omitted.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\n\n\nvar omit = baseRest(function (object, props) {\n  if (object == null) {\n    return {};\n  }\n\n  props = arrayMap(baseFlatten(props, 1), toKey);\n  return basePick(object, baseDifference(getAllKeysIn(object), props));\n});\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = omit;","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import * as G from './globals';\nimport { is } from './helpers';\nexport var createInterpolator = function createInterpolator(range, output, extrapolate) {\n  if (is.fun(range)) {\n    return range;\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range: range,\n      output: output,\n      extrapolate: extrapolate\n    });\n  }\n\n  if (is.str(range.output[0])) {\n    return G.createStringInterpolator(range);\n  }\n\n  var config = range;\n  var outputRange = config.output;\n  var inputRange = config.range || [0, 1];\n  var extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  var extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  var easing = config.easing || function (t) {\n    return t;\n  };\n\n  return function (input) {\n    var range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  var result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) break;\n  }\n\n  return i - 1;\n}","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('three')) : typeof define === 'function' && define.amd ? define(['exports', 'three'], factory) : (global = global || self, factory(global.troika_three_utils = {}, global.THREE));\n})(this, function (exports, three) {\n  'use strict';\n  /**\n   * Regular expression for matching the `void main() {` opener line in GLSL.\n   * @type {RegExp}\n   */\n\n  var voidMainRegExp = /\\bvoid\\s+main\\s*\\(\\s*\\)\\s*{/g;\n  /**\n   * Recursively expands all `#include <xyz>` statements within string of shader code.\n   * Copied from three's WebGLProgram#parseIncludes for external use.\n   *\n   * @param {string} source - The GLSL source code to evaluate\n   * @return {string} The GLSL code with all includes expanded\n   */\n\n  function expandShaderIncludes(source) {\n    var pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n    function replace(match, include) {\n      var chunk = three.ShaderChunk[include];\n      return chunk ? expandShaderIncludes(chunk) : match;\n    }\n\n    return source.replace(pattern, replace);\n  } // Local assign polyfill to avoid importing troika-core\n\n\n  var assign = Object.assign || function ()\n  /*target, ...sources*/\n  {\n    var arguments$1 = arguments;\n    var target = arguments[0];\n\n    for (var i = 1, len = arguments.length; i < len; i++) {\n      var source = arguments$1[i];\n\n      if (source) {\n        for (var prop in source) {\n          if (source.hasOwnProperty(prop)) {\n            target[prop] = source[prop];\n          }\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var epoch = Date.now();\n  var CACHE = new WeakMap(); //threejs requires WeakMap internally so should be safe to assume support\n\n  /**\n   * A utility for creating a custom shader material derived from another material's\n   * shaders. This allows you to inject custom shader logic and transforms into the\n   * builtin ThreeJS materials without having to recreate them from scratch.\n   *\n   * @param {THREE.Material} baseMaterial - the original material to derive from\n   *\n   * @param {Object} options - How the base material should be modified.\n   * @param {Object} options.defines - Custom `defines` for the material\n   * @param {Object} options.extensions - Custom `extensions` for the material, e.g. `{derivatives: true}`\n   * @param {Object} options.uniforms - Custom `uniforms` for use in the modified shader. These can\n   *        be accessed and manipulated via the resulting material's `uniforms` property, just like\n   *        in a ShaderMaterial. You do not need to repeat the base material's own uniforms here.\n   * @param {String} options.timeUniform - If specified, a uniform of this name will be injected into\n   *        both shaders, and it will automatically be updated on each render frame with a number of\n   *        elapsed milliseconds. The \"zero\" epoch time is not significant so don't rely on this as a\n   *        true calendar time.\n   * @param {String} options.vertexDefs - Custom GLSL code to inject into the vertex shader's top-level\n   *        definitions, above the `void main()` function.\n   * @param {String} options.vertexMainIntro - Custom GLSL code to inject at the top of the vertex\n   *        shader's `void main` function.\n   * @param {String} options.vertexMainOutro - Custom GLSL code to inject at the end of the vertex\n   *        shader's `void main` function.\n   * @param {String} options.vertexTransform - Custom GLSL code to manipulate the `position`, `normal`,\n   *        and/or `uv` vertex attributes. This code will be wrapped within a standalone function with\n   *        those attributes exposed by their normal names as read/write values.\n   * @param {String} options.fragmentDefs - Custom GLSL code to inject into the fragment shader's top-level\n   *        definitions, above the `void main()` function.\n   * @param {String} options.fragmentMainIntro - Custom GLSL code to inject at the top of the fragment\n   *        shader's `void main` function.\n   * @param {String} options.fragmentMainOutro - Custom GLSL code to inject at the end of the fragment\n   *        shader's `void main` function. You can manipulate `gl_FragColor` here but keep in mind it goes\n   *        after any of ThreeJS's color postprocessing shader chunks (tonemapping, fog, etc.), so if you\n   *        want those to apply to your changes use `fragmentColorTransform` instead.\n   * @param {String} options.fragmentColorTransform - Custom GLSL code to manipulate the `gl_FragColor`\n   *        output value. Will be injected near the end of the `void main` function, but before any\n   *        of ThreeJS's color postprocessing shader chunks (tonemapping, fog, etc.), and before the\n   *        `fragmentMainOutro`.\n   * @param {function<{vertexShader,fragmentShader}>:{vertexShader,fragmentShader}} options.customRewriter - A function\n   *        for performing custom rewrites of the full shader code. Useful if you need to do something\n   *        special that's not covered by the other builtin options. This function will be executed before\n   *        any other transforms are applied.\n   *\n   * @return {THREE.Material}\n   *\n   * The returned material will also have two new methods, `getDepthMaterial()` and `getDistanceMaterial()`,\n   * which can be called to get a variant of the derived material for use in shadow casting. If the\n   * target mesh is expected to cast shadows, then you can assign these to the mesh's `customDepthMaterial`\n   * (for directional and spot lights) and/or `customDistanceMaterial` (for point lights) properties to\n   * allow the cast shadow to honor your derived shader's vertex transforms and discarded fragments. These\n   * will also set a custom `#define IS_DEPTH_MATERIAL` or `#define IS_DISTANCE_MATERIAL` that you can look\n   * for in your derived shaders with `#ifdef` to customize their behavior for the depth or distance\n   * scenarios, e.g. skipping antialiasing or expensive shader logic.\n   */\n\n  function createDerivedMaterial(baseMaterial, options) {\n    // First check the cache to see if we've already derived from this baseMaterial using\n    // this unique set of options, and if so just return a clone instead of a new subclass\n    // which is faster and allows their shader program to be shared when rendering.\n    var optionsHash = getOptionsHash(options);\n    var cached = CACHE.get(baseMaterial);\n\n    if (!cached) {\n      cached = Object.create(null);\n      CACHE.set(baseMaterial, cached);\n    }\n\n    if (cached[optionsHash]) {\n      return cached[optionsHash].clone();\n    } // Even if baseMaterial is changing, use a consistent id in shader rewrites based on the\n    // optionsHash. This makes it more likely that deriving from base materials of the same\n    // type/class, e.g. multiple instances of MeshStandardMaterial, will produce identical\n    // rewritten shader code so they can share a single WebGLProgram behind the scenes.\n\n\n    var id = getIdForOptionsHash(optionsHash);\n    var privateDerivedShadersProp = \"_derivedShaders\" + id;\n    var privateBeforeCompileProp = \"_onBeforeCompile\" + id;\n    var distanceMaterialTpl, depthMaterialTpl; // Private onBeforeCompile handler that injects the modified shaders and uniforms when\n    // the renderer switches to this material's program\n\n    function onBeforeCompile(shaderInfo) {\n      baseMaterial.onBeforeCompile.call(this, shaderInfo); // Upgrade the shaders, caching the result\n\n      var ref = this[privateDerivedShadersProp] || (this[privateDerivedShadersProp] = {\n        vertex: {},\n        fragment: {}\n      });\n      var vertex = ref.vertex;\n      var fragment = ref.fragment;\n\n      if (vertex.source !== shaderInfo.vertexShader || fragment.source !== shaderInfo.fragmentShader) {\n        var upgraded = upgradeShaders(shaderInfo, options, id);\n        vertex.source = shaderInfo.vertexShader;\n        vertex.result = upgraded.vertexShader;\n        fragment.source = shaderInfo.fragmentShader;\n        fragment.result = upgraded.fragmentShader;\n      } // Inject upgraded shaders and uniforms into the program\n\n\n      shaderInfo.vertexShader = vertex.result;\n      shaderInfo.fragmentShader = fragment.result;\n      assign(shaderInfo.uniforms, this.uniforms); // Inject auto-updating time uniform if requested\n\n      if (options.timeUniform) {\n        shaderInfo.uniforms[options.timeUniform] = {\n          get value() {\n            return Date.now() - epoch;\n          }\n\n        };\n      } // Users can still add their own handlers on top of ours\n\n\n      if (this[privateBeforeCompileProp]) {\n        this[privateBeforeCompileProp](shaderInfo);\n      }\n    }\n\n    function DerivedMaterial() {\n      baseMaterial.constructor.apply(this, arguments);\n      this._listeners = undefined; //don't inherit EventDispatcher listeners\n    }\n\n    DerivedMaterial.prototype = Object.create(baseMaterial, {\n      constructor: {\n        value: DerivedMaterial\n      },\n      isDerivedMaterial: {\n        value: true\n      },\n      baseMaterial: {\n        value: baseMaterial\n      },\n      onBeforeCompile: {\n        get: function get() {\n          return onBeforeCompile;\n        },\n        set: function set(fn) {\n          this[privateBeforeCompileProp] = fn;\n        }\n      },\n      copy: {\n        value: function value(source) {\n          baseMaterial.copy.call(this, source);\n\n          if (!baseMaterial.isShaderMaterial && !baseMaterial.isDerivedMaterial) {\n            this.extensions = assign({}, source.extensions);\n            this.defines = assign({}, source.defines);\n            this.uniforms = three.UniformsUtils.clone(source.uniforms);\n          }\n\n          return this;\n        }\n      },\n\n      /**\n       * Utility to get a MeshDepthMaterial that will honor this derived material's vertex\n       * transformations and discarded fragments.\n       */\n      getDepthMaterial: {\n        value: function value() {\n          var depthMaterial = this._depthMaterial;\n\n          if (!depthMaterial) {\n            if (!depthMaterialTpl) {\n              depthMaterialTpl = createDerivedMaterial(baseMaterial.isDerivedMaterial ? baseMaterial.getDepthMaterial() : new three.MeshDepthMaterial({\n                depthPacking: three.RGBADepthPacking\n              }), options);\n              depthMaterialTpl.defines.IS_DEPTH_MATERIAL = '';\n            }\n\n            depthMaterial = this._depthMaterial = depthMaterialTpl.clone();\n            depthMaterial.uniforms = this.uniforms; //automatically recieve same uniform values\n          }\n\n          return depthMaterial;\n        }\n      },\n\n      /**\n       * Utility to get a MeshDistanceMaterial that will honor this derived material's vertex\n       * transformations and discarded fragments.\n       */\n      getDistanceMaterial: {\n        value: function value() {\n          var distanceMaterial = this._distanceMaterial;\n\n          if (!distanceMaterial) {\n            if (!distanceMaterialTpl) {\n              distanceMaterialTpl = createDerivedMaterial(baseMaterial.isDerivedMaterial ? baseMaterial.getDistanceMaterial() : new three.MeshDistanceMaterial(), options);\n              distanceMaterialTpl.defines.IS_DISTANCE_MATERIAL = '';\n            }\n\n            distanceMaterial = this._distanceMaterial = distanceMaterialTpl.clone();\n            distanceMaterial.uniforms = this.uniforms; //automatically recieve same uniform values\n          }\n\n          return distanceMaterial;\n        }\n      },\n      dispose: {\n        value: function value() {\n          var ref = this;\n          var _depthMaterial = ref._depthMaterial;\n          var _distanceMaterial = ref._distanceMaterial;\n\n          if (_depthMaterial) {\n            _depthMaterial.dispose();\n          }\n\n          if (_distanceMaterial) {\n            _distanceMaterial.dispose();\n          }\n\n          baseMaterial.dispose.call(this);\n        }\n      }\n    });\n    var material = new DerivedMaterial();\n    material.copy(baseMaterial); // Merge uniforms, defines, and extensions\n\n    material.uniforms = assign(three.UniformsUtils.clone(baseMaterial.uniforms || {}), options.uniforms);\n    material.defines = assign({}, baseMaterial.defines, options.defines);\n    material.defines[\"TROIKA_DERIVED_MATERIAL_\" + id] = ''; //force a program change from the base material\n\n    material.extensions = assign({}, baseMaterial.extensions, options.extensions);\n    cached[optionsHash] = material;\n    return material.clone(); //return a clone so changes made to it don't affect the cached object\n  }\n\n  function upgradeShaders(ref, options, id) {\n    var vertexShader = ref.vertexShader;\n    var fragmentShader = ref.fragmentShader;\n    var vertexDefs = options.vertexDefs;\n    var vertexMainIntro = options.vertexMainIntro;\n    var vertexMainOutro = options.vertexMainOutro;\n    var vertexTransform = options.vertexTransform;\n    var fragmentDefs = options.fragmentDefs;\n    var fragmentMainIntro = options.fragmentMainIntro;\n    var fragmentMainOutro = options.fragmentMainOutro;\n    var fragmentColorTransform = options.fragmentColorTransform;\n    var customRewriter = options.customRewriter;\n    var timeUniform = options.timeUniform;\n    vertexDefs = vertexDefs || '';\n    vertexMainIntro = vertexMainIntro || '';\n    vertexMainOutro = vertexMainOutro || '';\n    fragmentDefs = fragmentDefs || '';\n    fragmentMainIntro = fragmentMainIntro || '';\n    fragmentMainOutro = fragmentMainOutro || ''; // Expand includes if needed\n\n    if (vertexTransform || customRewriter) {\n      vertexShader = expandShaderIncludes(vertexShader);\n    }\n\n    if (fragmentColorTransform || customRewriter) {\n      // We need to be able to find postprocessing chunks after include expansion in order to\n      // put them after the fragmentColorTransform, so mark them with comments first. Even if\n      // this particular derivation doesn't have a fragmentColorTransform, other derivations may,\n      // so we still mark them.\n      fragmentShader = fragmentShader.replace(/^[ \\t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm, '\\n//!BEGIN_POST_CHUNK $1\\n$&\\n//!END_POST_CHUNK\\n');\n      fragmentShader = expandShaderIncludes(fragmentShader);\n    } // Apply custom rewriter function\n\n\n    if (customRewriter) {\n      var res = customRewriter({\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader\n      });\n      vertexShader = res.vertexShader;\n      fragmentShader = res.fragmentShader;\n    } // The fragmentColorTransform needs to go before any postprocessing chunks, so extract\n    // those and re-insert them into the outro in the correct place:\n\n\n    if (fragmentColorTransform) {\n      var postChunks = [];\n      fragmentShader = fragmentShader.replace(/^\\/\\/!BEGIN_POST_CHUNK[^]+?^\\/\\/!END_POST_CHUNK/gm, // [^]+? = non-greedy match of any chars including newlines\n      function (match) {\n        postChunks.push(match);\n        return '';\n      });\n      fragmentMainOutro = fragmentColorTransform + \"\\n\" + postChunks.join('\\n') + \"\\n\" + fragmentMainOutro;\n    } // Inject auto-updating time uniform if requested\n\n\n    if (timeUniform) {\n      var code = \"\\nuniform float \" + timeUniform + \";\\n\";\n      vertexDefs = code + vertexDefs;\n      fragmentDefs = code + fragmentDefs;\n    } // Inject a function for the vertexTransform and rename all usages of position/normal/uv\n\n\n    if (vertexTransform) {\n      vertexDefs = vertexDefs + \"\\nvec3 troika_position_\" + id + \";\\nvec3 troika_normal_\" + id + \";\\nvec2 troika_uv_\" + id + \";\\nvoid troikaVertexTransform\" + id + \"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\\n  \" + vertexTransform + \"\\n}\\n\";\n      vertexMainIntro = \"\\ntroika_position_\" + id + \" = vec3(position);\\ntroika_normal_\" + id + \" = vec3(normal);\\ntroika_uv_\" + id + \" = vec2(uv);\\ntroikaVertexTransform\" + id + \"(troika_position_\" + id + \", troika_normal_\" + id + \", troika_uv_\" + id + \");\\n\" + vertexMainIntro + \"\\n\";\n      vertexShader = vertexShader.replace(/\\b(position|normal|uv)\\b/g, function (match, match1, index, fullStr) {\n        return /\\battribute\\s+vec[23]\\s+$/.test(fullStr.substr(0, index)) ? match1 : \"troika_\" + match1 + \"_\" + id;\n      });\n    } // Inject defs and intro/outro snippets\n\n\n    vertexShader = injectIntoShaderCode(vertexShader, id, vertexDefs, vertexMainIntro, vertexMainOutro);\n    fragmentShader = injectIntoShaderCode(fragmentShader, id, fragmentDefs, fragmentMainIntro, fragmentMainOutro);\n    return {\n      vertexShader: vertexShader,\n      fragmentShader: fragmentShader\n    };\n  }\n\n  function injectIntoShaderCode(shaderCode, id, defs, intro, outro) {\n    if (intro || outro || defs) {\n      shaderCode = shaderCode.replace(voidMainRegExp, \"\\n\" + defs + \"\\nvoid troikaOrigMain\" + id + \"() {\");\n      shaderCode += \"\\nvoid main() {\\n  \" + intro + \"\\n  troikaOrigMain\" + id + \"();\\n  \" + outro + \"\\n}\";\n    }\n\n    return shaderCode;\n  }\n\n  function getOptionsHash(options) {\n    return JSON.stringify(options, optionsJsonReplacer);\n  }\n\n  function optionsJsonReplacer(key, value) {\n    return key === 'uniforms' ? undefined : typeof value === 'function' ? value.toString() : value;\n  }\n\n  var _idCtr = 0;\n  var optionsHashesToIds = new Map();\n\n  function getIdForOptionsHash(optionsHash) {\n    var id = optionsHashesToIds.get(optionsHash);\n\n    if (id == null) {\n      optionsHashesToIds.set(optionsHash, id = ++_idCtr);\n    }\n\n    return id;\n  } // Copied from threejs WebGLPrograms.js so we can resolve builtin materials to their shaders\n  // TODO how can we keep this from getting stale?\n\n\n  var MATERIAL_TYPES_TO_SHADERS = {\n    MeshDepthMaterial: 'depth',\n    MeshDistanceMaterial: 'distanceRGBA',\n    MeshNormalMaterial: 'normal',\n    MeshBasicMaterial: 'basic',\n    MeshLambertMaterial: 'lambert',\n    MeshPhongMaterial: 'phong',\n    MeshToonMaterial: 'phong',\n    MeshStandardMaterial: 'physical',\n    MeshPhysicalMaterial: 'physical',\n    MeshMatcapMaterial: 'matcap',\n    LineBasicMaterial: 'basic',\n    LineDashedMaterial: 'dashed',\n    PointsMaterial: 'points',\n    ShadowMaterial: 'shadow',\n    SpriteMaterial: 'sprite'\n  };\n  /**\n   * Given a Three.js `Material` instance, find the shaders/uniforms that will be\n   * used to render that material.\n   *\n   * @param material - the Material instance\n   * @return {object} - the material's shader info: `{uniforms:{}, fragmentShader:'', vertexShader:''}`\n   */\n\n  function getShadersForMaterial(material) {\n    var builtinType = MATERIAL_TYPES_TO_SHADERS[material.type];\n    return builtinType ? three.ShaderLib[builtinType] : material; //TODO fallback for unknown type?\n  }\n  /**\n   * Find all uniforms and their types within a shader code string.\n   *\n   * @param {string} shader - The shader code to parse\n   * @return {object} mapping of uniform names to their glsl type\n   */\n\n\n  function getShaderUniformTypes(shader) {\n    var uniformRE = /\\buniform\\s+(int|float|vec[234])\\s+([A-Za-z_][\\w]*)/g;\n    var uniforms = Object.create(null);\n    var match;\n\n    while ((match = uniformRE.exec(shader)) !== null) {\n      uniforms[match[2]] = match[1];\n    }\n\n    return uniforms;\n  }\n  /**\n   * @class ShaderFloatArray\n   *\n   * When writing a custom WebGL shader, sometimes you need to pass it an array of floating\n   * point numbers that it can read from. Unfortunately this is very difficult to do in WebGL,\n   * because:\n   *\n   *   - GLSL \"array\" uniforms can only be of a constant length.\n   *   - Textures can only hold floating point numbers in WebGL1 if the `OES_texture_float`\n   *     extension is available.\n   *\n   * ShaderFloatArray is an array-like abstraction that encodes its floating point data into\n   * an RGBA texture's four Uint8 components, and provides the corresponding ThreeJS uniforms\n   * and GLSL code for you to put in your custom shader to query the float values by array index.\n   *\n   * This should generally only be used within a fragment shader, as some environments (e.g. iOS)\n   * only allow texture lookups in fragment shaders.\n   *\n   * TODO:\n   *   - Fix texture to fill both dimensions so we don't easily hit max texture size limits\n   *   - Use a float texture if the extension is available so we can skip the encoding process\n   */\n\n\n  var ShaderFloatArray = function ShaderFloatArray(name) {\n    this.name = name;\n    this.textureUniform = \"dataTex_\" + name;\n    this.textureSizeUniform = \"dataTexSize_\" + name;\n    this.multiplierUniform = \"dataMultiplier_\" + name;\n    /**\n     * @property dataSizeUniform - the name of the GLSL uniform that will hold the\n     * length of the data array.\n     * @type {string}\n     */\n\n    this.dataSizeUniform = \"dataSize_\" + name;\n    /**\n     * @property readFunction - the name of the GLSL function that should be called to\n     * read data out of the array by index.\n     * @type {string}\n     */\n\n    this.readFunction = \"readData_\" + name;\n    this._raw = new Float32Array(0);\n    this._texture = new three.DataTexture(new Uint8Array(0), 0, 1);\n    this._length = 0;\n    this._multiplier = 1;\n  };\n\n  var prototypeAccessors = {\n    length: {\n      configurable: true\n    }\n  };\n  /**\n   * @property length - the current length of the data array\n   * @type {number}\n   */\n\n  prototypeAccessors.length.set = function (value) {\n    if (value !== this._length) {\n      // Find nearest power-of-2 that holds the new length\n      var size = Math.pow(2, Math.ceil(Math.log2(value)));\n      var raw = this._raw;\n\n      if (size < raw.length) {\n        this._raw = raw.subarray(0, size);\n      } else if (size > raw.length) {\n        this._raw = new Float32Array(size);\n\n        this._raw.set(raw);\n      }\n\n      this._length = value;\n    }\n  };\n\n  prototypeAccessors.length.get = function () {\n    return this._length;\n  };\n  /**\n   * Add a value to the end of the data array\n   * @param {number} value\n   */\n\n\n  ShaderFloatArray.prototype.push = function push(value) {\n    return this.set(this.length++, value);\n  };\n  /**\n   * Replace the existing data with that from a new array\n   * @param {ArrayLike<number>} array\n   */\n\n\n  ShaderFloatArray.prototype.setArray = function setArray(array) {\n    this.length = array.length;\n\n    this._raw.set(array);\n\n    this._needsRepack = true;\n  };\n  /**\n   * Get the current value at index\n   * @param {number} index\n   * @return {number}\n   */\n\n\n  ShaderFloatArray.prototype.get = function get(index) {\n    return this._raw[index];\n  };\n\n  ShaderFloatArray.prototype.set = function set(index, value) {\n    if (index + 1 > this._length) {\n      this.length = index + 1;\n    }\n\n    if (value !== this._raw[index]) {\n      this._raw[index] = value;\n      encodeFloatToFourInts(value / this._multiplier, this._texture.image.data, index * 4);\n      this._needsMultCheck = true;\n    }\n  };\n  /**\n   * Make a copy of this ShaderFloatArray\n   * @return {ShaderFloatArray}\n   */\n\n\n  ShaderFloatArray.prototype.clone = function clone() {\n    var clone = new ShaderFloatArray(this.name);\n    clone.setArray(this._raw);\n    return clone;\n  };\n  /**\n   * Retrieve the set of Uniforms that must to be added to the target ShaderMaterial or\n   * DerivedMaterial, to feed the GLSL code generated by {@link #getShaderHeaderCode}.\n   * @return {Object}\n   */\n\n\n  ShaderFloatArray.prototype.getShaderUniforms = function getShaderUniforms() {\n    var obj;\n    var me = this;\n    return obj = {}, obj[this.textureUniform] = {\n      get value() {\n        me._sync();\n\n        return me._texture;\n      }\n\n    }, obj[this.textureSizeUniform] = {\n      get value() {\n        me._sync();\n\n        return me._texture.image.width;\n      }\n\n    }, obj[this.dataSizeUniform] = {\n      get value() {\n        me._sync();\n\n        return me.length;\n      }\n\n    }, obj[this.multiplierUniform] = {\n      get value() {\n        me._sync();\n\n        return me._multiplier;\n      }\n\n    }, obj;\n  };\n  /**\n   * Retrieve the GLSL code that must be injected into the shader's definitions area to\n   * enable reading from the data array. This exposes a function with a name matching\n   * the {@link #readFunction} property, which other shader code can call to read values\n   * from the array by their index.\n   * @return {string}\n   */\n\n\n  ShaderFloatArray.prototype.getShaderHeaderCode = function getShaderHeaderCode() {\n    var ref = this;\n    var textureUniform = ref.textureUniform;\n    var textureSizeUniform = ref.textureSizeUniform;\n    var dataSizeUniform = ref.dataSizeUniform;\n    var multiplierUniform = ref.multiplierUniform;\n    var readFunction = ref.readFunction;\n    return \"\\nuniform sampler2D \" + textureUniform + \";\\nuniform float \" + textureSizeUniform + \";\\nuniform float \" + dataSizeUniform + \";\\nuniform float \" + multiplierUniform + \";\\n\\nfloat \" + readFunction + \"(float index) {\\n  vec2 texUV = vec2((index + 0.5) / \" + textureSizeUniform + \", 0.5);\\n  vec4 pixel = texture2D(\" + textureUniform + \", texUV);\\n  return dot(pixel, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0)) * \" + multiplierUniform + \";\\n}\\n\";\n  };\n  /**\n   * @private Synchronize any pending changes to the underlying DataTexture\n   */\n\n\n  ShaderFloatArray.prototype._sync = function _sync() {\n    var tex = this._texture;\n    var raw = this._raw;\n    var needsRepack = this._needsRepack; // If the size of the raw array changed, resize the texture to match\n\n    if (raw.length !== tex.image.width) {\n      tex.image = {\n        data: new Uint8Array(raw.length * 4),\n        width: raw.length,\n        height: 1\n      };\n      needsRepack = true;\n    } // If the values changed, check the multiplier. This should be a value by which\n    // all the values are divided to constrain them to the [0,1] range required by\n    // the Uint8 packing algorithm. We pick the nearest power of 2 that holds the\n    // maximum value for greatest accuracy.\n\n\n    if (needsRepack || this._needsMultCheck) {\n      var maxVal = this._raw.reduce(function (a, b) {\n        return Math.max(a, b);\n      }, 0);\n\n      var mult = Math.pow(2, Math.ceil(Math.log2(maxVal)));\n\n      if (mult !== this._multiplier) {\n        this._multiplier = mult;\n        needsRepack = true;\n      }\n\n      tex.needsUpdate = true;\n      this._needsMultCheck = false;\n    } // If things changed in a way we need to repack, do so\n\n\n    if (needsRepack) {\n      for (var i = 0, len = raw.length, mult$1 = this._multiplier; i < len; i++) {\n        encodeFloatToFourInts(raw[i] / mult$1, tex.image.data, i * 4);\n      }\n\n      this._needsRepack = false;\n    }\n  };\n\n  Object.defineProperties(ShaderFloatArray.prototype, prototypeAccessors);\n  /**\n   * Encode a floating point number into a set of four 8-bit integers.\n   * Also see the companion decoder function #decodeFloatFromFourInts.\n   *\n   * This is adapted to JavaScript from the basic approach at\n   * http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n   * but writes out integers in the range 0-255 instead of floats in the range 0-1\n   * so they can be more easily used in a Uint8Array for standard WebGL rgba textures.\n   *\n   * Some precision will necessarily be lost during the encoding and decoding process.\n   * Testing shows that the maximum precision error is ~1.18e-10 which should be good\n   * enough for most cases.\n   *\n   * @param {Number} value - the floating point number to encode. Must be in the range [0, 1]\n   *        otherwise the results will be incorrect.\n   * @param {Array|Uint8Array} array - an array into which the four ints should be written\n   * @param {Number} startIndex - index in the output array at which to start writing the ints\n   * @return {Array|Uint8Array}\n   */\n\n  function encodeFloatToFourInts(value, array, startIndex) {\n    // This is adapted to JS from the basic approach at\n    // http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n    // but writes to a Uint8Array instead of floats. Input values must be in\n    // the range [0, 1]. The maximum error after encoding and decoding is ~1.18e-10\n    var enc0 = 255 * value;\n    var enc1 = 255 * (enc0 % 1);\n    var enc2 = 255 * (enc1 % 1);\n    var enc3 = 255 * (enc2 % 1);\n    enc0 = enc0 & 255;\n    enc1 = enc1 & 255;\n    enc2 = enc2 & 255;\n    enc3 = Math.round(enc3) & 255;\n    array[startIndex] = enc0;\n    array[startIndex + 1] = enc1;\n    array[startIndex + 2] = enc2;\n    array[startIndex + 3] = enc3;\n    return array;\n  }\n  /*\n  Input geometry is a cylinder with r=1, height in y dimension from 0 to 1,\n  divided into a reasonable number of height segments.\n  */\n\n\n  var vertexDefs = \"\\nuniform vec3 pointA;\\nuniform vec3 controlA;\\nuniform vec3 controlB;\\nuniform vec3 pointB;\\nuniform float radius;\\nvarying float bezierT;\\n\\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\\n  float t2 = 1.0 - t;\\n  float b0 = t2 * t2 * t2;\\n  float b1 = 3.0 * t * t2 * t2;\\n  float b2 = 3.0 * t * t * t2;\\n  float b3 = t * t * t;\\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\\n}\\n\\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\\n  float t2 = 1.0 - t;\\n  return -3.0 * p1 * t2 * t2 +\\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\\n    3.0 * p2 * t * t;\\n}\\n\";\n  var vertexTransform = \"\\nfloat t = position.y;\\nbezierT = t;\\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\\n\\n// Make \\\"sideways\\\" always perpendicular to the camera ray; this ensures that any twists\\n// in the cylinder occur where you won't see them: \\nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\\nif (bezierDir == viewDirection) {\\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\\n}\\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\\nvec3 upish = normalize(cross(sideways, bezierDir));\\n\\n// Build a matrix for transforming this disc in the cylinder:\\nmat4 discTx;\\ndiscTx[0].xyz = sideways * radius;\\ndiscTx[1].xyz = bezierDir * radius;\\ndiscTx[2].xyz = upish * radius;\\ndiscTx[3].xyz = bezierCenterPos;\\ndiscTx[3][3] = 1.0;\\n\\n// Apply transform, ignoring original y\\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\\nnormal = normalize(mat3(discTx) * normal);\\n\";\n  var fragmentDefs = \"\\nuniform vec3 dashing;\\nvarying float bezierT;\\n\";\n  var fragmentMainIntro = \"\\nif (dashing.x + dashing.y > 0.0) {\\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\\n  if (dashFrac > dashing.x) {\\n    discard;\\n  }\\n}\\n\"; // Debugging: separate color for each of the 6 sides:\n  // const fragmentColorTransform = `\n  // float sideNum = floor(vUV.x * 6.0);\n  // vec3 mixColor = sideNum < 1.0 ? vec3(1.0, 0.0, 0.0) :\n  //   sideNum < 2.0 ? vec3(0.0, 1.0, 1.0) :\n  //   sideNum < 3.0 ? vec3(1.0, 1.0, 0.0) :\n  //   sideNum < 4.0 ? vec3(0.0, 0.0, 1.0) :\n  //   sideNum < 5.0 ? vec3(0.0, 1.0, 0.0) :\n  //   vec3(1.0, 0.0, 1.0);\n  // gl_FragColor.xyz = mix(gl_FragColor.xyz, mixColor, 0.5);\n  // `\n\n  function createBezierMeshMaterial(baseMaterial) {\n    return createDerivedMaterial(baseMaterial, {\n      uniforms: {\n        pointA: {\n          value: new three.Vector3()\n        },\n        controlA: {\n          value: new three.Vector3()\n        },\n        controlB: {\n          value: new three.Vector3()\n        },\n        pointB: {\n          value: new three.Vector3()\n        },\n        radius: {\n          value: 0.01\n        },\n        dashing: {\n          value: new three.Vector3()\n        } //on, off, offset\n\n      },\n      vertexDefs: vertexDefs,\n      vertexTransform: vertexTransform,\n      fragmentDefs: fragmentDefs,\n      fragmentMainIntro: fragmentMainIntro\n    });\n  }\n\n  var geometry = null;\n  var defaultBaseMaterial = new three.MeshStandardMaterial({\n    color: 0xffffff,\n    side: three.DoubleSide\n  });\n  /**\n   * A ThreeJS `Mesh` that bends a tube shape along a 3D cubic bezier path. The bending is done\n   * by deforming a straight cylindrical geometry in the vertex shader based on a set of four\n   * control point uniforms. It patches the necessary GLSL into the mesh's assigned `material`\n   * automatically.\n   *\n   * The cubiz bezier path is determined by its four `Vector3` properties:\n   * - `pointA`\n   * - `controlA`\n   * - `controlB`\n   * - `pointB`\n   *\n   * The tube's radius is controlled by its `radius` property, which defaults to `0.01`.\n   *\n   * You can also give the tube a dashed appearance with two properties:\n   *\n   * - `dashArray` - an array of two numbers, defining the length of \"on\" and \"off\" parts of\n   *   the dash. Each is a 0-1 ratio of the entire path's length. (Actually this is the `t` length\n   *   used as input to the cubic bezier function, not its visible length.)\n   * - `dashOffset` - offset of where the dash starts. You can animate this to make the dashes move.\n   *\n   * Note that the dashes will appear like a hollow tube, not solid. This will be more apparent on\n   * thicker tubes.\n   *\n   * TODO: proper geometry bounding sphere and raycasting\n   * TODO: allow control of the geometry's segment counts\n   */\n\n  var BezierMesh = /*@__PURE__*/function (Mesh) {\n    function BezierMesh() {\n      Mesh.call(this, BezierMesh.getGeometry(), defaultBaseMaterial);\n      this.pointA = new three.Vector3();\n      this.controlA = new three.Vector3();\n      this.controlB = new three.Vector3();\n      this.pointB = new three.Vector3();\n      this.radius = 0.01;\n      this.dashArray = new three.Vector2();\n      this.dashOffset = 0; // TODO - disabling frustum culling until I figure out how to customize the\n      //  geometry's bounding sphere that gets used\n\n      this.frustumCulled = false;\n    }\n\n    if (Mesh) BezierMesh.__proto__ = Mesh;\n    BezierMesh.prototype = Object.create(Mesh && Mesh.prototype);\n    BezierMesh.prototype.constructor = BezierMesh;\n    var prototypeAccessors = {\n      material: {\n        configurable: true\n      },\n      customDepthMaterial: {\n        configurable: true\n      },\n      customDistanceMaterial: {\n        configurable: true\n      }\n    }; // Handler for automatically wrapping the base material with our upgrades. We do the wrapping\n    // lazily on _read_ rather than write to avoid unnecessary wrapping on transient values.\n\n    BezierMesh.getGeometry = function getGeometry() {\n      return geometry || (geometry = new three.CylinderBufferGeometry(1, 1, 1, 6, 64).translate(0, 0.5, 0));\n    };\n\n    prototypeAccessors.material.get = function () {\n      var derivedMaterial = this._derivedMaterial;\n      var baseMaterial = this._baseMaterial || defaultBaseMaterial;\n\n      if (!derivedMaterial || derivedMaterial.baseMaterial !== baseMaterial) {\n        derivedMaterial = this._derivedMaterial = createBezierMeshMaterial(baseMaterial); // dispose the derived material when its base material is disposed:\n\n        baseMaterial.addEventListener('dispose', function onDispose() {\n          baseMaterial.removeEventListener('dispose', onDispose);\n          derivedMaterial.dispose();\n        });\n      }\n\n      return derivedMaterial;\n    };\n\n    prototypeAccessors.material.set = function (baseMaterial) {\n      this._baseMaterial = baseMaterial;\n    }; // Create and update material for shadows upon request:\n\n\n    prototypeAccessors.customDepthMaterial.get = function () {\n      return this.material.getDepthMaterial();\n    };\n\n    prototypeAccessors.customDistanceMaterial.get = function () {\n      return this.material.getDistanceMaterial();\n    };\n\n    BezierMesh.prototype.onBeforeRender = function onBeforeRender(shaderInfo) {\n      var ref = this.material;\n      var uniforms = ref.uniforms;\n      var ref$1 = this;\n      var pointA = ref$1.pointA;\n      var controlA = ref$1.controlA;\n      var controlB = ref$1.controlB;\n      var pointB = ref$1.pointB;\n      var radius = ref$1.radius;\n      var dashArray = ref$1.dashArray;\n      var dashOffset = ref$1.dashOffset;\n      uniforms.pointA.value.copy(pointA);\n      uniforms.controlA.value.copy(controlA);\n      uniforms.controlB.value.copy(controlB);\n      uniforms.pointB.value.copy(pointB);\n      uniforms.radius.value = radius;\n      uniforms.dashing.value.set(dashArray.x, dashArray.y, dashOffset || 0);\n    };\n\n    BezierMesh.prototype.raycast = function raycast(raycaster, intersects) {// TODO - just fail for now\n    };\n\n    Object.defineProperties(BezierMesh.prototype, prototypeAccessors);\n    return BezierMesh;\n  }(three.Mesh);\n\n  exports.BezierMesh = BezierMesh;\n  exports.ShaderFloatArray = ShaderFloatArray;\n  exports.createDerivedMaterial = createDerivedMaterial;\n  exports.expandShaderIncludes = expandShaderIncludes;\n  exports.getShaderUniformTypes = getShaderUniformTypes;\n  exports.getShadersForMaterial = getShadersForMaterial;\n  exports.voidMainRegExp = voidMainRegExp;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","import * as G from './globals';\nexport var noop = function noop() {};\nexport var defineHidden = function defineHidden(obj, key, value) {\n  return Object.defineProperty(obj, key, {\n    value: value,\n    writable: true,\n    configurable: true\n  });\n};\nexport var is = {\n  arr: Array.isArray,\n  obj: function obj(a) {\n    return !!a && a.constructor.name === 'Object';\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === undefined;\n  }\n};\n/** Compare animatable values */\n\nexport function isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n\n    for (var i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return true;\n  }\n\n  return a === b;\n} // Not all strings can be animated (eg: {display: \"none\"})\n\nexport var isAnimatedString = function isAnimatedString(value) {\n  return is.str(value) && (value[0] == '#' || /\\d/.test(value) || !!(G.colorNames && G.colorNames[value]));\n};\n/** An unsafe object/array/set iterator that allows for better minification */\n\nexport var each = function each(obj, cb, ctx) {\n  if (is.fun(obj.forEach)) {\n    obj.forEach(cb, ctx);\n  } else {\n    Object.keys(obj).forEach(function (key) {\n      return cb.call(ctx, obj[key], key);\n    });\n  }\n};\nexport var toArray = function toArray(a) {\n  return is.und(a) ? [] : is.arr(a) ? a : [a];\n};\nexport function flush(queue, iterator) {\n  if (queue.size) {\n    var items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}","import { FrameLoop } from './FrameLoop';\nimport { noop } from './helpers'; //\n// Required\n//\n\nexport var createStringInterpolator;\nexport var frameLoop = new FrameLoop(); //\n// Optional\n//\n\nexport var to;\nexport var now = function now() {\n  return performance.now();\n};\nexport var colorNames = null;\nexport var skipAnimation = false;\nexport var requestAnimationFrame = typeof window !== 'undefined' ? window.requestAnimationFrame : function () {\n  return -1;\n};\nexport var batchedUpdates = function batchedUpdates(callback) {\n  return callback();\n};\nexport var willAdvance = noop;\nexport var assign = function assign(globals) {\n  var _a;\n\n  return _a = Object.assign({\n    to: to,\n    now: now,\n    frameLoop: frameLoop,\n    colorNames: colorNames,\n    skipAnimation: skipAnimation,\n    createStringInterpolator: createStringInterpolator,\n    requestAnimationFrame: requestAnimationFrame,\n    batchedUpdates: batchedUpdates,\n    willAdvance: willAdvance\n  }, pluckDefined(globals)), to = _a.to, now = _a.now, frameLoop = _a.frameLoop, colorNames = _a.colorNames, skipAnimation = _a.skipAnimation, createStringInterpolator = _a.createStringInterpolator, requestAnimationFrame = _a.requestAnimationFrame, batchedUpdates = _a.batchedUpdates, willAdvance = _a.willAdvance, _a;\n}; // Ignore undefined values\n\nfunction pluckDefined(globals) {\n  var defined = {};\n\n  for (var key in globals) {\n    if (globals[key] !== undefined) defined[key] = globals[key];\n  }\n\n  return defined;\n}","import _assertThisInitialized from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _slicedToArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _get from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _createClass from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _asyncToGenerator from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _toConsumableArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useLayoutEffect } from 'react-layout-effect';\nimport { each as _each, is, toArray, isAnimatedString, getFluidConfig, Globals, FluidValue, getFluidValue, flush, isEqual, noop, useForceUpdate, usePrev, useOnce, createInterpolator } from '@react-spring/shared';\nexport { FrameLoop, Globals, createInterpolator } from '@react-spring/shared';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { createContext, useContext, createElement, useRef, useState, useMemo as useMemo$1, useImperativeHandle, Fragment } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, setAnimated, AnimatedArray, AnimatedString } from '@react-spring/animated';\nimport { createStringInterpolator, batchedUpdates, to as to$1, frameLoop, skipAnimation } from '@react-spring/shared/globals';\nimport { useMemoOne, useCallbackOne } from 'use-memo-one';\nimport { deprecateInterpolate } from '@react-spring/shared/deprecations';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { createStringInterpolator as createStringInterpolator$1 } from '@react-spring/shared/stringInterpolation';\nexport * from '@react-spring/shared/types';\n/** API\n *  useChain(references, timeSteps, timeFrame)\n */\n\nfunction useChain(refs, timeSteps) {\n  var timeFrame = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  useLayoutEffect(function () {\n    if (timeSteps) {\n      var prevDelay = 0;\n\n      _each(refs, function (ref, i) {\n        if (!ref.current) return;\n        var controllers = ref.current.controllers;\n\n        if (controllers.length) {\n          var delay = timeFrame * timeSteps[i]; // Use the previous delay if none exists.\n\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n\n          _each(controllers, function (ctrl) {\n            _each(ctrl.queue, function (props) {\n              props.delay = delay + (props.delay || 0);\n            });\n\n            ctrl.start();\n          });\n        }\n      });\n    } else {\n      var p = Promise.resolve();\n\n      _each(refs, function (ref) {\n        var _ref2 = ref.current || {},\n            controllers = _ref2.controllers,\n            start = _ref2.start;\n\n        if (controllers && controllers.length) {\n          // Take the queue of each controller\n          var updates = controllers.map(function (ctrl) {\n            var q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          }); // Apply the queue when the previous ref stops animating\n\n          p = p.then(function () {\n            _each(controllers, function (ctrl, i) {\n              var _ctrl$queue;\n\n              return (_ctrl$queue = ctrl.queue).push.apply(_ctrl$queue, _toConsumableArray(updates[i]));\n            });\n\n            return start();\n          });\n        }\n      });\n    }\n  });\n} // The `mass` prop defaults to 1\n\n\nvar config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\nvar linear = function linear(t) {\n  return t;\n};\n\nvar defaults = _extends(_extends({}, config.default), {}, {\n  mass: 1,\n  damping: 1,\n  easing: linear,\n  clamp: false\n});\n\nvar AnimationConfig =\n/**\n * With higher tension, the spring will resist bouncing and try harder to stop at its end value.\n *\n * When tension is zero, no animation occurs.\n */\n\n/**\n * The damping ratio coefficient, or just the damping ratio when `speed` is defined.\n *\n * When `speed` is defined, this value should be between 0 and 1.\n *\n * Higher friction means the spring will slow down faster.\n */\n\n/**\n * The natural frequency (in seconds), which dictates the number of bounces\n * per second when no damping exists.\n *\n * When defined, `tension` is derived from this, and `friction` is derived\n * from `tension` and `damping`.\n */\n\n/**\n * The damping ratio, which dictates how the spring slows down.\n *\n * Set to `0` to never slow down. Set to `1` to slow down without bouncing.\n * Between `0` and `1` is for you to explore.\n *\n * Only works when `frequency` is defined.\n *\n * Defaults to 1\n */\n\n/**\n * Higher mass means more friction is required to slow down.\n *\n * Defaults to 1, which works fine most of the time.\n */\n\n/**\n * The initial velocity of one or more values.\n */\n\n/**\n * The smallest velocity before the animation is considered \"not moving\".\n *\n * When undefined, `precision` is used instead.\n */\n\n/**\n * The smallest distance from a value before that distance is essentially zero.\n *\n * This helps in deciding when a spring is \"at rest\". The spring must be within\n * this distance from its final value, and its velocity must be lower than this\n * value too (unless `restVelocity` is defined).\n */\n\n/**\n * For `duration` animations only. Note: The `duration` is not affected\n * by this property.\n *\n * Defaults to `0`, which means \"start from the beginning\".\n *\n * Setting to `1+` makes an immediate animation.\n *\n * Setting to `0.5` means \"start from the middle of the easing function\".\n *\n * Any number `>= 0` and `<= 1` makes sense here.\n */\n\n/**\n * Animation length in number of milliseconds.\n */\n\n/**\n * The animation curve. Only used when `duration` is defined.\n *\n * Defaults to quadratic ease-in-out.\n */\n\n/**\n * Avoid overshooting by ending abruptly at the goal value.\n */\n\n/**\n * When above zero, the spring will bounce instead of overshooting when\n * exceeding its goal value. Its velocity is multiplied by `-1 + bounce`\n * whenever its current value equals or exceeds its goal. For example,\n * setting `bounce` to `0.5` chops the velocity in half on each bounce,\n * in addition to any friction.\n */\n\n/**\n * \"Decay animations\" decelerate without an explicit goal value.\n * Useful for scrolling animations.\n *\n * Use `true` for the default exponential decay factor (`0.998`).\n *\n * When a `number` between `0` and `1` is given, a lower number makes the\n * animation slow down faster. And setting to `1` would make an unending\n * animation.\n */\n\n/**\n * While animating, round to the nearest multiple of this number.\n * The `from` and `to` values are never rounded, as well as any value\n * passed to the `set` method of an animated value.\n */\nfunction AnimationConfig() {\n  _classCallCheck(this, AnimationConfig);\n\n  this.tension = void 0;\n  this.friction = void 0;\n  this.frequency = void 0;\n  this.damping = void 0;\n  this.mass = void 0;\n  this.velocity = 0;\n  this.restVelocity = void 0;\n  this.precision = void 0;\n  this.progress = void 0;\n  this.duration = void 0;\n  this.easing = void 0;\n  this.clamp = void 0;\n  this.bounce = void 0;\n  this.decay = void 0;\n  this.round = void 0;\n  Object.assign(this, defaults);\n};\n\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _extends({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _extends(_extends({}, defaultConfig), newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (var key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  var mass = config.mass,\n      frequency = config.frequency,\n      damping = config.damping;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n} // Prevent a config from accidentally overriding new props.\n// This depends on which \"config\" props take precedence when defined.\n\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = undefined;\n  } else {\n    var isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = undefined;\n      config.decay = undefined;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = undefined;\n    }\n  }\n}\n\nvar emptyArray = [];\n/** @internal */\n\n/** An animation being executed by the frameloop */\n\nvar Animation = function Animation() {\n  _classCallCheck(this, Animation);\n\n  this.changed = false;\n  this.values = emptyArray;\n  this.toValues = null;\n  this.fromValues = emptyArray;\n  this.to = void 0;\n  this.from = void 0;\n  this.config = new AnimationConfig();\n  this.immediate = false;\n  this.onStart = void 0;\n  this.onChange = void 0;\n  this.onRest = [];\n}; // @see https://github.com/alexreardon/use-memo-one/pull/10\n\n\nvar useMemo = function useMemo(create, deps) {\n  return useMemoOne(create, deps || [{}]);\n};\n\nfunction callProp(value) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(value) ? value.apply(void 0, args) : value;\n}\n/** Try to coerce the given value into a boolean using the given key */\n\n\nvar matchProp = function matchProp(value, key) {\n  return value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\n};\n\nvar getProps = function getProps(props, i, arg) {\n  return props && (is.fun(props) ? props(i, arg) : is.arr(props) ? props[i] : _extends({}, props));\n};\n/** Returns `true` if the given prop is having its default value set. */\n\n\nvar hasDefaultProp = function hasDefaultProp(props, key) {\n  return !is.und(getDefaultProp(props, key));\n};\n/** Get the default value being set for the given `key` */\n\n\nvar getDefaultProp = function getDefaultProp(props, key) {\n  return props.default === true ? props[key] : props.default ? props.default[key] : undefined;\n};\n/**\n * Extract the default props from an update.\n *\n * When the `default` prop is falsy, this function still behaves as if\n * `default: true` was used. The `default` prop is always respected when\n * truthy.\n */\n\n\nvar getDefaultProps = function getDefaultProps(props) {\n  var omitKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var defaults = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  var _iterator = _createForOfIteratorHelper(keys),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      var value = props[key];\n\n      if (!is.und(value) && !omitKeys.includes(key)) {\n        defaults[key] = value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return defaults;\n};\n/** Merge the default props of an update into a props cache. */\n\n\nvar mergeDefaultProps = function mergeDefaultProps(defaults, props, omitKeys) {\n  return getDefaultProps(props, omitKeys, defaults);\n};\n/** These props can have default values */\n\n\nvar DEFAULT_PROPS = ['pause', 'cancel', 'config', 'immediate', 'onDelayEnd', 'onProps', 'onStart', 'onChange', 'onRest'];\nvar RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onDelayEnd: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onRest: 1,\n  // Transition props\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  // Internal props\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n/**\n * Extract any properties whose keys are *not* reserved for customizing your\n * animations. All hooks use this function, which means `useTransition` props\n * are reserved for `useSpring` calls, etc.\n */\n\nfunction getForwardProps(props) {\n  var forward = {};\n  var count = 0;\n\n  _each(props, function (value, prop) {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n/**\n * Clone the given `props` and move all non-reserved props\n * into the `to` prop.\n */\n\n\nfunction inferTo(props) {\n  var to = getForwardProps(props);\n\n  if (to) {\n    var out = {\n      to: to\n    };\n\n    _each(props, function (val, key) {\n      return key in to || (out[key] = val);\n    });\n\n    return out;\n  }\n\n  return _extends({}, props);\n} // Compute the goal value, converting \"red\" to \"rgba(255, 0, 0, 1)\" in the process\n\n\nfunction computeGoal(value) {\n  var config = getFluidConfig(value);\n  return config ? computeGoal(config.get()) : is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\n/**\n * This function sets a timeout if both the `delay` prop exists and\n * the `cancel` prop is not `true`.\n *\n * The `actions.start` function must handle the `cancel` prop itself,\n * but the `pause` prop is taken care of.\n */\n\n\nfunction scheduleProps(callId, _ref3) {\n  var key = _ref3.key,\n      props = _ref3.props,\n      state = _ref3.state,\n      actions = _ref3.actions;\n  return new Promise(function (resolve, reject) {\n    var delay;\n    var timeout;\n    var pause = false;\n    var cancel = matchProp(props.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      delay = callProp(props.delay || 0, key);\n      pause = matchProp(props.pause, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      timeout.cancel(); // Cache the remaining delay.\n\n      delay = timeout.time - Globals.now();\n    }\n\n    function onResume() {\n      if (delay > 0) {\n        state.pauseQueue.add(onPause);\n        timeout = Globals.frameLoop.setTimeout(onStart, delay);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      state.pauseQueue.delete(onPause); // Maybe cancelled during its delay.\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_extends(_extends({}, props), {}, {\n          callId: callId,\n          delay: delay,\n          cancel: cancel,\n          pause: pause\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n/** @internal */\n\n/** The object given to the `onRest` prop and `start` promise. */\n\n/** The promised result of an animation. */\n\n/** @internal */\n\n\nvar getCombinedResult = function getCombinedResult(target, results) {\n  return results.length == 1 ? results[0] : results.some(function (result) {\n    return result.cancelled;\n  }) ? getCancelledResult(target) : results.every(function (result) {\n    return result.noop;\n  }) ? getNoopResult(target) : getFinishedResult(target, results.every(function (result) {\n    return result.finished;\n  }));\n};\n/** No-op results are for updates that never start an animation. */\n\n\nvar getNoopResult = function getNoopResult(target) {\n  var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : target.get();\n  return {\n    value: value,\n    noop: true,\n    finished: true,\n    target: target\n  };\n};\n\nvar getFinishedResult = function getFinishedResult(target, finished) {\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : target.get();\n  return {\n    value: value,\n    finished: finished,\n    target: target\n  };\n};\n\nvar getCancelledResult = function getCancelledResult(target) {\n  var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : target.get();\n  return {\n    value: value,\n    cancelled: true,\n    target: target\n  };\n};\n/**\n * Start an async chain or an async script.\n *\n * Always call `runAsync` in the action callback of a `scheduleProps` call.\n *\n * The `T` parameter can be a set of animated values (as an object type)\n * or a primitive type for a single animated value.\n */\n\n\nfunction runAsync(_x, _x2, _x3, _x4) {\n  return _runAsync.apply(this, arguments);\n}\n\nfunction _runAsync() {\n  _runAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(to, props, state, target) {\n    var callId, parentId, onRest, prevTo, prevPromise;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (!props.pause) {\n              _context6.next = 3;\n              break;\n            }\n\n            _context6.next = 3;\n            return new Promise(function (resume) {\n              state.resumeQueue.add(resume);\n            });\n\n          case 3:\n            callId = props.callId, parentId = props.parentId, onRest = props.onRest;\n            prevTo = state.asyncTo, prevPromise = state.promise;\n\n            if (!(!parentId && to === prevTo && !props.reset)) {\n              _context6.next = 7;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", prevPromise);\n\n          case 7:\n            return _context6.abrupt(\"return\", state.promise = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n              var defaultProps, preventBail, bail, bailPromise, withBailHandler, bailIfEnded, animate, result, animating;\n              return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      state.asyncId = callId;\n                      state.asyncTo = to; // The default props of any `animate` calls.\n\n                      defaultProps = getDefaultProps(props, [// The `onRest` prop is only called when the `runAsync` promise is resolved.\n                      'onRest']);\n                      // This promise is rejected when the animation is interrupted.\n                      bailPromise = new Promise(function (resolve, reject) {\n                        return preventBail = resolve, bail = reject;\n                      }); // Stop animating when an error is caught.\n\n                      withBailHandler = function withBailHandler(fn) {\n                        return function () {\n                          var onError = function onError(err) {\n                            if (err instanceof BailSignal) {\n                              bail(err); // Stop animating.\n                            }\n\n                            throw err;\n                          };\n\n                          try {\n                            return fn.apply(void 0, arguments).catch(onError);\n                          } catch (err) {\n                            onError(err);\n                          }\n                        };\n                      };\n\n                      bailIfEnded = function bailIfEnded(bailSignal) {\n                        var bailResult = // The `cancel` prop or `stop` method was used.\n                        callId <= (state.cancelId || 0) && getCancelledResult(target) || // The async `to` prop was replaced.\n                        callId !== state.asyncId && getFinishedResult(target, false);\n\n                        if (bailResult) {\n                          bailSignal.result = bailResult;\n                          throw bailSignal;\n                        }\n                      }; // Note: This function cannot use the `async` keyword, because we want the\n                      // `throw` statements to interrupt the caller.\n\n\n                      animate = withBailHandler(function (arg1, arg2) {\n                        var bailSignal = new BailSignal();\n                        bailIfEnded(bailSignal);\n                        var props = is.obj(arg1) ? _extends({}, arg1) : _extends(_extends({}, arg2), {}, {\n                          to: arg1\n                        });\n                        props.parentId = callId;\n\n                        _each(defaultProps, function (value, key) {\n                          if (is.und(props[key])) {\n                            props[key] = value;\n                          }\n                        });\n\n                        return target.start(props).then( /*#__PURE__*/function () {\n                          var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(result) {\n                            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                              while (1) {\n                                switch (_context3.prev = _context3.next) {\n                                  case 0:\n                                    bailIfEnded(bailSignal);\n\n                                    if (!target.is('PAUSED')) {\n                                      _context3.next = 4;\n                                      break;\n                                    }\n\n                                    _context3.next = 4;\n                                    return new Promise(function (resume) {\n                                      state.resumeQueue.add(resume);\n                                    });\n\n                                  case 4:\n                                    return _context3.abrupt(\"return\", result);\n\n                                  case 5:\n                                  case \"end\":\n                                    return _context3.stop();\n                                }\n                              }\n                            }, _callee3);\n                          }));\n\n                          return function (_x7) {\n                            return _ref15.apply(this, arguments);\n                          };\n                        }());\n                      });\n                      _context5.prev = 7;\n\n                      // Async sequence\n                      if (is.arr(to)) {\n                        animating = function () {\n                          var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(queue) {\n                            var _iterator2, _step2, _props2;\n\n                            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                              while (1) {\n                                switch (_context4.prev = _context4.next) {\n                                  case 0:\n                                    _iterator2 = _createForOfIteratorHelper(queue);\n                                    _context4.prev = 1;\n\n                                    _iterator2.s();\n\n                                  case 3:\n                                    if ((_step2 = _iterator2.n()).done) {\n                                      _context4.next = 9;\n                                      break;\n                                    }\n\n                                    _props2 = _step2.value;\n                                    _context4.next = 7;\n                                    return animate(_props2);\n\n                                  case 7:\n                                    _context4.next = 3;\n                                    break;\n\n                                  case 9:\n                                    _context4.next = 14;\n                                    break;\n\n                                  case 11:\n                                    _context4.prev = 11;\n                                    _context4.t0 = _context4[\"catch\"](1);\n\n                                    _iterator2.e(_context4.t0);\n\n                                  case 14:\n                                    _context4.prev = 14;\n\n                                    _iterator2.f();\n\n                                    return _context4.finish(14);\n\n                                  case 17:\n                                  case \"end\":\n                                    return _context4.stop();\n                                }\n                              }\n                            }, _callee4, null, [[1, 11, 14, 17]]);\n                          }));\n\n                          return function (_x8) {\n                            return _ref16.apply(this, arguments);\n                          };\n                        }()(to);\n                      } // Async script\n                      else if (is.fun(to)) {\n                          animating = Promise.resolve(to(animate, target.stop.bind(target)));\n                        }\n\n                      _context5.next = 11;\n                      return Promise.all([animating.then(preventBail), bailPromise]);\n\n                    case 11:\n                      result = getFinishedResult(target, true); // Bail handling\n\n                      _context5.next = 21;\n                      break;\n\n                    case 14:\n                      _context5.prev = 14;\n                      _context5.t0 = _context5[\"catch\"](7);\n\n                      if (!(_context5.t0 instanceof BailSignal)) {\n                        _context5.next = 20;\n                        break;\n                      }\n\n                      result = _context5.t0.result;\n                      _context5.next = 21;\n                      break;\n\n                    case 20:\n                      throw _context5.t0;\n\n                    case 21:\n                      _context5.prev = 21;\n\n                      if (callId == state.asyncId) {\n                        state.asyncId = parentId;\n                        state.asyncTo = parentId ? prevTo : undefined;\n                        state.promise = parentId ? prevPromise : undefined;\n                      }\n\n                      return _context5.finish(21);\n\n                    case 24:\n                      if (is.fun(onRest)) {\n                        batchedUpdates(function () {\n                          onRest(result);\n                        });\n                      }\n\n                      return _context5.abrupt(\"return\", result);\n\n                    case 26:\n                    case \"end\":\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, null, [[7, 14, 21, 24]]);\n            }))());\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _runAsync.apply(this, arguments);\n}\n\nfunction cancelAsync(state, callId) {\n  state.cancelId = callId;\n  state.asyncId = state.asyncTo = state.promise = undefined;\n}\n/** This error is thrown to signal an interrupted async animation. */\n\n\nvar BailSignal = /*#__PURE__*/function (_Error) {\n  _inherits(BailSignal, _Error);\n\n  var _super = _createSuper(BailSignal);\n\n  function BailSignal() {\n    var _this;\n\n    _classCallCheck(this, BailSignal);\n\n    _this = _super.call(this, 'An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');\n    _this.result = void 0;\n    return _this;\n  }\n\n  return BailSignal;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isFrameValue = function isFrameValue(value) {\n  return value instanceof FrameValue;\n};\n\nvar nextId = 1;\n/**\n * A kind of `FluidValue` that manages an `AnimatedValue` node.\n *\n * Its underlying value can be accessed and even observed.\n */\n\nvar FrameValue = /*#__PURE__*/function (_FluidValue) {\n  _inherits(FrameValue, _FluidValue);\n\n  var _super2 = _createSuper(FrameValue);\n\n  function FrameValue() {\n    var _this2;\n\n    _classCallCheck(this, FrameValue);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _this2.id = nextId++;\n    _this2.key = void 0;\n    _this2._priority = 0;\n    _this2._children = new Set();\n    return _this2;\n  }\n\n  _createClass(FrameValue, [{\n    key: \"get\",\n\n    /** Get the current value */\n    value: function get() {\n      var node = getAnimated(this);\n      return node && node.getValue();\n    }\n    /** Create a spring that maps our value to another value */\n\n  }, {\n    key: \"to\",\n    value: function to() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return to$1(this, args);\n    }\n    /** @deprecated Use the `to` method instead. */\n\n  }, {\n    key: \"interpolate\",\n    value: function interpolate() {\n      deprecateInterpolate();\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return to$1(this, args);\n    }\n    /** @internal */\n\n    /** @internal */\n\n  }, {\n    key: \"addChild\",\n    value: function addChild(child) {\n      if (!this._children.size) this._attach();\n\n      this._children.add(child);\n    }\n    /** @internal */\n\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(child) {\n      this._children.delete(child);\n\n      if (!this._children.size) this._detach();\n    }\n    /** @internal */\n\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(_ref4) {\n      var type = _ref4.type;\n\n      if (this.idle) {\n        // Start animating when a parent does.\n        if (type == 'start') {\n          this._reset();\n\n          this._start();\n        }\n      } // Reset our animation state when a parent does, but only when\n      // our animation is active.\n      else if (type == 'reset') {\n          this._reset();\n        }\n    }\n    /** Called when the first child is added. */\n\n  }, {\n    key: \"_attach\",\n    value: function _attach() {}\n    /** Called when the last child is removed. */\n\n  }, {\n    key: \"_detach\",\n    value: function _detach() {}\n    /**\n     * Reset our animation state (eg: start values, velocity, etc)\n     * and tell our children to do the same.\n     *\n     * This is called when our goal value is changed during (or before)\n     * an animation.\n     */\n\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._emit({\n        type: 'reset',\n        parent: this\n      });\n    }\n    /**\n     * Start animating if possible.\n     *\n     * Note: Be sure to call `_reset` first, or the animation will break.\n     * This method would like to call `_reset` for you, but that would\n     * interfere with paused animations.\n     */\n\n  }, {\n    key: \"_start\",\n    value: function _start() {\n      this._emit({\n        type: 'start',\n        parent: this\n      });\n    }\n    /** Tell our children about our new value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(value) {\n      var idle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._emit({\n        type: 'change',\n        parent: this,\n        value: value,\n        idle: idle\n      });\n    }\n    /** Tell our children about our new priority */\n\n  }, {\n    key: \"_onPriorityChange\",\n    value: function _onPriorityChange(priority) {\n      if (!this.idle) {\n        // Make the frameloop aware of our new priority.\n        frameLoop.start(this);\n      }\n\n      this._emit({\n        type: 'priority',\n        parent: this,\n        priority: priority\n      });\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event) {\n      // Clone \"_children\" so it can be safely mutated inside the loop.\n      _each(Array.from(this._children), function (child) {\n        child.onParentChange(event);\n      });\n    }\n  }, {\n    key: \"priority\",\n    get: function get() {\n      return this._priority;\n    },\n    set: function set(priority) {\n      if (this._priority != priority) {\n        this._priority = priority;\n\n        this._onPriorityChange(priority);\n      }\n    }\n  }]);\n\n  return FrameValue;\n}(FluidValue); // TODO: use \"const enum\" when Babel supports it\n\n/** The spring has not animated yet */\n\n\nvar CREATED = 'CREATED';\n/** The spring has animated before */\n\nvar IDLE = 'IDLE';\n/** The spring is animating */\n\nvar ACTIVE = 'ACTIVE';\n/** The spring is frozen in time */\n\nvar PAUSED = 'PAUSED';\n/** The spring cannot be animated */\n\nvar DISPOSED = 'DISPOSED';\n/**\n * Only numbers, strings, and arrays of numbers/strings are supported.\n * Non-animatable strings are also supported.\n */\n\nvar SpringValue = /*#__PURE__*/function (_FrameValue) {\n  _inherits(SpringValue, _FrameValue);\n\n  var _super3 = _createSuper(SpringValue);\n\n  /** The property name used when `to` or `from` is an object. Useful when debugging too. */\n\n  /** The animation state */\n\n  /** The queue of pending props */\n\n  /** The lifecycle phase of this spring */\n\n  /** The state for `runAsync` calls */\n\n  /** Some props have customizable default values */\n\n  /** The counter for tracking `scheduleProps` calls */\n\n  /** The last `scheduleProps` call that changed the `to` prop */\n  function SpringValue(arg1, arg2) {\n    var _this3;\n\n    _classCallCheck(this, SpringValue);\n\n    _this3 = _super3.call(this);\n    _this3.key = void 0;\n    _this3.animation = new Animation();\n    _this3.queue = void 0;\n    _this3._phase = CREATED;\n    _this3._state = {\n      pauseQueue: new Set(),\n      resumeQueue: new Set()\n    };\n    _this3._defaultProps = {};\n    _this3._lastCallId = 0;\n    _this3._lastToId = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      var props = is.obj(arg1) ? _extends({}, arg1) : _extends(_extends({}, arg2), {}, {\n        from: arg1\n      });\n      props.default = true;\n\n      _this3.start(props);\n    }\n\n    return _this3;\n  }\n\n  _createClass(SpringValue, [{\n    key: \"advance\",\n\n    /** Advance the current animation by a number of milliseconds */\n    value: function advance(dt) {\n      var _this4 = this;\n\n      var idle = true;\n      var changed = false;\n      var anim = this.animation;\n      var config = anim.config,\n          toValues = anim.toValues;\n      var payload = getPayload(anim.to);\n\n      if (!payload) {\n        var toConfig = getFluidConfig(anim.to);\n\n        if (toConfig) {\n          toValues = toArray(toConfig.get());\n        }\n      }\n\n      anim.values.forEach(function (node, i) {\n        if (node.done) return; // The \"anim.toValues\" array must exist when no parent exists.\n\n        var to = payload ? payload[i].lastPosition : toValues[i];\n        var finished = anim.immediate;\n        var position = to;\n\n        if (!finished) {\n          position = node.lastPosition; // Loose springs never move.\n\n          if (config.tension <= 0) {\n            node.done = true;\n            return;\n          }\n\n          var elapsed = node.elapsedTime += dt;\n          var from = anim.fromValues[i];\n          var v0 = node.v0 != null ? node.v0 : node.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n          var velocity; // Duration easing\n\n          if (!is.und(config.duration)) {\n            var p = config.progress || 0;\n            if (config.duration <= 0) p = 1;else p += (1 - p) * Math.min(1, elapsed / config.duration);\n            position = from + config.easing(p) * (to - from);\n            velocity = (position - node.lastPosition) / dt;\n            finished = p == 1;\n          } // Decay easing\n          else if (config.decay) {\n              var decay = config.decay === true ? 0.998 : config.decay;\n              var e = Math.exp(-(1 - decay) * elapsed);\n              position = from + v0 / (1 - decay) * (1 - e);\n              finished = Math.abs(node.lastPosition - position) < 0.1; // derivative of position\n\n              velocity = v0 * e;\n            } // Spring easing\n            else {\n                velocity = node.lastVelocity == null ? v0 : node.lastVelocity;\n                /** The smallest distance from a value before being treated like said value. */\n\n                var precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));\n                /** The velocity at which movement is essentially none */\n\n                var restVelocity = config.restVelocity || precision / 10; // Bouncing is opt-in (not to be confused with overshooting)\n\n                var bounceFactor = config.clamp ? 0 : config.bounce;\n                var canBounce = !is.und(bounceFactor);\n                /** When `true`, the value is increasing over time */\n\n                var isGrowing = from == to ? node.v0 > 0 : from < to;\n                /** When `true`, the velocity is considered moving */\n\n                var isMoving;\n                /** When `true`, the velocity is being deflected or clamped */\n\n                var isBouncing = false;\n                var step = 1; // 1ms\n\n                var numSteps = Math.ceil(dt / step);\n\n                for (var n = 0; n < numSteps; ++n) {\n                  isMoving = Math.abs(velocity) > restVelocity;\n\n                  if (!isMoving) {\n                    finished = Math.abs(to - position) <= precision;\n\n                    if (finished) {\n                      break;\n                    }\n                  }\n\n                  if (canBounce) {\n                    isBouncing = position == to || position > to == isGrowing; // Invert the velocity with a magnitude, or clamp it.\n\n                    if (isBouncing) {\n                      velocity = -velocity * bounceFactor;\n                      position = to;\n                    }\n                  }\n\n                  var springForce = -config.tension * 0.000001 * (position - to);\n                  var dampingForce = -config.friction * 0.001 * velocity;\n                  var acceleration = (springForce + dampingForce) / config.mass; // pt/ms^2\n\n                  velocity = velocity + acceleration * step; // pt/ms\n\n                  position = position + velocity * step;\n                }\n              }\n\n          node.lastVelocity = velocity;\n\n          if (Number.isNaN(position)) {\n            console.warn(\"Got NaN while animating:\", _this4);\n            finished = true;\n          }\n        } // Parent springs must finish before their children can.\n\n\n        if (payload && !payload[i].done) {\n          finished = false;\n        }\n\n        if (finished) {\n          node.done = true;\n        } else {\n          idle = false;\n        }\n\n        if (node.setValue(position, config.round)) {\n          changed = true;\n        }\n      });\n\n      if (idle) {\n        this.finish();\n      } else if (changed) {\n        this._onChange(this.get());\n      }\n\n      return idle;\n    }\n    /** Check the current phase */\n\n  }, {\n    key: \"is\",\n    value: function is(phase) {\n      return this._phase == phase;\n    }\n    /** Set the current value, while stopping the current animation */\n\n  }, {\n    key: \"set\",\n    value: function set(value) {\n      var _this5 = this;\n\n      batchedUpdates(function () {\n        _this5._focus(value);\n\n        if (_this5._set(value)) {\n          // Ensure change observers are notified. When active,\n          // the \"_stop\" method handles this.\n          if (!_this5.is(ACTIVE)) {\n            return _this5._onChange(_this5.get(), true);\n          }\n        }\n\n        _this5._stop();\n      });\n      return this;\n    }\n    /**\n     * Freeze the active animation in time.\n     * This does nothing when not animating.\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      checkDisposed(this, 'pause');\n\n      if (!this.is(PAUSED)) {\n        this._phase = PAUSED;\n        flush(this._state.pauseQueue, function (onPause) {\n          return onPause();\n        });\n      }\n    }\n    /** Resume the animation if paused. */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      checkDisposed(this, 'resume');\n\n      if (this.is(PAUSED)) {\n        this._start();\n\n        flush(this._state.resumeQueue, function (onResume) {\n          return onResume();\n        });\n      }\n    }\n    /**\n     * Skip to the end of the current animation.\n     *\n     * All `onRest` callbacks are passed `{finished: true}`\n     */\n\n  }, {\n    key: \"finish\",\n    value: function finish(to) {\n      var _this6 = this;\n\n      this.resume();\n\n      if (this.is(ACTIVE)) {\n        var anim = this.animation; // Decay animations have an implicit goal.\n\n        if (!anim.config.decay && is.und(to)) {\n          to = anim.to;\n        } // Set the value if we can.\n\n\n        if (!is.und(to)) {\n          this._set(to);\n        }\n\n        batchedUpdates(function () {\n          // Ensure the \"onStart\" and \"onRest\" props are called.\n          if (!anim.changed) {\n            anim.changed = true;\n\n            if (anim.onStart) {\n              anim.onStart(_this6);\n            }\n          } // Exit the frameloop.\n\n\n          _this6._stop();\n        });\n      }\n\n      return this;\n    }\n    /** Push props into the pending queue. */\n\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      checkDisposed(this, 'update');\n      var queue = this.queue || (this.queue = []);\n      queue.push(props);\n      return this;\n    }\n    /**\n     * Update this value's animation using the queue of pending props,\n     * and unpause the current animation (if one is frozen).\n     *\n     * When arguments are passed, a new animation is created, and the\n     * queued animations are left alone.\n     */\n\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(to, arg2) {\n        var _this7 = this;\n\n        var queue, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                checkDisposed(this, 'start');\n\n                if (!is.und(to)) {\n                  queue = [is.obj(to) ? to : _extends(_extends({}, arg2), {}, {\n                    to: to\n                  })];\n                } else {\n                  queue = this.queue || [];\n                  this.queue = [];\n                }\n\n                _context.next = 4;\n                return Promise.all(queue.map(function (props) {\n                  return _this7._update(props);\n                }));\n\n              case 4:\n                results = _context.sent;\n                return _context.abrupt(\"return\", getCombinedResult(this, results));\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function start(_x5, _x6) {\n        return _start2.apply(this, arguments);\n      }\n\n      return start;\n    }()\n    /**\n     * Stop the current animation, and cancel any delayed updates.\n     *\n     * Pass `true` to call `onRest` with `cancelled: true`.\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop(cancel) {\n      var _this8 = this;\n\n      if (!this.is(DISPOSED)) {\n        cancelAsync(this._state, this._lastCallId); // Ensure the `to` value equals the current value.\n\n        this._focus(this.get()); // Exit the frameloop and notify `onRest` listeners.\n\n\n        batchedUpdates(function () {\n          return _this8._stop(cancel);\n        });\n      }\n\n      return this;\n    }\n    /** Restart the animation. */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update({\n        reset: true\n      });\n    }\n    /** Prevent future animations, and stop the current animation */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.is(DISPOSED)) {\n        if (this.animation) {\n          // Prevent \"onRest\" calls when disposed.\n          this.animation.onRest = [];\n        }\n\n        this.stop();\n        this._phase = DISPOSED;\n      }\n    }\n    /** @internal */\n\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(event) {\n      _get(_getPrototypeOf(SpringValue.prototype), \"onParentChange\", this).call(this, event);\n\n      if (event.type == 'change') {\n        if (!this.is(ACTIVE)) {\n          this._reset();\n\n          if (!this.is(PAUSED)) {\n            this._start();\n          }\n        }\n      } else if (event.type == 'priority') {\n        this.priority = event.priority + 1;\n      }\n    }\n    /**\n     * Parse the `to` and `from` range from the given `props` object.\n     *\n     * This also ensures the initial value is available to animated components\n     * during the render phase.\n     */\n\n  }, {\n    key: \"_prepareNode\",\n    value: function _prepareNode(_ref5) {\n      var to = _ref5.to,\n          from = _ref5.from,\n          reverse = _ref5.reverse;\n      var key = this.key || '';\n      to = !is.obj(to) || getFluidConfig(to) ? to : to[key];\n      from = !is.obj(from) || getFluidConfig(from) ? from : from[key]; // Create the range now to avoid \"reverse\" logic.\n\n      var range = {\n        to: to,\n        from: from\n      }; // Before ever animating, this method ensures an `Animated` node\n      // exists and keeps its value in sync with the \"from\" prop.\n\n      if (this.is(CREATED)) {\n        if (reverse) {\n          var _ref6 = [from, to];\n          to = _ref6[0];\n          from = _ref6[1];\n        }\n\n        from = getFluidValue(from);\n\n        var node = this._updateNode(is.und(from) ? getFluidValue(to) : from);\n\n        if (node && !is.und(from)) {\n          node.setValue(from);\n        }\n      }\n\n      return range;\n    }\n    /**\n     * Create an `Animated` node if none exists or the given value has an\n     * incompatible type. Do nothing if `value` is undefined.\n     *\n     * The newest `Animated` node is returned.\n     */\n\n  }, {\n    key: \"_updateNode\",\n    value: function _updateNode(value) {\n      var node = getAnimated(this);\n\n      if (!is.und(value)) {\n        var nodeType = this._getNodeType(value);\n\n        if (!node || node.constructor !== nodeType) {\n          setAnimated(this, node = nodeType.create(value));\n        }\n      }\n\n      return node;\n    }\n    /** Return the `Animated` node constructor for a given value */\n\n  }, {\n    key: \"_getNodeType\",\n    value: function _getNodeType(value) {\n      var parentNode = getAnimated(value);\n      return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n    }\n    /** Schedule an animation to run after an optional delay */\n\n  }, {\n    key: \"_update\",\n    value: function _update(props, isLoop) {\n      var _this9 = this;\n\n      var defaultProps = this._defaultProps;\n\n      var mergeDefaultProp = function mergeDefaultProp(key) {\n        var value = getDefaultProp(props, key);\n\n        if (!is.und(value)) {\n          defaultProps[key] = value;\n        } // For `cancel` and `pause`, a truthy default always wins.\n\n\n        if (defaultProps[key]) {\n          props[key] = defaultProps[key];\n        }\n      }; // These props are coerced into booleans by the `scheduleProps` function,\n      // so they need their default values processed before then.\n\n\n      mergeDefaultProp('cancel');\n      mergeDefaultProp('pause'); // Ensure the initial value can be accessed by animated components.\n\n      var range = this._prepareNode(props);\n\n      return scheduleProps(++this._lastCallId, {\n        key: this.key,\n        props: props,\n        state: this._state,\n        actions: {\n          pause: this.pause.bind(this),\n          resume: this.resume.bind(this),\n          start: this._merge.bind(this, range)\n        }\n      }).then(function (result) {\n        if (props.loop && result.finished && !(isLoop && result.noop)) {\n          var nextProps = createLoopUpdate(props);\n\n          if (nextProps) {\n            return _this9._update(nextProps, true);\n          }\n        }\n\n        return result;\n      });\n    }\n    /** Merge props into the current animation */\n\n  }, {\n    key: \"_merge\",\n    value: function _merge(range, props, resolve) {\n      // The \"cancel\" prop cancels all pending delays and it forces the\n      // active animation to stop where it is.\n      if (props.cancel) {\n        this.stop(true);\n        return resolve(getCancelledResult(this));\n      }\n\n      var key = this.key,\n          anim = this.animation;\n      var defaultProps = this._defaultProps;\n      /** The \"to\" prop is defined. */\n\n      var hasToProp = !is.und(range.to);\n      /** The \"from\" prop is defined. */\n\n      var hasFromProp = !is.und(range.from); // Avoid merging other props if implicitly prevented, except\n      // when both the \"to\" and \"from\" props are undefined.\n\n      if (hasToProp || hasFromProp) {\n        if (props.callId > this._lastToId) {\n          this._lastToId = props.callId;\n        } else {\n          return resolve(getCancelledResult(this));\n        }\n      }\n      /** Get the value of a prop, or its default value */\n\n\n      var get = function get(prop) {\n        return !is.und(props[prop]) ? props[prop] : defaultProps[prop];\n      }; // Call \"onDelayEnd\" before merging props, but after cancellation checks.\n\n\n      var onDelayEnd = coerceEventProp(get('onDelayEnd'), key);\n\n      if (onDelayEnd) {\n        onDelayEnd(props, this);\n      }\n\n      if (props.default) {\n        mergeDefaultProps(defaultProps, props, ['pause', 'cancel']);\n      }\n\n      var prevTo = anim.to,\n          prevFrom = anim.from;\n      var _range$to = range.to,\n          to = _range$to === void 0 ? prevTo : _range$to,\n          _range$from = range.from,\n          from = _range$from === void 0 ? prevFrom : _range$from; // Focus the \"from\" value if changing without a \"to\" value.\n\n      if (hasFromProp && !hasToProp) {\n        to = from;\n      } // Flip the current range if \"reverse\" is true.\n\n\n      if (props.reverse) {\n        var _ref7 = [from, to];\n        to = _ref7[0];\n        from = _ref7[1];\n      }\n      /** The \"from\" value is changing. */\n\n\n      var hasFromChanged = !isEqual(from, prevFrom);\n\n      if (hasFromChanged) {\n        anim.from = from;\n      }\n      /** The \"to\" value is changing. */\n\n\n      var hasToChanged = !isEqual(to, prevTo);\n\n      if (hasToChanged) {\n        this._focus(to);\n      } // Both \"from\" and \"to\" can use a fluid config (thanks to http://npmjs.org/fluids).\n\n\n      var toConfig = getFluidConfig(to);\n      var fromConfig = getFluidConfig(from);\n\n      if (fromConfig) {\n        from = fromConfig.get();\n      }\n      /** The \"to\" prop is async. */\n\n\n      var hasAsyncTo = is.arr(props.to) || is.fun(props.to);\n      var config = anim.config;\n      var decay = config.decay,\n          velocity = config.velocity; // The \"runAsync\" function treats the \"config\" prop as a default,\n      // so we must avoid merging it when the \"to\" prop is async.\n\n      if (props.config && !hasAsyncTo) {\n        mergeConfig(config, callProp(props.config, key), // Avoid calling the same \"config\" prop twice.\n        props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n      } // This instance might not have its Animated node yet. For example,\n      // the constructor can be given props without a \"to\" or \"from\" value.\n\n\n      var node = getAnimated(this);\n\n      if (!node || is.und(to)) {\n        return resolve(getFinishedResult(this, true));\n      }\n      /** When true, start at the \"from\" value. */\n\n\n      var reset = // When `reset` is undefined, the `from` prop implies `reset: true`,\n      // except for declarative updates. When `reset` is defined, there\n      // must exist a value to animate from.\n      is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key); // The current value, where the animation starts from.\n\n      var value = reset ? from : this.get(); // The animation ends at this value, unless \"to\" is fluid.\n\n      var goal = computeGoal(to); // Only specific types can be animated to/from.\n\n      var isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal); // When true, the value changes instantly on the next frame.\n\n      var immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n      if (hasToChanged) {\n        if (immediate) {\n          node = this._updateNode(goal);\n        } else {\n          var nodeType = this._getNodeType(to);\n\n          if (nodeType !== node.constructor) {\n            throw Error(\"Cannot animate between \" + node.constructor.name + \" and \" + nodeType.name + \", as the \\\"to\\\" prop suggests\");\n          }\n        }\n      } // The type of Animated node for the goal value.\n\n\n      var goalType = node.constructor; // When the goal value is fluid, we don't know if its value\n      // will change before the next animation frame, so it always\n      // starts the animation to be safe.\n\n      var started = !!toConfig;\n      var finished = false;\n\n      if (!started) {\n        // When true, the current value has probably changed.\n        var hasValueChanged = reset || this.is(CREATED) && hasFromChanged; // When the \"to\" value or current value are changed,\n        // start animating if not already finished.\n\n        if (hasToChanged || hasValueChanged) {\n          finished = isEqual(computeGoal(value), goal);\n          started = !finished;\n        } // Changing \"decay\" or \"velocity\" starts the animation.\n\n\n        if (!isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n          started = true;\n        }\n      } // When an active animation changes its goal to its current value:\n\n\n      if (finished && this.is(ACTIVE)) {\n        // Avoid an abrupt stop unless the animation is being reset.\n        if (anim.changed && !reset) {\n          started = true;\n        } // Stop the animation before its first frame.\n        else if (!started) {\n            this._stop();\n          }\n      }\n\n      if (!hasAsyncTo) {\n        // Make sure our \"toValues\" are updated even if our previous\n        // \"to\" prop is a fluid value whose current value is also ours.\n        if (started || getFluidConfig(prevTo)) {\n          anim.values = node.getPayload();\n          anim.toValues = toConfig ? null : goalType == AnimatedString ? [1] : toArray(goal);\n        }\n\n        anim.immediate = immediate;\n        anim.onStart = coerceEventProp(get('onStart'), key);\n        anim.onChange = coerceEventProp(get('onChange'), key); // The \"reset\" prop tries to reuse the old \"onRest\" prop,\n        // unless you defined a new \"onRest\" prop.\n\n        var onRestQueue = anim.onRest;\n        var onRest = reset && !props.onRest ? onRestQueue[0] || noop : checkFinishedOnRest(coerceEventProp(get('onRest'), key), this); // In most cases, the animation after this one won't reuse our\n        // \"onRest\" prop. Instead, the _default_ \"onRest\" prop is used\n        // when the next animation has an undefined \"onRest\" prop.\n\n        if (started) {\n          anim.onRest = [onRest, checkFinishedOnRest(resolve, this)]; // Flush the \"onRest\" queue for the previous animation.\n\n          var onRestIndex = reset ? 0 : 1;\n\n          if (onRestIndex < onRestQueue.length) {\n            batchedUpdates(function () {\n              for (; onRestIndex < onRestQueue.length; onRestIndex++) {\n                onRestQueue[onRestIndex]();\n              }\n            });\n          }\n        } // The \"onRest\" prop is always first, and it can be updated even\n        // if a new animation is not started by this update.\n        else if (reset || props.onRest) {\n            anim.onRest[0] = onRest;\n          }\n      } // By this point, every prop has been merged.\n\n\n      var onProps = coerceEventProp(get('onProps'), key);\n\n      if (onProps) {\n        onProps(props, this);\n      } // Update our node even if the animation is idle.\n\n\n      if (reset) {\n        node.setValue(value);\n      }\n\n      if (hasAsyncTo) {\n        resolve(runAsync(props.to, props, this._state, this));\n      } // Start an animation\n      else if (started) {\n          // Must be idle for \"onStart\" to be called again.\n          if (reset) this._phase = IDLE;\n\n          this._reset();\n\n          this._start();\n        } // Postpone promise resolution until the animation is finished,\n        // so that no-op updates still resolve at the expected time.\n        else if (this.is(ACTIVE) && !hasToChanged) {\n            anim.onRest.push(checkFinishedOnRest(resolve, this));\n          } // Resolve our promise immediately.\n          else {\n              resolve(getNoopResult(this, value));\n            }\n    }\n    /** Update the `animation.to` value, which might be a `FluidValue` */\n\n  }, {\n    key: \"_focus\",\n    value: function _focus(value) {\n      var anim = this.animation;\n\n      if (value !== anim.to) {\n        var _config = getFluidConfig(anim.to);\n\n        if (_config) {\n          _config.removeChild(this);\n        }\n\n        anim.to = value;\n        var priority = 0;\n\n        if (_config = getFluidConfig(value)) {\n          _config.addChild(this);\n\n          if (isFrameValue(value)) {\n            priority = (value.priority || 0) + 1;\n          }\n        }\n\n        this.priority = priority;\n      }\n    }\n    /** Set the current value and our `node` if necessary. The `_onChange` method is *not* called. */\n\n  }, {\n    key: \"_set\",\n    value: function _set(value) {\n      var config = getFluidConfig(value);\n\n      if (config) {\n        value = config.get();\n      }\n\n      var node = getAnimated(this);\n      var oldValue = node && node.getValue();\n\n      if (node) {\n        node.setValue(value);\n      } else {\n        this._updateNode(value);\n      }\n\n      return !isEqual(value, oldValue);\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(value) {\n      var idle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var anim = this.animation; // The \"onStart\" prop is called on the first change after entering the\n      // frameloop, but never for immediate animations.\n\n      if (!anim.changed && !idle) {\n        anim.changed = true;\n\n        if (anim.onStart) {\n          anim.onStart(this);\n        }\n      }\n\n      if (anim.onChange) {\n        anim.onChange(value, this);\n      }\n\n      _get(_getPrototypeOf(SpringValue.prototype), \"_onChange\", this).call(this, value, idle);\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      var anim = this.animation; // Reset the state of each Animated node.\n\n      getAnimated(this).reset(anim.to); // Ensure the `onStart` prop will be called.\n\n      if (!this.is(ACTIVE)) {\n        anim.changed = false;\n      } // Use the current values as the from values.\n\n\n      if (!anim.immediate) {\n        anim.fromValues = anim.values.map(function (node) {\n          return node.lastPosition;\n        });\n      }\n\n      _get(_getPrototypeOf(SpringValue.prototype), \"_reset\", this).call(this);\n    }\n  }, {\n    key: \"_start\",\n    value: function _start() {\n      if (!this.is(ACTIVE)) {\n        this._phase = ACTIVE;\n\n        _get(_getPrototypeOf(SpringValue.prototype), \"_start\", this).call(this); // The \"skipAnimation\" global avoids the frameloop.\n\n\n        if (skipAnimation) {\n          this.finish();\n        } else {\n          frameLoop.start(this);\n        }\n      }\n    }\n    /**\n     * Exit the frameloop and notify `onRest` listeners.\n     *\n     * Always wrap `_stop` calls with `batchedUpdates`.\n     */\n\n  }, {\n    key: \"_stop\",\n    value: function _stop(cancel) {\n      this.resume();\n\n      if (this.is(ACTIVE)) {\n        this._phase = IDLE; // Always let change observers know when a spring becomes idle.\n\n        this._onChange(this.get(), true);\n\n        var anim = this.animation;\n\n        _each(anim.values, function (node) {\n          node.done = true;\n        });\n\n        var onRestQueue = anim.onRest;\n\n        if (onRestQueue.length) {\n          // Preserve the \"onRest\" prop when the goal is dynamic.\n          anim.onRest = [anim.toValues ? noop : onRestQueue[0]]; // Never call the \"onRest\" prop for no-op animations.\n\n          if (!anim.changed) {\n            onRestQueue[0] = noop;\n          }\n\n          _each(onRestQueue, function (onRest) {\n            return onRest(cancel);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"idle\",\n    get: function get() {\n      return !this.is(ACTIVE) && !this._state.asyncTo;\n    }\n  }, {\n    key: \"goal\",\n    get: function get() {\n      return getFluidValue(this.animation.to);\n    }\n  }, {\n    key: \"velocity\",\n    get: function get() {\n      var node = getAnimated(this);\n      return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(function (node) {\n        return node.lastVelocity || 0;\n      });\n    }\n  }]);\n\n  return SpringValue;\n}(FrameValue);\n\nfunction checkDisposed(spring, name) {\n  if (spring.is(DISPOSED)) {\n    throw Error(\"Cannot call \\\"\" + name + \"\\\" of disposed \\\"\" + spring.constructor.name + \"\\\" object\");\n  }\n}\n/** Coerce an event prop to an event handler */\n\n\nfunction coerceEventProp(prop, key) {\n  return is.fun(prop) ? prop : key && prop ? prop[key] : undefined;\n}\n/**\n * The \"finished\" value is determined by each \"onRest\" handler,\n * based on whether the current value equals the goal value that\n * was calculated at the time the \"onRest\" handler was set.\n */\n\n\nvar checkFinishedOnRest = function checkFinishedOnRest(onRest, spring) {\n  var to = spring.animation.to;\n  return onRest ? function (cancel) {\n    if (cancel) {\n      onRest(getCancelledResult(spring));\n    } else {\n      var goal = computeGoal(to);\n      var value = computeGoal(spring.get());\n      var finished = isEqual(value, goal);\n      onRest(getFinishedResult(spring, finished));\n    }\n  } : noop;\n};\n\nfunction createLoopUpdate(props) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.loop;\n  var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : props.to;\n  var loopRet = callProp(loop);\n\n  if (loopRet) {\n    var overrides = loopRet !== true && inferTo(loopRet);\n    var reverse = (overrides || props).reverse;\n    var reset = !overrides || overrides.reset;\n    return createUpdate(_extends(_extends({}, props), {}, {\n      loop: loop,\n      // Avoid updating default props when looping.\n      default: false,\n      // For the \"reverse\" prop to loop as expected, the \"to\" prop\n      // must be undefined. The \"reverse\" prop is ignored when the\n      // \"to\" prop is an array or function.\n      to: !reverse || is.arr(to) || is.fun(to) ? to : undefined,\n      // Avoid defining the \"from\" prop if a reset is unwanted.\n      from: reset ? props.from : undefined,\n      reset: reset\n    }, overrides));\n  }\n}\n/**\n * Return a new object based on the given `props`.\n *\n * - All unreserved props are moved into the `to` prop object.\n * - The `to` and `from` props are deleted when falsy.\n * - The `keys` prop is set to an array of affected keys,\n *   or `null` if all keys are affected.\n */\n\n\nfunction createUpdate(props) {\n  var _props = props = inferTo(props),\n      to = _props.to,\n      from = _props.from; // Collect the keys affected by this update.\n\n\n  var keys = new Set();\n\n  if (from) {\n    findDefined(from, keys);\n  } else {\n    // Falsy values are deleted to avoid merging issues.\n    delete props.from;\n  }\n\n  if (is.obj(to)) {\n    findDefined(to, keys);\n  } else if (!to) {\n    // Falsy values are deleted to avoid merging issues.\n    delete props.to;\n  } // The \"keys\" prop helps in applying updates to affected keys only.\n\n\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\n/**\n * A modified version of `createUpdate` meant for declarative APIs.\n */\n\n\nfunction declareUpdate(props) {\n  var update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update, [// Avoid forcing `immediate: true` onto imperative updates.\n    update.immediate === true && 'immediate']);\n  }\n\n  return update;\n}\n/** Find keys with defined values */\n\n\nfunction findDefined(values, keys) {\n  _each(values, function (value, key) {\n    return value != null && keys.add(key);\n  });\n}\n/** Events batched by the `Controller` class */\n\n\nvar BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];\nvar nextId$1 = 1;\n/** Queue of pending updates for a `Controller` instance. */\n\nvar Controller = /*#__PURE__*/function () {\n  /** The animated values */\n\n  /** The queue of props passed to the `update` method. */\n\n  /** Custom handler for flushing update queues */\n\n  /** These props are used by all future spring values */\n\n  /** The combined phase of our spring values */\n\n  /** The counter for tracking `scheduleProps` calls */\n\n  /** The values currently being animated */\n\n  /** State used by the `runAsync` function */\n\n  /** The event queues that are flushed once per frame maximum */\n  function Controller(props, flush) {\n    _classCallCheck(this, Controller);\n\n    this.id = nextId$1++;\n    this.springs = {};\n    this.queue = [];\n    this._flush = void 0;\n    this._initialProps = void 0;\n    this._phase = CREATED;\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._state = {\n      pauseQueue: new Set(),\n      resumeQueue: new Set()\n    };\n    this._events = {\n      onStart: new Set(),\n      onChange: new Set(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush) {\n      this._flush = flush;\n    }\n\n    if (props) {\n      this.start(props);\n    }\n  }\n  /**\n   * Equals `true` when no spring values are in the frameloop, and\n   * no async animation is currently active.\n   */\n\n\n  _createClass(Controller, [{\n    key: \"is\",\n\n    /** Check the current phase */\n    value: function is(phase) {\n      return this._phase == phase;\n    }\n    /** Get the current values of our springs */\n\n  }, {\n    key: \"get\",\n    value: function get() {\n      var values = {};\n      this.each(function (spring, key) {\n        return values[key] = spring.get();\n      });\n      return values;\n    }\n    /** Push an update onto the queue of each value. */\n\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      if (props) this.queue.push(createUpdate(props));\n      return this;\n    }\n    /**\n     * Start the queued animations for every spring, and resolve the returned\n     * promise once all queued animations have finished or been cancelled.\n     *\n     * When you pass a queue (instead of nothing), that queue is used instead of\n     * the queued animations added with the `update` method, which are left alone.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start(props) {\n      var queue = props ? toArray(props).map(createUpdate) : this.queue;\n\n      if (!props) {\n        this.queue = [];\n      }\n\n      if (this._flush) {\n        return this._flush(this, queue);\n      }\n\n      prepareKeys(this, queue);\n      return flushUpdateQueue(this, queue);\n    }\n    /** Stop one animation, some animations, or all animations */\n\n  }, {\n    key: \"stop\",\n    value: function stop(keys) {\n      if (is.und(keys)) {\n        this.each(function (spring) {\n          return spring.stop();\n        });\n        cancelAsync(this._state, this._lastAsyncId);\n      } else {\n        var springs = this.springs;\n\n        _each(toArray(keys), function (key) {\n          return springs[key].stop();\n        });\n      }\n\n      return this;\n    }\n    /** Freeze the active animation in time */\n\n  }, {\n    key: \"pause\",\n    value: function pause(keys) {\n      if (is.und(keys)) {\n        this.each(function (spring) {\n          return spring.pause();\n        });\n      } else {\n        var springs = this.springs;\n\n        _each(toArray(keys), function (key) {\n          return springs[key].pause();\n        });\n      }\n\n      return this;\n    }\n    /** Resume the animation if paused. */\n\n  }, {\n    key: \"resume\",\n    value: function resume(keys) {\n      if (is.und(keys)) {\n        this.each(function (spring) {\n          return spring.resume();\n        });\n      } else {\n        var springs = this.springs;\n\n        _each(toArray(keys), function (key) {\n          return springs[key].resume();\n        });\n      }\n\n      return this;\n    }\n    /** Restart every animation. */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.each(function (spring) {\n        return spring.reset();\n      }); // TODO: restart async \"to\" prop\n\n      return this;\n    }\n    /** Call a function once per spring value */\n\n  }, {\n    key: \"each\",\n    value: function each(iterator) {\n      _each(this.springs, iterator);\n    }\n    /** Destroy every spring in this controller */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._state.asyncTo = undefined;\n      this.each(function (spring) {\n        return spring.dispose();\n      });\n      this.springs = {};\n    }\n    /** @internal Called at the end of every animation frame */\n\n  }, {\n    key: \"_onFrame\",\n    value: function _onFrame() {\n      var _this10 = this;\n\n      var _this$_events = this._events,\n          onStart = _this$_events.onStart,\n          onChange = _this$_events.onChange,\n          onRest = _this$_events.onRest;\n      var isActive = this._active.size > 0;\n\n      if (isActive && this._phase != ACTIVE) {\n        this._phase = ACTIVE;\n        flush(onStart, function (onStart) {\n          return onStart(_this10);\n        });\n      }\n\n      var values = (onChange.size || !isActive && onRest.size) && this.get();\n      flush(onChange, function (onChange) {\n        return onChange(values);\n      }); // The \"onRest\" queue is only flushed when all springs are idle.\n\n      if (!isActive) {\n        this._phase = IDLE;\n        flush(onRest, function (_ref8) {\n          var _ref9 = _slicedToArray(_ref8, 2),\n              onRest = _ref9[0],\n              result = _ref9[1];\n\n          result.value = values;\n          onRest(result);\n        });\n      }\n    }\n    /** @internal */\n\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(event) {\n      if (event.type == 'change') {\n        this._active[event.idle ? 'delete' : 'add'](event.parent);\n\n        frameLoop.onFrame(this._onFrame);\n      }\n    }\n  }, {\n    key: \"idle\",\n    get: function get() {\n      return !this._state.asyncTo && Object.values(this.springs).every(function (spring) {\n        return spring.idle;\n      });\n    }\n  }]);\n\n  return Controller;\n}();\n/**\n * Warning: Props might be mutated.\n */\n\n\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(function (props) {\n    return flushUpdate(ctrl, props);\n  })).then(function (results) {\n    return getCombinedResult(ctrl, results);\n  });\n}\n/**\n * Warning: Props might be mutated.\n *\n * Process a single set of props using the given controller.\n *\n * The returned promise resolves to `true` once the update is\n * applied and any animations it starts are finished without being\n * stopped or cancelled.\n */\n\n\nfunction flushUpdate(ctrl, props, isLoop) {\n  var to = props.to,\n      loop = props.loop,\n      onRest = props.onRest; // Looping must be handled in this function, or else the values\n  // would end up looping out-of-sync in many common cases.\n\n  if (loop) {\n    props.loop = false;\n  }\n\n  var asyncTo = is.arr(to) || is.fun(to) ? to : undefined;\n\n  if (asyncTo) {\n    props.to = undefined;\n    props.onRest = undefined;\n  } else {\n    // For certain events, use batching to prevent multiple calls per frame.\n    // However, batching is avoided when the `to` prop is async, because any\n    // event props are used as default props instead.\n    _each(BATCHED_EVENTS, function (key) {\n      var handler = props[key];\n\n      if (is.fun(handler)) {\n        var queue = ctrl['_events'][key];\n\n        if (queue instanceof Set) {\n          props[key] = function () {\n            return queue.add(handler);\n          };\n        } else {\n          props[key] = function (_ref10) {\n            var finished = _ref10.finished,\n                cancelled = _ref10.cancelled;\n            var result = queue.get(handler);\n\n            if (result) {\n              if (!finished) result.finished = false;\n              if (cancelled) result.cancelled = true;\n            } else {\n              // The \"value\" is set before the \"handler\" is called.\n              queue.set(handler, {\n                value: null,\n                finished: finished,\n                cancelled: cancelled\n              });\n            }\n          };\n        }\n      }\n    });\n  }\n\n  var keys = props.keys || Object.keys(ctrl.springs);\n  var promises = keys.map(function (key) {\n    return ctrl.springs[key].start(props);\n  }); // Schedule the \"asyncTo\" if defined.\n\n  var state = ctrl['_state'];\n\n  if (asyncTo) {\n    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {\n      props: props,\n      state: state,\n      actions: {\n        pause: noop,\n        resume: noop,\n        start: function start(props, resolve) {\n          props.onRest = onRest;\n\n          if (!props.cancel) {\n            resolve(runAsync(asyncTo, props, state, ctrl));\n          } // Prevent `cancel: true` from ending the current `runAsync` call,\n          // except when the default `cancel` prop is being set.\n          else if (hasDefaultProp(props, 'cancel')) {\n              cancelAsync(state, props.callId);\n            }\n        }\n      }\n    }));\n  } // Respect the `cancel` prop when no keys are affected.\n  else if (!props.keys && props.cancel === true) {\n      cancelAsync(state, ctrl['_lastAsyncId']);\n    }\n\n  return Promise.all(promises).then(function (results) {\n    var result = getCombinedResult(ctrl, results);\n\n    if (loop && result.finished && !(isLoop && result.noop)) {\n      var nextProps = createLoopUpdate(props, loop, to);\n\n      if (nextProps) {\n        prepareKeys(ctrl, [nextProps]);\n        return flushUpdate(ctrl, nextProps, true);\n      }\n    }\n\n    return result;\n  });\n}\n/**\n * From an array of updates, get the map of `SpringValue` objects\n * by their keys. Springs are created when any update wants to\n * animate a new key.\n *\n * Springs created by `getSprings` are neither cached nor observed\n * until they're given to `setSprings`.\n */\n\n\nfunction getSprings(ctrl, props) {\n  var springs = _extends({}, ctrl.springs);\n\n  if (props) {\n    _each(toArray(props), function (props) {\n      if (is.und(props.keys)) {\n        props = createUpdate(props);\n      }\n\n      if (!is.obj(props.to)) {\n        // Avoid passing array/function to each spring.\n        props = _extends(_extends({}, props), {}, {\n          to: undefined\n        });\n      }\n\n      prepareSprings(springs, props, function (key) {\n        return createSpring(key);\n      });\n    });\n  }\n\n  return springs;\n}\n/**\n * Tell a controller to manage the given `SpringValue` objects\n * whose key is not already in use.\n */\n\n\nfunction setSprings(ctrl, springs) {\n  _each(springs, function (spring, key) {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      spring.addChild(ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  var spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    spring.addChild(observer);\n  }\n\n  return spring;\n}\n/**\n * Ensure spring objects exist for each defined key.\n *\n * Using the `props`, the `Animated` node of each `SpringValue` may\n * be created or updated.\n */\n\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    _each(props.keys, function (key) {\n      var spring = springs[key] || (springs[key] = create(key));\n      spring['_prepareNode'](props);\n    });\n  }\n}\n/**\n * Ensure spring objects exist for each defined key, and attach the\n * `ctrl` to them for observation.\n *\n * The queue is expected to contain `createUpdate` results.\n */\n\n\nfunction prepareKeys(ctrl, queue) {\n  _each(queue, function (props) {\n    prepareSprings(ctrl.springs, props, function (key) {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n/**\n * This context affects all new and existing `SpringValue` objects\n * created with the hook API or the renderprops API.\n */\n\n\nvar ctx = createContext({});\n\nvar SpringContext = function SpringContext(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  var inherited = useContext(ctx); // Memoize the context to avoid unwanted renders.\n\n  props = useMemo(function () {\n    return _extends(_extends({}, inherited), props);\n  }, [inherited, props.pause, props.cancel, props.immediate, props.config]);\n  var Provider = ctx.Provider;\n  return /*#__PURE__*/createElement(Provider, {\n    value: props\n  }, children);\n};\n\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n/** Get the current values of nearest `SpringContext` component. */\n\nvar useSpringContext = function useSpringContext() {\n  return useContext(ctx);\n};\n/** Create an imperative API for manipulating an array of `Controller` objects. */\n\n\nvar SpringHandle = {\n  create: function create(getControllers) {\n    return {\n      get controllers() {\n        return getControllers();\n      },\n\n      update: function update(props) {\n        _each(getControllers(), function (ctrl, i) {\n          ctrl.update(getProps(props, i, ctrl));\n        });\n\n        return this;\n      },\n      start: function start(props) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          var results;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return Promise.all(getControllers().map(function (ctrl, i) {\n                    var update = getProps(props, i, ctrl);\n                    return ctrl.start(update);\n                  }));\n\n                case 2:\n                  results = _context2.sent;\n                  return _context2.abrupt(\"return\", {\n                    value: results.map(function (result) {\n                      return result.value;\n                    }),\n                    finished: results.every(function (result) {\n                      return result.finished;\n                    })\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }))();\n      },\n      stop: function stop(keys) {\n        return _each(getControllers(), function (ctrl) {\n          return ctrl.stop(keys);\n        });\n      },\n      pause: function pause(keys) {\n        return _each(getControllers(), function (ctrl) {\n          return ctrl.pause(keys);\n        });\n      },\n      resume: function resume(keys) {\n        return _each(getControllers(), function (ctrl) {\n          return ctrl.resume(keys);\n        });\n      }\n    };\n  }\n};\n/** @internal */\n\nfunction useSprings(length, props, deps) {\n  var propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = []; // Set to 0 to prevent sync flush.\n\n  var layoutId = useRef(0);\n  var forceUpdate = useForceUpdate(); // State is updated on commit.\n\n  var _useState = useState(function () {\n    return {\n      ctrls: [],\n      queue: [],\n      flush: function flush(ctrl, updates) {\n        var springs = getSprings(ctrl, updates); // Flushing is postponed until the component's commit phase\n        // if a spring was created since the last commit.\n\n        var canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(function (key) {\n          return !ctrl.springs[key];\n        });\n        return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(function (resolve) {\n          setSprings(ctrl, springs);\n          state.queue.push(function () {\n            resolve(flushUpdateQueue(ctrl, updates));\n          });\n          forceUpdate();\n        });\n      }\n    };\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      state = _useState2[0]; // The imperative API ref from the props of the first controller.\n\n\n  var refProp = useRef();\n\n  var ctrls = _toConsumableArray(state.ctrls);\n\n  var updates = []; // Cache old controllers to dispose in the commit phase.\n\n  var prevLength = usePrev(length) || 0;\n  var disposed = ctrls.slice(length, prevLength); // Create new controllers when \"length\" increases, and destroy\n  // the affected controllers when \"length\" decreases.\n\n  useMemo(function () {\n    ctrls.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]); // Update existing controllers when \"deps\" are changed.\n\n  useMemo(function () {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n  /** Fill the `updates` array with declarative updates for the given index range. */\n\n  function declareUpdates(startIndex, endIndex) {\n    for (var i = startIndex; i < endIndex; i++) {\n      var ctrl = ctrls[i] || (ctrls[i] = new Controller(null, state.flush));\n\n      var _update2 = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (_update2) {\n        _update2 = updates[i] = declareUpdate(_update2);\n\n        if (i == 0) {\n          refProp.current = _update2.ref;\n          _update2.ref = undefined;\n        }\n      }\n    }\n  }\n\n  var api = useMemo$1(function () {\n    return SpringHandle.create(function () {\n      return state.ctrls;\n    });\n  }, []); // New springs are created during render so users can pass them to\n  // their animated components, but new springs aren't cached until the\n  // commit phase (see the `useLayoutEffect` callback below).\n\n  var springs = ctrls.map(function (ctrl, i) {\n    return getSprings(ctrl, updates[i]);\n  });\n  var context = useSpringContext();\n  useLayoutEffect(function () {\n    layoutId.current++; // Replace the cached controllers.\n\n    state.ctrls = ctrls; // Update the ref prop.\n\n    if (refProp.current) {\n      refProp.current.current = api;\n    } // Flush the commit queue.\n\n\n    var queue = state.queue;\n\n    if (queue.length) {\n      state.queue = [];\n\n      _each(queue, function (cb) {\n        return cb();\n      });\n    } // Dispose unused controllers.\n\n\n    _each(disposed, function (ctrl) {\n      return ctrl.dispose();\n    }); // Update existing controllers.\n\n\n    _each(ctrls, function (ctrl, i) {\n      var values = springs[i];\n      setSprings(ctrl, values); // Update the default props.\n\n      ctrl.start({\n        default: context\n      }); // Apply updates created during render.\n\n      var update = updates[i];\n\n      if (update) {\n        // Start animating unless a ref exists.\n        if (refProp.current) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  }); // Dispose all controllers on unmount.\n\n  useOnce(function () {\n    return function () {\n      _each(state.ctrls, function (ctrl) {\n        return ctrl.dispose();\n      });\n    };\n  }); // Return a deep copy of the `springs` array so the caller can\n  // safely mutate it during render.\n\n  var values = springs.map(function (x) {\n    return _extends({}, x);\n  });\n  return propsFn || arguments.length == 3 ? [values, api.start, api.stop] : values;\n}\n/**\n * The props that `useSpring` recognizes.\n */\n\n/** @internal */\n\n\nfunction useSpring(props, deps) {\n  var isFn = is.fun(props);\n\n  var _useSprings = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps),\n      _useSprings2 = _slicedToArray(_useSprings, 3),\n      _useSprings2$ = _slicedToArray(_useSprings2[0], 1),\n      values = _useSprings2$[0],\n      update = _useSprings2[1],\n      stop = _useSprings2[2];\n\n  return isFn || arguments.length == 2 ? [values, update, stop] : values;\n}\n\nfunction useTrail(length, propsArg, deps) {\n  var propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  var ctrls = [];\n  var result = useSprings(length, function (i, ctrl) {\n    ctrls[i] = ctrl;\n    return getProps(propsArg, i, ctrl);\n  }, // Ensure the props function is called when no deps exist.\n  // This works around the 3 argument rule.\n  deps || [{}]);\n  useLayoutEffect(function () {\n    var reverse = is.obj(propsArg) && propsArg.reverse;\n\n    for (var i = 0; i < ctrls.length; i++) {\n      var parent = ctrls[i + (reverse ? 1 : -1)];\n      if (parent) ctrls[i].update({\n        to: parent.springs\n      }).start();\n    }\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    var _update3 = result[1];\n    result[1] = useCallbackOne(function (propsArg) {\n      var reverse = is.obj(propsArg) && propsArg.reverse;\n      return _update3(function (i, ctrl) {\n        var props = getProps(propsArg, i, ctrl);\n        var parent = ctrls[i + (reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      });\n    }, deps);\n    return result;\n  }\n\n  return result[0];\n} // TODO: convert to \"const enum\" once Babel supports it\n\n/** This transition is being mounted */\n\n\nvar MOUNT = 'mount';\n/** This transition is entering or has entered */\n\nvar ENTER = 'enter';\n/** This transition had its animations updated */\n\nvar UPDATE = 'update';\n/** This transition will expire after animating */\n\nvar LEAVE = 'leave';\n\nfunction useTransition(data, props, deps) {\n  var ref = props.ref,\n      reset = props.reset,\n      sort = props.sort,\n      _props$trail = props.trail,\n      trail = _props$trail === void 0 ? 0 : _props$trail,\n      _props$expires = props.expires,\n      expires = _props$expires === void 0 ? true : _props$expires; // Every item has its own transition.\n\n  var items = toArray(data);\n  var transitions = []; // Keys help with reusing transitions between renders.\n  // The `key` prop can be undefined (which means the items themselves are used\n  // as keys), or a function (which maps each item to its key), or an array of\n  // keys (which are assigned to each item by index).\n\n  var keys = getKeys(items, props); // The \"onRest\" callbacks need a ref to the latest transitions.\n\n  var usedTransitions = useRef(null);\n  var prevTransitions = reset ? null : usedTransitions.current;\n  useLayoutEffect(function () {\n    usedTransitions.current = transitions;\n  }); // Destroy all transitions on dismount.\n\n  useOnce(function () {\n    return function () {\n      return _each(usedTransitions.current, function (t) {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n\n        t.ctrl.dispose();\n      });\n    };\n  }); // Map old indices to new indices.\n\n  var reused = [];\n  if (prevTransitions) _each(prevTransitions, function (t, i) {\n    // Expired transitions are not rendered.\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  }); // Mount new items with fresh transitions.\n\n  _each(items, function (item, i) {\n    transitions[i] || (transitions[i] = {\n      key: keys[i],\n      item: item,\n      phase: MOUNT,\n      ctrl: new Controller()\n    });\n  }); // Update the item of any transition whose key still exists,\n  // and ensure leaving transitions are rendered until they finish.\n\n\n  if (reused.length) {\n    var i = -1;\n\n    _each(reused, function (keyIndex, prevIndex) {\n      var t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _extends(_extends({}, t), {}, {\n          item: items[keyIndex]\n        });\n      } else if (props.leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort(function (a, b) {\n      return sort(a.item, b.item);\n    });\n  } // Track cumulative delay for the \"trail\" prop.\n\n\n  var delay = -trail; // Expired transitions use this to dismount.\n\n  var forceUpdate = useForceUpdate(); // These props are inherited by every phase change.\n\n  var defaultProps = getDefaultProps(props); // Generate changes to apply in useEffect.\n\n  var changes = new Map();\n\n  _each(transitions, function (t, i) {\n    var key = t.key;\n    var prevPhase = t.phase;\n    var to;\n    var phase;\n\n    if (prevPhase == MOUNT) {\n      to = props.enter;\n      phase = ENTER;\n    } else {\n      var isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != LEAVE) {\n        if (isLeave) {\n          to = props.leave;\n          phase = LEAVE;\n        } else if (to = props.update) {\n          phase = UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = props.enter;\n        phase = ENTER;\n      } else return;\n    } // When \"to\" is a function, it can return (1) an array of \"useSpring\" props,\n    // (2) an async function, or (3) an object with any \"useSpring\" props.\n\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to: to\n    };\n\n    if (!to.config) {\n      var _config2 = props.config || defaultProps.config;\n\n      to.config = callProp(_config2, t.item, i);\n    } // The payload is used to update the spring props once the current render is committed.\n\n\n    var payload = _extends(_extends({}, defaultProps), {}, {\n      delay: delay += trail,\n      // This prevents implied resets.\n      reset: false\n    }, to);\n\n    if (phase == ENTER && is.und(payload.from)) {\n      // The `initial` prop is used on the first render of our parent component,\n      // as well as when `reset: true` is passed. It overrides the `from` prop\n      // when defined, and it makes `enter` instant when null.\n      var from = is.und(props.initial) || prevTransitions ? props.from : props.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    var onRest = payload.onRest;\n\n    payload.onRest = function (result) {\n      var transitions = usedTransitions.current;\n      var t = transitions.find(function (t) {\n        return t.key === key;\n      });\n      if (!t) return;\n\n      if (is.fun(onRest)) {\n        onRest(result, t);\n      } // Reset the phase of a cancelled enter/leave transition, so it can\n      // retry the animation on the next render.\n\n\n      if (result.cancelled && t.phase != UPDATE) {\n        t.phase = prevPhase;\n        return;\n      }\n\n      if (t.ctrl.idle) {\n        var idle = transitions.every(function (t) {\n          return t.ctrl.idle;\n        });\n\n        if (t.phase == LEAVE) {\n          var expiry = callProp(expires, t.item);\n\n          if (expiry !== false) {\n            var expiryMs = expiry === true ? 0 : expiry;\n            t.expired = true; // Force update once the expiration delay ends.\n\n            if (!idle && expiryMs > 0) {\n              // The maximum timeout is 2^31-1\n              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        } // Force update once idle and expired items exist.\n\n\n        if (idle && transitions.some(function (t) {\n          return t.expired;\n        })) {\n          forceUpdate();\n        }\n      }\n    };\n\n    var springs = getSprings(t.ctrl, payload);\n    changes.set(t, {\n      phase: phase,\n      springs: springs,\n      payload: payload\n    });\n  }); // The prop overrides from an ancestor.\n\n\n  var context = useSpringContext(); // Merge the context into each transition.\n\n  useLayoutEffect(function () {\n    _each(transitions, function (t) {\n      t.ctrl.start({\n        default: context\n      });\n    });\n  }, [context]);\n  var api = useMemo$1(function () {\n    return SpringHandle.create(function () {\n      return usedTransitions.current.map(function (t) {\n        return t.ctrl;\n      });\n    });\n  }, []);\n  useImperativeHandle(ref, function () {\n    return api;\n  });\n  useLayoutEffect(function () {\n    _each(changes, function (_ref11, t) {\n      var phase = _ref11.phase,\n          springs = _ref11.springs,\n          payload = _ref11.payload;\n      setSprings(t.ctrl, springs);\n\n      if (!context.cancel) {\n        t.phase = phase;\n\n        if (phase == ENTER) {\n          t.ctrl.start({\n            default: context\n          });\n        }\n\n        t.ctrl[ref ? 'update' : 'start'](payload);\n      }\n    });\n  }, reset ? void 0 : deps);\n\n  var renderTransitions = function renderTransitions(render) {\n    return /*#__PURE__*/createElement(Fragment, null, transitions.map(function (t, i) {\n      var _ref12 = changes.get(t) || t.ctrl,\n          springs = _ref12.springs;\n\n      var elem = render(_extends({}, springs), t.item, t, i);\n      return elem && elem.type ? /*#__PURE__*/createElement(elem.type, _extends({}, elem.props, {\n        key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n        ref: elem.ref\n      })) : elem;\n    }));\n  };\n\n  return arguments.length == 3 ? [renderTransitions, api.start, api.stop] : renderTransitions;\n}\n\nfunction getKeys(items, _ref13) {\n  var key = _ref13.key,\n      _ref13$keys = _ref13.keys,\n      keys = _ref13$keys === void 0 ? key : _ref13$keys;\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n/**\n * The `Spring` component passes `SpringValue` objects to your render prop.\n */\n\n\nfunction Spring(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return children(useSpring(props));\n}\n\nfunction Trail(_ref) {\n  var items = _ref.items,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"items\", \"children\"]);\n\n  var trails = useTrail(items.length, props);\n  return items.map(function (item, index) {\n    var result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nfunction Transition(_ref) {\n  var items = _ref.items,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"items\", \"children\"]);\n\n  return /*#__PURE__*/createElement(Fragment, null, useTransition(items, props)(children));\n}\n/**\n * An `Interpolation` is a memoized value that's computed whenever one of its\n * `FluidValue` dependencies has its value changed.\n *\n * Other `FrameValue` objects can depend on this. For example, passing an\n * `Interpolation` as the `to` prop of a `useSpring` call will trigger an\n * animation toward the memoized value.\n */\n\n\nvar Interpolation = /*#__PURE__*/function (_FrameValue2) {\n  _inherits(Interpolation, _FrameValue2);\n\n  var _super4 = _createSuper(Interpolation);\n\n  /** Useful for debugging. */\n\n  /** Equals false when in the frameloop */\n\n  /** The function that maps inputs values to output */\n  function Interpolation(source, args) {\n    var _this11;\n\n    _classCallCheck(this, Interpolation);\n\n    _this11 = _super4.call(this);\n    _this11.source = source;\n    _this11.key = void 0;\n    _this11.idle = true;\n    _this11.calc = void 0;\n    _this11.calc = createInterpolator.apply(void 0, _toConsumableArray(args));\n\n    var value = _this11._get();\n\n    var nodeType = is.arr(value) ? AnimatedArray : AnimatedValue; // Assume the computed value never changes type.\n\n    setAnimated(_assertThisInitialized(_this11), nodeType.create(value));\n    return _this11;\n  }\n\n  _createClass(Interpolation, [{\n    key: \"advance\",\n    value: function advance(_dt) {\n      var value = this._get();\n\n      var oldValue = this.get();\n\n      if (!isEqual(value, oldValue)) {\n        getAnimated(this).setValue(value);\n\n        this._onChange(value, this.idle);\n      }\n    }\n  }, {\n    key: \"_get\",\n    value: function _get() {\n      var inputs = is.arr(this.source) ? this.source.map(function (node) {\n        return node.get();\n      }) : toArray(this.source.get());\n      return this.calc.apply(this, _toConsumableArray(inputs));\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      _each(getPayload(this), function (node) {\n        return node.reset();\n      });\n\n      _get(_getPrototypeOf(Interpolation.prototype), \"_reset\", this).call(this);\n    }\n  }, {\n    key: \"_start\",\n    value: function _start() {\n      this.idle = false;\n\n      _get(_getPrototypeOf(Interpolation.prototype), \"_start\", this).call(this);\n\n      if (skipAnimation) {\n        this.idle = true;\n        this.advance();\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach() {\n      var _this12 = this;\n\n      // Start observing our \"source\" once we have an observer.\n      var idle = true;\n      var priority = 1;\n\n      _each(toArray(this.source), function (source) {\n        if (isFrameValue(source)) {\n          if (!source.idle) idle = false;\n          priority = Math.max(priority, source.priority + 1);\n        }\n\n        source.addChild(_this12);\n      });\n\n      this.priority = priority;\n\n      if (!idle) {\n        this._reset();\n\n        this._start();\n      }\n    }\n  }, {\n    key: \"_detach\",\n    value: function _detach() {\n      var _this13 = this;\n\n      // Stop observing our \"source\" once we have no observers.\n      _each(toArray(this.source), function (source) {\n        source.removeChild(_this13);\n      }); // This removes us from the frameloop.\n\n\n      this.idle = true;\n    }\n    /** @internal */\n\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(event) {\n      // Ensure our start value respects our parent values, in case\n      // any of their animations were restarted with the \"reset\" prop.\n      if (event.type == 'start') {\n        this.advance();\n      } // Change events are useful for (1) reacting to non-animated parents\n      // and (2) reacting to the last change in a parent animation.\n      else if (event.type == 'change') {\n          // If we're idle, we know for sure that this change is *not*\n          // caused by an animation.\n          if (this.idle) {\n            this.advance();\n          } // Leave the frameloop when all parents are done animating.\n          else if (event.idle) {\n              this.idle = toArray(this.source).every(function (source) {\n                return source.idle !== false;\n              });\n\n              if (this.idle) {\n                this.advance();\n\n                _each(getPayload(this), function (node) {\n                  node.done = true;\n                });\n              }\n            }\n        } // Ensure our priority is greater than all parents, which means\n        // our value won't be updated until our parents have updated.\n        else if (event.type == 'priority') {\n            this.priority = toArray(this.source).reduce(function (max, source) {\n              return Math.max(max, (source.priority || 0) + 1);\n            }, 0);\n          }\n\n      _get(_getPrototypeOf(Interpolation.prototype), \"onParentChange\", this).call(this, event);\n    }\n  }]);\n\n  return Interpolation;\n}(FrameValue);\n/** Map the value of one or more dependencies */\n\n\nvar to = function to(source) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return new Interpolation(source, args);\n};\n/** @deprecated Use the `to` export instead */\n\n\nvar interpolate = function interpolate(source) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n    args[_key6 - 1] = arguments[_key6];\n  }\n\n  return deprecateInterpolate(), new Interpolation(source, args);\n};\n/** Extract the raw value types that are being interpolated */\n\n\nGlobals.assign({\n  createStringInterpolator: createStringInterpolator$1,\n  to: function to(source, args) {\n    return new Interpolation(source, args);\n  }\n});\n/** Advance all animations forward one frame */\n\nvar update = function update() {\n  return Globals.frameLoop.advance();\n};\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringHandle, SpringValue, Trail, Transition, config, inferTo, interpolate, to, update, useChain, useSpring, useSprings, useTrail, useTransition };","import * as React from 'react';\nexport var useLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","import _assertThisInitialized from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { defineHidden, is, createInterpolator, each, getFluidConfig, isAnimatedString, useForceUpdate } from '@react-spring/shared';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { frameLoop } from '@react-spring/shared/globals';\nimport { forwardRef, useRef, createElement } from 'react';\nimport { useLayoutEffect } from 'react-layout-effect';\nvar $node = Symbol.for('Animated:node');\n\nvar isAnimated = function isAnimated(value) {\n  return !!value && value[$node] === value;\n};\n/** Get the owner's `Animated` node. */\n\n\nvar getAnimated = function getAnimated(owner) {\n  return owner && owner[$node];\n};\n/** Set the owner's `Animated` node. */\n\n\nvar setAnimated = function setAnimated(owner, node) {\n  return defineHidden(owner, $node, node);\n};\n/** Get every `AnimatedValue` in the owner's `Animated` node. */\n\n\nvar getPayload = function getPayload(owner) {\n  return owner && owner[$node] && owner[$node].getPayload();\n};\n\nvar Animated = /*#__PURE__*/function () {\n  /** The cache of animated values */\n  function Animated() {\n    _classCallCheck(this, Animated);\n\n    this.payload = void 0; // This makes \"isAnimated\" return true.\n\n    setAnimated(this, this);\n  }\n  /** Get the current value. Pass `true` for only animated values. */\n\n  /** Get every `AnimatedValue` used by this node. */\n\n\n  _createClass(Animated, [{\n    key: \"getPayload\",\n    value: function getPayload() {\n      return this.payload || [];\n    }\n  }]);\n\n  return Animated;\n}();\n/** An animated number or a native attribute value */\n\n\nvar AnimatedValue = /*#__PURE__*/function (_Animated) {\n  _inherits(AnimatedValue, _Animated);\n\n  var _super = _createSuper(AnimatedValue);\n\n  function AnimatedValue(_value) {\n    var _this;\n\n    _classCallCheck(this, AnimatedValue);\n\n    _this = _super.call(this);\n    _this._value = _value;\n    _this.done = true;\n    _this.elapsedTime = void 0;\n    _this.lastPosition = void 0;\n    _this.lastVelocity = void 0;\n    _this.v0 = void 0;\n\n    if (is.num(_this._value)) {\n      _this.lastPosition = _this._value;\n    }\n\n    return _this;\n  }\n\n  _createClass(AnimatedValue, [{\n    key: \"getPayload\",\n    value: function getPayload() {\n      return [this];\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this._value;\n    }\n    /**\n     * Set the current value and optionally round it.\n     *\n     * The `step` argument does nothing whenever it equals `undefined` or `0`.\n     * It works with fractions and whole numbers. The best use case is (probably)\n     * rounding to the pixel grid with a step of:\n     *\n     *      1 / window.devicePixelRatio\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, step) {\n      if (is.num(value)) {\n        this.lastPosition = value;\n\n        if (step) {\n          value = Math.round(value / step) * step;\n\n          if (this.done) {\n            this.lastPosition = value;\n          }\n        }\n      }\n\n      if (this._value === value) {\n        return false;\n      }\n\n      this._value = value;\n      return true;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var done = this.done;\n      this.done = false;\n\n      if (is.num(this._value)) {\n        this.elapsedTime = 0;\n        this.lastPosition = this._value;\n        if (done) this.lastVelocity = null;\n        this.v0 = null;\n      }\n    }\n  }], [{\n    key: \"create\",\n    value: function create(from, _to) {\n      return new AnimatedValue(from);\n    }\n  }]);\n\n  return AnimatedValue;\n}(Animated);\n\nvar AnimatedString = /*#__PURE__*/function (_AnimatedValue) {\n  _inherits(AnimatedString, _AnimatedValue);\n\n  var _super2 = _createSuper(AnimatedString);\n\n  function AnimatedString(from, to) {\n    var _this2;\n\n    _classCallCheck(this, AnimatedString);\n\n    _this2 = _super2.call(this, 0);\n    _this2._value = void 0;\n    _this2._string = null;\n    _this2._toString = void 0;\n    _this2._toString = createInterpolator({\n      output: [from, to]\n    });\n    return _this2;\n  }\n\n  _createClass(AnimatedString, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var value = this._string;\n      return value == null ? this._string = this._toString(this._value) : value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      if (!is.num(value)) {\n        this._string = value;\n        this._value = 1;\n      } else if (_get(_getPrototypeOf(AnimatedString.prototype), \"setValue\", this).call(this, value)) {\n        this._string = null;\n      } else {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(goal) {\n      if (goal) {\n        this._toString = createInterpolator({\n          output: [this.getValue(), goal]\n        });\n      }\n\n      this._value = 0;\n\n      _get(_getPrototypeOf(AnimatedString.prototype), \"reset\", this).call(this);\n    }\n  }], [{\n    key: \"create\",\n    value: function create(from) {\n      var to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : from;\n\n      if (is.str(from) && is.str(to)) {\n        return new AnimatedString(from, to);\n      }\n\n      throw TypeError('Expected \"from\" and \"to\" to be strings');\n    }\n  }]);\n\n  return AnimatedString;\n}(AnimatedValue);\n\nvar TreeContext = {\n  current: null\n};\n/** An object containing `Animated` nodes */\n\nvar AnimatedObject = /*#__PURE__*/function (_Animated2) {\n  _inherits(AnimatedObject, _Animated2);\n\n  var _super3 = _createSuper(AnimatedObject);\n\n  function AnimatedObject() {\n    var _this3;\n\n    var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, AnimatedObject);\n\n    _this3 = _super3.call(this);\n    _this3.source = void 0;\n\n    _this3.setValue(source);\n\n    return _this3;\n  }\n\n  _createClass(AnimatedObject, [{\n    key: \"getValue\",\n    value: function getValue(animated) {\n      if (!this.source) return null;\n      var values = {};\n      each(this.source, function (source, key) {\n        if (isAnimated(source)) {\n          values[key] = source.getValue(animated);\n        } else {\n          var config = getFluidConfig(source);\n\n          if (config) {\n            values[key] = config.get();\n          } else if (!animated) {\n            values[key] = source;\n          }\n        }\n      });\n      return values;\n    }\n    /** Replace the raw object data */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(source) {\n      this.source = source;\n      this.payload = this._makePayload(source);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.payload) {\n        each(this.payload, function (node) {\n          return node.reset();\n        });\n      }\n    }\n    /** Create a payload set. */\n\n  }, {\n    key: \"_makePayload\",\n    value: function _makePayload(source) {\n      if (source) {\n        var payload = new Set();\n        each(source, this._addToPayload, payload);\n        return Array.from(payload);\n      }\n    }\n    /** Add to a payload set. */\n\n  }, {\n    key: \"_addToPayload\",\n    value: function _addToPayload(source) {\n      var _this4 = this;\n\n      var config = getFluidConfig(source);\n\n      if (config && TreeContext.current) {\n        TreeContext.current.dependencies.add(source);\n      }\n\n      var payload = getPayload(source);\n\n      if (payload) {\n        each(payload, function (node) {\n          return _this4.add(node);\n        });\n      }\n    }\n  }]);\n\n  return AnimatedObject;\n}(Animated);\n/** An array of animated nodes */\n\n\nvar AnimatedArray = /*#__PURE__*/function (_AnimatedObject) {\n  _inherits(AnimatedArray, _AnimatedObject);\n\n  var _super4 = _createSuper(AnimatedArray);\n\n  function AnimatedArray(from, to) {\n    var _thisSuper, _this5;\n\n    _classCallCheck(this, AnimatedArray);\n\n    _this5 = _super4.call(this, null);\n    _this5.source = void 0;\n\n    _get((_thisSuper = _assertThisInitialized(_this5), _getPrototypeOf(AnimatedArray.prototype)), \"setValue\", _thisSuper).call(_thisSuper, _this5._makeAnimated(from, to));\n\n    return _this5;\n  }\n\n  _createClass(AnimatedArray, [{\n    key: \"getValue\",\n    value: function getValue() {\n      return this.source.map(function (node) {\n        return node.getValue();\n      });\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      var payload = this.getPayload(); // Reuse the payload when lengths are equal.\n\n      if (newValue && newValue.length == payload.length) {\n        each(payload, function (node, i) {\n          return node.setValue(newValue[i]);\n        });\n      } else {\n        // Remake the payload when length changes.\n        this.source = this._makeAnimated(newValue);\n        this.payload = this._makePayload(this.source);\n      }\n    }\n    /** Convert the `from` and `to` values to an array of `Animated` nodes */\n\n  }, {\n    key: \"_makeAnimated\",\n    value: function _makeAnimated(from) {\n      var to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : from;\n      return from ? from.map(function (from, i) {\n        return (isAnimatedString(from) ? AnimatedString : AnimatedValue).create(from, to[i]);\n      }) : [];\n    }\n  }], [{\n    key: \"create\",\n    value: function create(from, to) {\n      return new AnimatedArray(from, to);\n    }\n  }]);\n\n  return AnimatedArray;\n}(AnimatedObject);\n\nvar AnimatedProps = /*#__PURE__*/function (_AnimatedObject2) {\n  _inherits(AnimatedProps, _AnimatedObject2);\n\n  var _super5 = _createSuper(AnimatedProps);\n\n  /** Equals true when an update is scheduled for \"end of frame\" */\n  function AnimatedProps(update) {\n    var _this6;\n\n    _classCallCheck(this, AnimatedProps);\n\n    _this6 = _super5.call(this, null);\n    _this6.update = update;\n    _this6.dirty = false;\n    return _this6;\n  }\n\n  _createClass(AnimatedProps, [{\n    key: \"setValue\",\n    value: function setValue(props, context) {\n      if (!props) return; // The constructor passes null.\n\n      if (context) {\n        TreeContext.current = context;\n\n        if (props.style) {\n          var createAnimatedStyle = context.host.createAnimatedStyle;\n          props = _extends(_extends({}, props), {}, {\n            style: createAnimatedStyle(props.style)\n          });\n        }\n      }\n\n      _get(_getPrototypeOf(AnimatedProps.prototype), \"setValue\", this).call(this, props);\n\n      TreeContext.current = null;\n    }\n    /** @internal */\n\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(_ref) {\n      var _this7 = this;\n\n      var type = _ref.type;\n\n      if (!this.dirty && type === 'change') {\n        this.dirty = true;\n        frameLoop.onFrame(function () {\n          _this7.dirty = false;\n\n          _this7.update();\n        });\n      }\n    }\n  }]);\n\n  return AnimatedProps;\n}(AnimatedObject);\n\nvar withAnimated = function withAnimated(Component, host) {\n  return forwardRef(function (rawProps, ref) {\n    var instanceRef = useRef(null);\n    var hasInstance = // Function components must use \"forwardRef\" to avoid being\n    // re-rendered on every animation frame.\n    !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n    var forceUpdate = useForceUpdate();\n    var props = new AnimatedProps(function () {\n      var instance = instanceRef.current;\n\n      if (hasInstance && !instance) {\n        return; // The wrapped component forgot to forward its ref.\n      }\n\n      var didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false; // Re-render the component when native updates fail.\n\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    });\n    var dependencies = new Set();\n    props.setValue(rawProps, {\n      dependencies: dependencies,\n      host: host\n    });\n    useLayoutEffect(function () {\n      each(dependencies, function (dep) {\n        return dep.addChild(props);\n      });\n      return function () {\n        return each(dependencies, function (dep) {\n          return dep.removeChild(props);\n        });\n      };\n    });\n    return /*#__PURE__*/createElement(Component, _extends({}, host.getComponentProps(props.getValue()), {\n      ref: hasInstance && function (value) {\n        instanceRef.current = updateRef(ref, value);\n      }\n    }));\n  });\n};\n\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref)) ref(value);else ref.current = value;\n  }\n\n  return value;\n} // For storing the animated version on the original component\n\n\nvar cacheKey = Symbol.for('AnimatedComponent');\n\nvar createHost = function createHost(components) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$applyAnimatedVa = _ref2.applyAnimatedValues,\n      applyAnimatedValues = _ref2$applyAnimatedVa === void 0 ? function () {\n    return false;\n  } : _ref2$applyAnimatedVa,\n      _ref2$createAnimatedS = _ref2.createAnimatedStyle,\n      createAnimatedStyle = _ref2$createAnimatedS === void 0 ? function (style) {\n    return new AnimatedObject(style);\n  } : _ref2$createAnimatedS,\n      _ref2$getComponentPro = _ref2.getComponentProps,\n      getComponentProps = _ref2$getComponentPro === void 0 ? function (props) {\n    return props;\n  } : _ref2$getComponentPro;\n\n  var hostConfig = {\n    applyAnimatedValues: applyAnimatedValues,\n    createAnimatedStyle: createAnimatedStyle,\n    getComponentProps: getComponentProps\n  };\n\n  var animated = function animated(Component) {\n    var displayName = getDisplayName(Component) || 'Anonymous';\n\n    if (is.str(Component)) {\n      Component = withAnimated(Component, hostConfig);\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n\n    Component.displayName = \"Animated(\" + displayName + \")\";\n    return Component;\n  };\n\n  each(components, function (Component, key) {\n    if (!is.str(key)) {\n      key = getDisplayName(Component);\n    }\n\n    animated[key] = animated(Component);\n  });\n  return {\n    animated: animated\n  };\n};\n\nvar getDisplayName = function getDisplayName(arg) {\n  return is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n};\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedProps, AnimatedString, AnimatedValue, createHost, getAnimated, getPayload, isAnimated, setAnimated };","var $config = Symbol.for('FluidValue:config');\nexport { hasFluidValue, getFluidValue, getFluidConfig, setFluidConfig, addFluidObserver };\n/** Does the given value have a `FluidConfig` object? */\n\nvar hasFluidValue = function hasFluidValue(arg) {\n  return !!getFluidConfig(arg);\n};\n\nfunction getFluidValue(arg) {\n  var config = getFluidConfig(arg);\n  return config ? config.get() : arg;\n}\n\nfunction getFluidConfig(arg) {\n  if (arg) return arg[$config];\n}\n/** Set the methods for observing the given object. */\n\n\nfunction setFluidConfig(target, config) {\n  Object.defineProperty(target, $config, {\n    value: config,\n    configurable: true\n  });\n}\n\nfunction addFluidObserver(target, observer) {\n  var config = getFluidConfig(target);\n\n  if (config) {\n    config.addChild(observer);\n    return function () {\n      return config.removeChild(observer);\n    };\n  }\n}\n/**\n * This class stores a single dynamic value, which can be observed by multiple `FluidObserver` objects.\n *\n * In order to support non-writable streams, this class doesn't expect a `set` method to exist.\n *\n * It can send *any* event to observers, not only change events.\n */\n\n\nvar FluidValue =\n/** @class */\nfunction () {\n  function FluidValue() {\n    setFluidConfig(this, this);\n  }\n\n  return FluidValue;\n}();\n\nexport { FluidValue };","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","import _createClass from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _slicedToArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { Globals as Globals$1 } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { createStringInterpolator } from '@react-spring/shared/stringInterpolation';\nimport colorNames from '@react-spring/shared/colors';\nimport { AnimatedObject, createHost } from '@react-spring/animated';\nimport { Globals, each, is, toArray, FluidValue, getFluidValue, getFluidConfig } from '@react-spring/shared';\nvar isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nvar attributeCache = {};\n\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  var isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  var _ref = props,\n      style = _ref.style,\n      children = _ref.children,\n      scrollTop = _ref.scrollTop,\n      scrollLeft = _ref.scrollLeft,\n      attributes = _objectWithoutPropertiesLoose(_ref, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n  var values = Object.values(attributes);\n  var names = Object.keys(attributes).map(function (name) {\n    return isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, // Attributes are written in dash case\n    function (n) {\n      return '-' + n.toLowerCase();\n    }));\n  });\n  Globals.frameLoop.onWrite(function () {\n    if (children !== void 0) {\n      instance.textContent = children;\n    } // Apply CSS styles\n\n\n    for (var name in style) {\n      if (style.hasOwnProperty(name)) {\n        var value = dangerousStyleValue(name, style[name]);\n        if (name === 'float') name = 'cssFloat';else if (isCustomPropRE.test(name)) {\n          instance.style.setProperty(name, value);\n        } else {\n          instance.style[name] = value;\n        }\n      }\n    } // Apply DOM attributes\n\n\n    names.forEach(function (name, i) {\n      instance.setAttribute(name, values[i]);\n    });\n\n    if (scrollTop !== void 0) {\n      instance.scrollTop = scrollTop;\n    }\n\n    if (scrollLeft !== void 0) {\n      instance.scrollLeft = scrollLeft;\n    }\n  });\n}\n\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nvar prefixKey = function prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n};\n\nvar prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce(function (acc, prop) {\n  prefixes.forEach(function (prefix) {\n    return acc[prefixKey(prefix, prop)] = acc[prop];\n  });\n  return acc;\n}, isUnitlessNumber);\n/** The transform-functions\n * (https://developer.mozilla.org/fr/docs/Web/CSS/transform-function)\n * that you can pass as keys to your animated component style and that will be\n * animated. Perspective has been left out as it would conflict with the\n * non-transform perspective style.\n */\n\nvar domTransforms = /^(matrix|translate|scale|rotate|skew)/; // These keys have \"px\" units by default\n\nvar pxTransforms = /^(translate)/; // These keys have \"deg\" units by default\n\nvar degTransforms = /^(rotate|skew)/;\n/** Add a unit to the value when the value is unit-less (eg: a number) */\n\nvar addUnit = function addUnit(value, unit) {\n  return is.num(value) && value !== 0 ? value + unit : value;\n};\n/**\n * Checks if the input value matches the identity value.\n *\n *     isValueIdentity(0, 0)              // => true\n *     isValueIdentity('0px', 0)          // => true\n *     isValueIdentity([0, '0px', 0], 0)  // => true\n */\n\n\nvar isValueIdentity = function isValueIdentity(value, id) {\n  return is.arr(value) ? value.every(function (v) {\n    return isValueIdentity(v, id);\n  }) : is.num(value) ? value === id : parseFloat(value) === id;\n};\n/**\n * This AnimatedStyle will simplify animated components transforms by\n * interpolating all transform function passed as keys in the style object\n * including shortcuts such as x, y and z for translateX/Y/Z\n */\n\n\nvar AnimatedStyle = /*#__PURE__*/function (_AnimatedObject) {\n  _inherits(AnimatedStyle, _AnimatedObject);\n\n  var _super = _createSuper(AnimatedStyle);\n\n  function AnimatedStyle(_ref) {\n    _classCallCheck(this, AnimatedStyle);\n\n    var x = _ref.x,\n        y = _ref.y,\n        z = _ref.z,\n        style = _objectWithoutPropertiesLoose(_ref, [\"x\", \"y\", \"z\"]);\n    /**\n     * An array of arrays that contains the values (static or fluid)\n     * used by each transform function.\n     */\n\n\n    var inputs = [];\n    /**\n     * An array of functions that take a list of values (static or fluid)\n     * and returns (1) a CSS transform string and (2) a boolean that's true\n     * when the transform has no effect (eg: an identity transform).\n     */\n\n    var transforms = []; // Combine x/y/z into translate3d\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(function (xyz) {\n        return [\"translate3d(\" + xyz.map(function (v) {\n          return addUnit(v, 'px');\n        }).join(',') + \")\", // prettier-ignore\n        isValueIdentity(xyz, 0)];\n      });\n    } // Pluck any other transform-related props\n\n\n    each(style, function (value, key) {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(function (transform) {\n          return [transform, transform === ''];\n        });\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        var unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 4),\n              x = _ref3[0],\n              y = _ref3[1],\n              z = _ref3[2],\n              deg = _ref3[3];\n\n          return [\"rotate3d(\" + x + \",\" + y + \",\" + z + \",\" + addUnit(deg, unit) + \")\", isValueIdentity(deg, 0)];\n        } : function (input) {\n          return [key + \"(\" + input.map(function (v) {\n            return addUnit(v, unit);\n          }).join(',') + \")\", isValueIdentity(input, key.startsWith('scale') ? 1 : 0)];\n        });\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    return _super.call(this, style);\n  }\n\n  return AnimatedStyle;\n}(AnimatedObject);\n/** @internal */\n\n\nvar FluidTransform = /*#__PURE__*/function (_FluidValue) {\n  _inherits(FluidTransform, _FluidValue);\n\n  var _super2 = _createSuper(FluidTransform);\n\n  function FluidTransform(inputs, transforms) {\n    var _this;\n\n    _classCallCheck(this, FluidTransform);\n\n    _this = _super2.call(this);\n    _this.inputs = inputs;\n    _this.transforms = transforms;\n    _this._value = null;\n    _this._children = new Set();\n    return _this;\n  }\n\n  _createClass(FluidTransform, [{\n    key: \"get\",\n    value: function get() {\n      return this._value || (this._value = this._get());\n    }\n  }, {\n    key: \"_get\",\n    value: function _get() {\n      var _this2 = this;\n\n      var transform = '';\n      var identity = true;\n      each(this.inputs, function (input, i) {\n        var arg1 = getFluidValue(input[0]);\n\n        var _this2$transforms$i = _this2.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue)),\n            _this2$transforms$i2 = _slicedToArray(_this2$transforms$i, 2),\n            t = _this2$transforms$i2[0],\n            id = _this2$transforms$i2[1];\n\n        transform += ' ' + t;\n        identity = identity && id;\n      });\n      return identity ? 'none' : transform;\n    }\n  }, {\n    key: \"addChild\",\n    value: function addChild(child) {\n      var _this3 = this;\n\n      if (!this._children.size) {\n        // Start observing our inputs once we have an observer.\n        each(this.inputs, function (input) {\n          return each(input, function (value) {\n            var config = getFluidConfig(value);\n            if (config) config.addChild(_this3);\n          });\n        });\n      }\n\n      this._children.add(child);\n    }\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(child) {\n      var _this4 = this;\n\n      this._children.delete(child);\n\n      if (!this._children.size) {\n        // Stop observing our inputs once we have no observers.\n        each(this.inputs, function (input) {\n          return each(input, function (value) {\n            var config = getFluidConfig(value);\n            if (config) config.removeChild(_this4);\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onParentChange\",\n    value: function onParentChange(event) {\n      if (event.type == 'change') {\n        this._value = null;\n      }\n\n      each(this._children, function (child) {\n        child.onParentChange(event);\n      });\n    }\n  }]);\n\n  return FluidTransform;\n}(FluidValue);\n\nvar primitives = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\nGlobals$1.assign({\n  colorNames: colorNames,\n  createStringInterpolator: createStringInterpolator,\n  batchedUpdates: unstable_batchedUpdates\n});\nvar host = createHost(primitives, {\n  applyAnimatedValues: applyAnimatedValues,\n  createAnimatedStyle: function createAnimatedStyle(style) {\n    return new AnimatedStyle(style);\n  },\n  getComponentProps: function getComponentProps(_ref) {\n    var props = _objectWithoutPropertiesLoose(_ref, [\"scrollTop\", \"scrollLeft\"]);\n\n    return props;\n  }\n});\nvar animated = host.animated;\nexport { animated as a, animated };","var resizeObservers = [];\nexport { resizeObservers };","var ResizeObserverBoxOptions;\n\n(function (ResizeObserverBoxOptions) {\n  ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n  ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n  ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\nexport { ResizeObserverBoxOptions };","var msg = 'ResizeObserver loop completed with undelivered notifications.';\n\nvar deliverResizeLoopError = function deliverResizeLoopError() {\n  var event;\n\n  if (typeof ErrorEvent === 'function') {\n    event = new ErrorEvent('error', {\n      message: msg\n    });\n  } else {\n    event = document.createEvent('Event');\n    event.initEvent('error', false, false);\n    event.message = msg;\n  }\n\n  window.dispatchEvent(event);\n};\n\nexport { deliverResizeLoopError };","var DOMRectReadOnly = function () {\n  function DOMRectReadOnly(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.top = this.y;\n    this.left = this.x;\n    this.bottom = this.top + this.height;\n    this.right = this.left + this.width;\n    return Object.freeze(this);\n  }\n\n  DOMRectReadOnly.prototype.toJSON = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left,\n        width = _a.width,\n        height = _a.height;\n\n    return {\n      x: x,\n      y: y,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n\n  DOMRectReadOnly.fromRect = function (rectangle) {\n    return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  };\n\n  return DOMRectReadOnly;\n}();\n\nexport { DOMRectReadOnly };","var trigger;\nvar callbacks = [];\n\nvar notify = function notify() {\n  return callbacks.splice(0).forEach(function (cb) {\n    return cb();\n  });\n};\n\nvar queueMicroTask = function queueMicroTask(callback) {\n  if (!trigger) {\n    var toggle_1 = 0;\n    var el_1 = document.createTextNode('');\n    var config = {\n      characterData: true\n    };\n    new MutationObserver(function () {\n      return notify();\n    }).observe(el_1, config);\n\n    trigger = function trigger() {\n      el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++);\n    };\n  }\n\n  callbacks.push(callback);\n  trigger();\n};\n\nexport { queueMicroTask };","var isSVG = function isSVG(target) {\n  return target instanceof SVGElement && 'getBBox' in target;\n};\n\nvar isHidden = function isHidden(target) {\n  if (isSVG(target)) {\n    var _a = target.getBBox(),\n        width = _a.width,\n        height = _a.height;\n\n    return !width && !height;\n  }\n\n  var _b = target,\n      offsetWidth = _b.offsetWidth,\n      offsetHeight = _b.offsetHeight;\n  return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\n\nvar isElement = function isElement(obj) {\n  var _a, _b;\n\n  var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n  return !!(scope && obj instanceof scope.Element);\n};\n\nvar isReplacedElement = function isReplacedElement(target) {\n  switch (target.tagName) {\n    case 'INPUT':\n      if (target.type !== 'image') {\n        break;\n      }\n\n    case 'VIDEO':\n    case 'AUDIO':\n    case 'EMBED':\n    case 'OBJECT':\n    case 'CANVAS':\n    case 'IFRAME':\n    case 'IMG':\n      return true;\n  }\n\n  return false;\n};\n\nexport { isSVG, isHidden, isElement, isReplacedElement };","export var global = typeof window !== 'undefined' ? window : {};","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = /msie|trident/i.test(global.navigator && global.navigator.userAgent);\n\nvar parseDimension = function parseDimension(pixel) {\n  return parseFloat(pixel || '0');\n};\n\nvar size = function size(inlineSize, blockSize, switchSizes) {\n  if (inlineSize === void 0) {\n    inlineSize = 0;\n  }\n\n  if (blockSize === void 0) {\n    blockSize = 0;\n  }\n\n  if (switchSizes === void 0) {\n    switchSizes = false;\n  }\n\n  return Object.freeze({\n    inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n    blockSize: (switchSizes ? inlineSize : blockSize) || 0\n  });\n};\n\nvar zeroBoxes = Object.freeze({\n  devicePixelContentBoxSize: size(),\n  borderBoxSize: size(),\n  contentBoxSize: size(),\n  contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\n\nvar calculateBoxSizes = function calculateBoxSizes(target, forceRecalculation) {\n  if (forceRecalculation === void 0) {\n    forceRecalculation = false;\n  }\n\n  if (cache.has(target) && !forceRecalculation) {\n    return cache.get(target);\n  }\n\n  if (isHidden(target)) {\n    cache.set(target, zeroBoxes);\n    return zeroBoxes;\n  }\n\n  var cs = getComputedStyle(target);\n  var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n  var removePadding = !IE && cs.boxSizing === 'border-box';\n  var switchSizes = verticalRegexp.test(cs.writingMode || '');\n  var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n  var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n  var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n  var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n  var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n  var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n  var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n  var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n  var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n  var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n  var horizontalPadding = paddingLeft + paddingRight;\n  var verticalPadding = paddingTop + paddingBottom;\n  var horizontalBorderArea = borderLeft + borderRight;\n  var verticalBorderArea = borderTop + borderBottom;\n  var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n  var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n  var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n  var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n  var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n  var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n  var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n  var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n  var boxes = Object.freeze({\n    devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n    borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n    contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n    contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n  });\n  cache.set(target, boxes);\n  return boxes;\n};\n\nvar calculateBoxSize = function calculateBoxSize(target, observedBox, forceRecalculation) {\n  var _a = calculateBoxSizes(target, forceRecalculation),\n      borderBoxSize = _a.borderBoxSize,\n      contentBoxSize = _a.contentBoxSize,\n      devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n\n  switch (observedBox) {\n    case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n      return devicePixelContentBoxSize;\n\n    case ResizeObserverBoxOptions.BORDER_BOX:\n      return borderBoxSize;\n\n    default:\n      return contentBoxSize;\n  }\n};\n\nexport { calculateBoxSize, calculateBoxSizes };","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\n\nvar ResizeObserverEntry = function () {\n  function ResizeObserverEntry(target) {\n    var boxes = calculateBoxSizes(target);\n    this.target = target;\n    this.contentRect = boxes.contentRect;\n    this.borderBoxSize = [boxes.borderBoxSize];\n    this.contentBoxSize = [boxes.contentBoxSize];\n    this.devicePixelContentBoxSize = [boxes.devicePixelContentBoxSize];\n  }\n\n  return ResizeObserverEntry;\n}();\n\nexport { ResizeObserverEntry };","import { isHidden } from '../utils/element';\n\nvar calculateDepthForNode = function calculateDepthForNode(node) {\n  if (isHidden(node)) {\n    return Infinity;\n  }\n\n  var depth = 0;\n  var parent = node.parentNode;\n\n  while (parent) {\n    depth += 1;\n    parent = parent.parentNode;\n  }\n\n  return depth;\n};\n\nexport { calculateDepthForNode };","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\n\nvar broadcastActiveObservations = function broadcastActiveObservations() {\n  var shallowestDepth = Infinity;\n  var callbacks = [];\n  resizeObservers.forEach(function processObserver(ro) {\n    if (ro.activeTargets.length === 0) {\n      return;\n    }\n\n    var entries = [];\n    ro.activeTargets.forEach(function processTarget(ot) {\n      var entry = new ResizeObserverEntry(ot.target);\n      var targetDepth = calculateDepthForNode(ot.target);\n      entries.push(entry);\n      ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n\n      if (targetDepth < shallowestDepth) {\n        shallowestDepth = targetDepth;\n      }\n    });\n    callbacks.push(function resizeObserverCallback() {\n      ro.callback.call(ro.observer, entries, ro.observer);\n    });\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n  });\n\n  for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n    var callback = callbacks_1[_i];\n    callback();\n  }\n\n  return shallowestDepth;\n};\n\nexport { broadcastActiveObservations };","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\n\nvar gatherActiveObservationsAtDepth = function gatherActiveObservationsAtDepth(depth) {\n  resizeObservers.forEach(function processObserver(ro) {\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n    ro.skippedTargets.splice(0, ro.skippedTargets.length);\n    ro.observationTargets.forEach(function processTarget(ot) {\n      if (ot.isActive()) {\n        if (calculateDepthForNode(ot.target) > depth) {\n          ro.activeTargets.push(ot);\n        } else {\n          ro.skippedTargets.push(ot);\n        }\n      }\n    });\n  });\n};\n\nexport { gatherActiveObservationsAtDepth };","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\n\nvar process = function process() {\n  var depth = 0;\n  gatherActiveObservationsAtDepth(depth);\n\n  while (hasActiveObservations()) {\n    depth = broadcastActiveObservations();\n    gatherActiveObservationsAtDepth(depth);\n  }\n\n  if (hasSkippedObservations()) {\n    deliverResizeLoopError();\n  }\n\n  return depth > 0;\n};\n\nexport { process };","import { resizeObservers } from '../utils/resizeObservers';\n\nvar hasActiveObservations = function hasActiveObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.activeTargets.length > 0;\n  });\n};\n\nexport { hasActiveObservations };","import { resizeObservers } from '../utils/resizeObservers';\n\nvar hasSkippedObservations = function hasSkippedObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.skippedTargets.length > 0;\n  });\n};\n\nexport { hasSkippedObservations };","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\n\nvar isWatching = function isWatching() {\n  return !!watching;\n};\n\nvar CATCH_PERIOD = 250;\nvar observerConfig = {\n  attributes: true,\n  characterData: true,\n  childList: true,\n  subtree: true\n};\nvar events = ['resize', 'load', 'transitionend', 'animationend', 'animationstart', 'animationiteration', 'keyup', 'keydown', 'mouseup', 'mousedown', 'mouseover', 'mouseout', 'blur', 'focus'];\n\nvar time = function time(timeout) {\n  if (timeout === void 0) {\n    timeout = 0;\n  }\n\n  return Date.now() + timeout;\n};\n\nvar scheduled = false;\n\nvar Scheduler = function () {\n  function Scheduler() {\n    var _this = this;\n\n    this.stopped = true;\n\n    this.listener = function () {\n      return _this.schedule();\n    };\n  }\n\n  Scheduler.prototype.run = function (timeout) {\n    var _this = this;\n\n    if (timeout === void 0) {\n      timeout = CATCH_PERIOD;\n    }\n\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    var until = time(timeout);\n    queueResizeObserver(function () {\n      var elementsHaveResized = false;\n\n      try {\n        elementsHaveResized = process();\n      } finally {\n        scheduled = false;\n        timeout = until - time();\n\n        if (!isWatching()) {\n          return;\n        }\n\n        if (elementsHaveResized) {\n          _this.run(1000);\n        } else if (timeout > 0) {\n          _this.run(timeout);\n        } else {\n          _this.start();\n        }\n      }\n    });\n  };\n\n  Scheduler.prototype.schedule = function () {\n    this.stop();\n    this.run();\n  };\n\n  Scheduler.prototype.observe = function () {\n    var _this = this;\n\n    var cb = function cb() {\n      return _this.observer && _this.observer.observe(document.body, observerConfig);\n    };\n\n    document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n  };\n\n  Scheduler.prototype.start = function () {\n    var _this = this;\n\n    if (this.stopped) {\n      this.stopped = false;\n      this.observer = new MutationObserver(this.listener);\n      this.observe();\n      events.forEach(function (name) {\n        return global.addEventListener(name, _this.listener, true);\n      });\n    }\n  };\n\n  Scheduler.prototype.stop = function () {\n    var _this = this;\n\n    if (!this.stopped) {\n      this.observer && this.observer.disconnect();\n      events.forEach(function (name) {\n        return global.removeEventListener(name, _this.listener, true);\n      });\n      this.stopped = true;\n    }\n  };\n\n  return Scheduler;\n}();\n\nvar scheduler = new Scheduler();\n\nvar updateCount = function updateCount(n) {\n  !watching && n > 0 && scheduler.start();\n  watching += n;\n  !watching && scheduler.stop();\n};\n\nexport { scheduler, updateCount };","import { queueMicroTask } from './queueMicroTask';\n\nvar queueResizeObserver = function queueResizeObserver(cb) {\n  queueMicroTask(function ResizeObserver() {\n    requestAnimationFrame(cb);\n  });\n};\n\nexport { queueResizeObserver };","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\n\nvar skipNotifyOnElement = function skipNotifyOnElement(target) {\n  return !isSVG(target) && !isReplacedElement(target) && getComputedStyle(target).display === 'inline';\n};\n\nvar ResizeObservation = function () {\n  function ResizeObservation(target, observedBox) {\n    this.target = target;\n    this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n    this.lastReportedSize = {\n      inlineSize: 0,\n      blockSize: 0\n    };\n  }\n\n  ResizeObservation.prototype.isActive = function () {\n    var size = calculateBoxSize(this.target, this.observedBox, true);\n\n    if (skipNotifyOnElement(this.target)) {\n      this.lastReportedSize = size;\n    }\n\n    if (this.lastReportedSize.inlineSize !== size.inlineSize || this.lastReportedSize.blockSize !== size.blockSize) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return ResizeObservation;\n}();\n\nexport { ResizeObservation };","var ResizeObserverDetail = function () {\n  function ResizeObserverDetail(resizeObserver, callback) {\n    this.activeTargets = [];\n    this.skippedTargets = [];\n    this.observationTargets = [];\n    this.observer = resizeObserver;\n    this.callback = callback;\n  }\n\n  return ResizeObserverDetail;\n}();\n\nexport { ResizeObserverDetail };","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\n\nvar getObservationIndex = function getObservationIndex(observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1) {\n    if (observationTargets[i].target === target) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar ResizeObserverController = function () {\n  function ResizeObserverController() {}\n\n  ResizeObserverController.connect = function (resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    observerMap.set(resizeObserver, detail);\n  };\n\n  ResizeObserverController.observe = function (resizeObserver, target, options) {\n    var detail = observerMap.get(resizeObserver);\n    var firstObservation = detail.observationTargets.length === 0;\n\n    if (getObservationIndex(detail.observationTargets, target) < 0) {\n      firstObservation && resizeObservers.push(detail);\n      detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n      updateCount(1);\n      scheduler.schedule();\n    }\n  };\n\n  ResizeObserverController.unobserve = function (resizeObserver, target) {\n    var detail = observerMap.get(resizeObserver);\n    var index = getObservationIndex(detail.observationTargets, target);\n    var lastObservation = detail.observationTargets.length === 1;\n\n    if (index >= 0) {\n      lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n      detail.observationTargets.splice(index, 1);\n      updateCount(-1);\n    }\n  };\n\n  ResizeObserverController.disconnect = function (resizeObserver) {\n    var _this = this;\n\n    var detail = observerMap.get(resizeObserver);\n    detail.observationTargets.slice().forEach(function (ot) {\n      return _this.unobserve(resizeObserver, ot.target);\n    });\n    detail.activeTargets.splice(0, detail.activeTargets.length);\n  };\n\n  return ResizeObserverController;\n}();\n\nexport { ResizeObserverController };","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\n\nvar ResizeObserver = function () {\n  function ResizeObserver(callback) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (typeof callback !== 'function') {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n    }\n\n    ResizeObserverController.connect(this, callback);\n  }\n\n  ResizeObserver.prototype.observe = function (target, options) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.observe(this, target, options);\n  };\n\n  ResizeObserver.prototype.unobserve = function (target) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.unobserve(this, target);\n  };\n\n  ResizeObserver.prototype.disconnect = function () {\n    ResizeObserverController.disconnect(this);\n  };\n\n  ResizeObserver.toString = function () {\n    return 'function ResizeObserver () { [polyfill code] }';\n  };\n\n  return ResizeObserver;\n}();\n\nexport { ResizeObserver };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","function mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nexport default mergeRefs;","// stats.js - http://github.com/mrdoob/stats.js\nvar Stats = function Stats() {\n  function h(a) {\n    c.appendChild(a.dom);\n    return a;\n  }\n\n  function k(a) {\n    for (var d = 0; d < c.children.length; d++) {\n      c.children[d].style.display = d === a ? \"block\" : \"none\";\n    }\n\n    l = a;\n  }\n\n  var l = 0,\n      c = document.createElement(\"div\");\n  c.style.cssText = \"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";\n  c.addEventListener(\"click\", function (a) {\n    a.preventDefault();\n    k(++l % c.children.length);\n  }, !1);\n  var g = (performance || Date).now(),\n      e = g,\n      a = 0,\n      r = h(new Stats.Panel(\"FPS\", \"#0ff\", \"#002\")),\n      f = h(new Stats.Panel(\"MS\", \"#0f0\", \"#020\"));\n  if (self.performance && self.performance.memory) var t = h(new Stats.Panel(\"MB\", \"#f08\", \"#201\"));\n  k(0);\n  return {\n    REVISION: 16,\n    dom: c,\n    addPanel: h,\n    showPanel: k,\n    begin: function begin() {\n      g = (performance || Date).now();\n    },\n    end: function end() {\n      a++;\n      var c = (performance || Date).now();\n      f.update(c - g, 200);\n\n      if (c > e + 1E3 && (r.update(1E3 * a / (c - e), 100), e = c, a = 0, t)) {\n        var d = performance.memory;\n        t.update(d.usedJSHeapSize / 1048576, d.jsHeapSizeLimit / 1048576);\n      }\n\n      return c;\n    },\n    update: function update() {\n      g = this.end();\n    },\n    domElement: c,\n    setMode: k\n  };\n};\n\nStats.Panel = function (h, k, l) {\n  var c = Infinity,\n      g = 0,\n      e = Math.round,\n      a = e(window.devicePixelRatio || 1),\n      r = 80 * a,\n      f = 48 * a,\n      t = 3 * a,\n      u = 2 * a,\n      d = 3 * a,\n      m = 15 * a,\n      n = 74 * a,\n      p = 30 * a,\n      q = document.createElement(\"canvas\");\n  q.width = r;\n  q.height = f;\n  q.style.cssText = \"width:80px;height:48px\";\n  var b = q.getContext(\"2d\");\n  b.font = \"bold \" + 9 * a + \"px Helvetica,Arial,sans-serif\";\n  b.textBaseline = \"top\";\n  b.fillStyle = l;\n  b.fillRect(0, 0, r, f);\n  b.fillStyle = k;\n  b.fillText(h, t, u);\n  b.fillRect(d, m, n, p);\n  b.fillStyle = l;\n  b.globalAlpha = .9;\n  b.fillRect(d, m, n, p);\n  return {\n    dom: q,\n    update: function update(f, v) {\n      c = Math.min(c, f);\n      g = Math.max(g, f);\n      b.fillStyle = l;\n      b.globalAlpha = 1;\n      b.fillRect(0, 0, r, m);\n      b.fillStyle = k;\n      b.fillText(e(f) + \" \" + h + \" (\" + e(c) + \"-\" + e(g) + \")\", t, u);\n      b.drawImage(q, d + a, m, n - a, p, d, m, n - a, p);\n      b.fillRect(d + n - a, m, a, p);\n      b.fillStyle = l;\n      b.globalAlpha = .9;\n      b.fillRect(d + n - a, m, a, e((1 - f / v) * p));\n    }\n  };\n};\n\n\"object\" === typeof module && (module.exports = Stats);","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import { Box3, Float32BufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InterleavedBufferAttribute, Sphere, Vector3, WireframeGeometry } from \"../../../build/three.module.js\";\n\nvar LineSegmentsGeometry = function LineSegmentsGeometry() {\n  InstancedBufferGeometry.call(this);\n  this.type = 'LineSegmentsGeometry';\n  var positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0];\n  var uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2];\n  var index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\n  this.setIndex(index);\n  this.setAttribute('position', new Float32BufferAttribute(positions, 3));\n  this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n};\n\nLineSegmentsGeometry.prototype = Object.assign(Object.create(InstancedBufferGeometry.prototype), {\n  constructor: LineSegmentsGeometry,\n  isLineSegmentsGeometry: true,\n  applyMatrix4: function applyMatrix4(matrix) {\n    var start = this.attributes.instanceStart;\n    var end = this.attributes.instanceEnd;\n\n    if (start !== undefined) {\n      start.applyMatrix4(matrix);\n      end.applyMatrix4(matrix);\n      start.needsUpdate = true;\n    }\n\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n\n    return this;\n  },\n  setPositions: function setPositions(array) {\n    var lineSegments;\n\n    if (array instanceof Float32Array) {\n      lineSegments = array;\n    } else if (Array.isArray(array)) {\n      lineSegments = new Float32Array(array);\n    }\n\n    var instanceBuffer = new InstancedInterleavedBuffer(lineSegments, 6, 1); // xyz, xyz\n\n    this.setAttribute('instanceStart', new InterleavedBufferAttribute(instanceBuffer, 3, 0)); // xyz\n\n    this.setAttribute('instanceEnd', new InterleavedBufferAttribute(instanceBuffer, 3, 3)); // xyz\n    //\n\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n    return this;\n  },\n  setColors: function setColors(array) {\n    var colors;\n\n    if (array instanceof Float32Array) {\n      colors = array;\n    } else if (Array.isArray(array)) {\n      colors = new Float32Array(array);\n    }\n\n    var instanceColorBuffer = new InstancedInterleavedBuffer(colors, 6, 1); // rgb, rgb\n\n    this.setAttribute('instanceColorStart', new InterleavedBufferAttribute(instanceColorBuffer, 3, 0)); // rgb\n\n    this.setAttribute('instanceColorEnd', new InterleavedBufferAttribute(instanceColorBuffer, 3, 3)); // rgb\n\n    return this;\n  },\n  fromWireframeGeometry: function fromWireframeGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  },\n  fromEdgesGeometry: function fromEdgesGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  },\n  fromMesh: function fromMesh(mesh) {\n    this.fromWireframeGeometry(new WireframeGeometry(mesh.geometry)); // set colors, maybe\n\n    return this;\n  },\n  fromLineSegments: function fromLineSegments(lineSegments) {\n    var geometry = lineSegments.geometry;\n\n    if (geometry.isGeometry) {\n      this.setPositions(geometry.vertices);\n    } else if (geometry.isBufferGeometry) {\n      this.setPositions(geometry.attributes.position.array); // assumes non-indexed\n    } // set colors, maybe\n\n\n    return this;\n  },\n  computeBoundingBox: function () {\n    var box = new Box3();\n    return function computeBoundingBox() {\n      if (this.boundingBox === null) {\n        this.boundingBox = new Box3();\n      }\n\n      var start = this.attributes.instanceStart;\n      var end = this.attributes.instanceEnd;\n\n      if (start !== undefined && end !== undefined) {\n        this.boundingBox.setFromBufferAttribute(start);\n        box.setFromBufferAttribute(end);\n        this.boundingBox.union(box);\n      }\n    };\n  }(),\n  computeBoundingSphere: function () {\n    var vector = new Vector3();\n    return function computeBoundingSphere() {\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new Sphere();\n      }\n\n      if (this.boundingBox === null) {\n        this.computeBoundingBox();\n      }\n\n      var start = this.attributes.instanceStart;\n      var end = this.attributes.instanceEnd;\n\n      if (start !== undefined && end !== undefined) {\n        var center = this.boundingSphere.center;\n        this.boundingBox.getCenter(center);\n        var maxRadiusSq = 0;\n\n        for (var i = 0, il = start.count; i < il; i++) {\n          vector.fromBufferAttribute(start, i);\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\n          vector.fromBufferAttribute(end, i);\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\n        }\n\n        this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n        if (isNaN(this.boundingSphere.radius)) {\n          console.error('THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this);\n        }\n      }\n    };\n  }(),\n  toJSON: function toJSON() {// todo\n  },\n  applyMatrix: function applyMatrix(matrix) {\n    console.warn('THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().');\n    return this.applyMatrix4(matrix);\n  }\n});\nexport { LineSegmentsGeometry };","import { AnimationClip, Bone, Box3, BufferAttribute, BufferGeometry, CanvasTexture, ClampToEdgeWrapping, Color, DirectionalLight, DoubleSide, FileLoader, FrontSide, Group, ImageBitmapLoader, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, Line, LineBasicMaterial, LineLoop, LineSegments, LinearFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, Loader, LoaderUtils, Material, MathUtils, Matrix4, Mesh, MeshBasicMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MirroredRepeatWrapping, NearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, Points, PointsMaterial, PropertyBinding, QuaternionKeyframeTrack, RGBFormat, RepeatWrapping, Skeleton, SkinnedMesh, Sphere, SpotLight, TangentSpaceNormalMap, TextureLoader, TriangleFanDrawMode, TriangleStripDrawMode, Vector2, Vector3, VectorKeyframeTrack, sRGBEncoding } from \"../../../build/three.module.js\";\n\nvar GLTFLoader = function () {\n  function GLTFLoader(manager) {\n    Loader.call(this, manager);\n    this.dracoLoader = null;\n    this.ddsLoader = null;\n    this.ktx2Loader = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n  }\n\n  GLTFLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: GLTFLoader,\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var resourcePath;\n\n      if (this.resourcePath !== '') {\n        resourcePath = this.resourcePath;\n      } else if (this.path !== '') {\n        resourcePath = this.path;\n      } else {\n        resourcePath = LoaderUtils.extractUrlBase(url);\n      } // Tells the LoadingManager to track an extra item, which resolves after\n      // the model is fully loaded. This means the count of items loaded will\n      // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n      this.manager.itemStart(url);\n\n      var _onError = function _onError(e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      };\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (data) {\n        try {\n          scope.parse(data, resourcePath, function (gltf) {\n            onLoad(gltf);\n            scope.manager.itemEnd(url);\n          }, _onError);\n        } catch (e) {\n          _onError(e);\n        }\n      }, onProgress, _onError);\n    },\n    setDRACOLoader: function setDRACOLoader(dracoLoader) {\n      this.dracoLoader = dracoLoader;\n      return this;\n    },\n    setDDSLoader: function setDDSLoader(ddsLoader) {\n      this.ddsLoader = ddsLoader;\n      return this;\n    },\n    setKTX2Loader: function setKTX2Loader(ktx2Loader) {\n      this.ktx2Loader = ktx2Loader;\n      return this;\n    },\n    register: function register(callback) {\n      if (this.pluginCallbacks.indexOf(callback) === -1) {\n        this.pluginCallbacks.push(callback);\n      }\n\n      return this;\n    },\n    unregister: function unregister(callback) {\n      if (this.pluginCallbacks.indexOf(callback) !== -1) {\n        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n      }\n\n      return this;\n    },\n    parse: function parse(data, path, onLoad, onError) {\n      var content;\n      var extensions = {};\n      var plugins = {};\n\n      if (typeof data === 'string') {\n        content = data;\n      } else {\n        var magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n          try {\n            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n          } catch (error) {\n            if (onError) onError(error);\n            return;\n          }\n\n          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n        } else {\n          content = LoaderUtils.decodeText(new Uint8Array(data));\n        }\n      }\n\n      var json = JSON.parse(content);\n\n      if (json.asset === undefined || json.asset.version[0] < 2) {\n        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n        return;\n      }\n\n      var parser = new GLTFParser(json, {\n        path: path || this.resourcePath || '',\n        crossOrigin: this.crossOrigin,\n        manager: this.manager,\n        ktx2Loader: this.ktx2Loader\n      });\n      parser.fileLoader.setRequestHeader(this.requestHeader);\n\n      for (var i = 0; i < this.pluginCallbacks.length; i++) {\n        var plugin = this.pluginCallbacks[i](parser);\n        plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n        // in addUnknownExtensionsToUserData().\n        // Remove this workaround if we move all the existing\n        // extension handlers to plugin system\n\n        extensions[plugin.name] = true;\n      }\n\n      if (json.extensionsUsed) {\n        for (var i = 0; i < json.extensionsUsed.length; ++i) {\n          var extensionName = json.extensionsUsed[i];\n          var extensionsRequired = json.extensionsRequired || [];\n\n          switch (extensionName) {\n            case EXTENSIONS.KHR_MATERIALS_UNLIT:\n              extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n              break;\n\n            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n              break;\n\n            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n              break;\n\n            case EXTENSIONS.MSFT_TEXTURE_DDS:\n              extensions[extensionName] = new GLTFTextureDDSExtension(this.ddsLoader);\n              break;\n\n            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n              extensions[extensionName] = new GLTFTextureTransformExtension();\n              break;\n\n            case EXTENSIONS.KHR_MESH_QUANTIZATION:\n              extensions[extensionName] = new GLTFMeshQuantizationExtension();\n              break;\n\n            default:\n              if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n                console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n              }\n\n          }\n        }\n      }\n\n      parser.setExtensions(extensions);\n      parser.setPlugins(plugins);\n      parser.parse(onLoad, onError);\n    }\n  });\n  /* GLTFREGISTRY */\n\n  function GLTFRegistry() {\n    var objects = {};\n    return {\n      get: function get(key) {\n        return objects[key];\n      },\n      add: function add(key, object) {\n        objects[key] = object;\n      },\n      remove: function remove(key) {\n        delete objects[key];\n      },\n      removeAll: function removeAll() {\n        objects = {};\n      }\n    };\n  }\n  /*********************************/\n\n  /********** EXTENSIONS ***********/\n\n  /*********************************/\n\n\n  var EXTENSIONS = {\n    KHR_BINARY_GLTF: 'KHR_binary_glTF',\n    KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n    KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n    KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n    KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n    KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n    KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n    KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n    KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n    KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n    MSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n  };\n  /**\n   * DDS Texture Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n   *\n   */\n\n  function GLTFTextureDDSExtension(ddsLoader) {\n    if (!ddsLoader) {\n      throw new Error('THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader');\n    }\n\n    this.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n    this.ddsLoader = ddsLoader;\n  }\n  /**\n   * Punctual Lights Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n   */\n\n\n  function GLTFLightsExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  GLTFLightsExtension.prototype._markDefs = function () {\n    var parser = this.parser;\n    var nodeDefs = this.parser.json.nodes || [];\n\n    for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      var nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  };\n\n  GLTFLightsExtension.prototype._loadLight = function (lightIndex) {\n    var parser = this.parser;\n    var cacheKey = 'light:' + lightIndex;\n    var dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    var json = parser.json;\n    var extensions = json.extensions && json.extensions[this.name] || {};\n    var lightDefs = extensions.lights || [];\n    var lightDef = lightDefs[lightIndex];\n    var lightNode;\n    var color = new Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    var range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".');\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  };\n\n  GLTFLightsExtension.prototype.createNodeAttachment = function (nodeIndex) {\n    var self = this;\n    var parser = this.parser;\n    var json = parser.json;\n    var nodeDef = json.nodes[nodeIndex];\n    var lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    var lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  };\n  /**\n   * Unlit Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n   */\n\n\n  function GLTFMaterialsUnlitExtension() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  GLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n    return MeshBasicMaterial;\n  };\n\n  GLTFMaterialsUnlitExtension.prototype.extendParams = function (materialParams, materialDef, parser) {\n    var pending = [];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    var metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        var array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Clearcoat Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n   */\n\n\n  function GLTFMaterialsClearcoatExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  GLTFMaterialsClearcoatExtension.prototype.getMaterialType = function (materialIndex) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  };\n\n  GLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function (materialIndex, materialParams) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    var pending = [];\n    var extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        var scale = extension.clearcoatNormalTexture.scale;\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Transmission Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n   * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n   */\n\n\n  function GLTFMaterialsTransmissionExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  GLTFMaterialsTransmissionExtension.prototype.getMaterialType = function (materialIndex) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  };\n\n  GLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function (materialIndex, materialParams) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    var pending = [];\n    var extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * BasisU Texture Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n   * (draft PR https://github.com/KhronosGroup/glTF/pull/1751)\n   */\n\n\n  function GLTFTextureBasisUExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  GLTFTextureBasisUExtension.prototype.loadTexture = function (textureIndex) {\n    var parser = this.parser;\n    var json = parser.json;\n    var textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    var extension = textureDef.extensions[this.name];\n    var source = json.images[extension.source];\n    var loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n    }\n\n    return parser.loadTextureImage(textureIndex, source, loader);\n  };\n  /* BINARY EXTENSION */\n\n\n  var BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n  var BINARY_EXTENSION_HEADER_LENGTH = 12;\n  var BINARY_EXTENSION_CHUNK_TYPES = {\n    JSON: 0x4E4F534A,\n    BIN: 0x004E4942\n  };\n\n  function GLTFBinaryExtension(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    var chunkIndex = 0;\n\n    while (chunkIndex < chunkView.byteLength) {\n      var chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      var chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n  /**\n   * DRACO Mesh Compression Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n   */\n\n\n  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  GLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function (primitive, parser) {\n    var json = this.json;\n    var dracoLoader = this.dracoLoader;\n    var bufferViewIndex = primitive.extensions[this.name].bufferView;\n    var gltfAttributeMap = primitive.extensions[this.name].attributes;\n    var threeAttributeMap = {};\n    var attributeNormalizedMap = {};\n    var attributeTypeMap = {};\n\n    for (var attributeName in gltfAttributeMap) {\n      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (attributeName in primitive.attributes) {\n      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        var accessorDef = json.accessors[primitive.attributes[attributeName]];\n        var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (var attributeName in geometry.attributes) {\n            var attribute = geometry.attributes[attributeName];\n            var normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  };\n  /**\n   * Texture Transform Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n   */\n\n\n  function GLTFTextureTransformExtension() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  GLTFTextureTransformExtension.prototype.extendTexture = function (texture, transform) {\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  };\n  /**\n   * Specular-Glossiness Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n   */\n\n  /**\n   * A sub class of StandardMaterial with some of the functionality\n   * changed via the `onBeforeCompile` callback\n   * @pailhead\n   */\n\n\n  function GLTFMeshStandardSGMaterial(params) {\n    MeshStandardMaterial.call(this);\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.specularRoughness += geometryRoughness;', 'material.specularRoughness = min( material.specularRoughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    var uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (var uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function get() {\n          return uniforms.specular.value;\n        },\n        set: function set(v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function get() {\n          return uniforms.specularMap.value;\n        },\n        set: function set(v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function get() {\n          return uniforms.glossiness.value;\n        },\n        set: function set(v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function get() {\n          return uniforms.glossinessMap.value;\n        },\n        set: function set(v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  GLTFMeshStandardSGMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n  GLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n  GLTFMeshStandardSGMaterial.prototype.copy = function (source) {\n    MeshStandardMaterial.prototype.copy.call(this, source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  };\n\n  function GLTFMaterialsPbrSpecularGlossinessExtension() {\n    return {\n      name: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n      specularGlossinessParams: ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'],\n      getMaterialType: function getMaterialType() {\n        return GLTFMeshStandardSGMaterial;\n      },\n      extendParams: function extendParams(materialParams, materialDef, parser) {\n        var pbrSpecularGlossiness = materialDef.extensions[this.name];\n        materialParams.color = new Color(1.0, 1.0, 1.0);\n        materialParams.opacity = 1.0;\n        var pending = [];\n\n        if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n          var array = pbrSpecularGlossiness.diffuseFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n        }\n\n        materialParams.emissive = new Color(0.0, 0.0, 0.0);\n        materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n        materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n        if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n          materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n        }\n\n        if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n          var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n          pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n          pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n        }\n\n        return Promise.all(pending);\n      },\n      createMaterial: function createMaterial(materialParams) {\n        var material = new GLTFMeshStandardSGMaterial(materialParams);\n        material.fog = true;\n        material.color = materialParams.color;\n        material.map = materialParams.map === undefined ? null : materialParams.map;\n        material.lightMap = null;\n        material.lightMapIntensity = 1.0;\n        material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n        material.aoMapIntensity = 1.0;\n        material.emissive = materialParams.emissive;\n        material.emissiveIntensity = 1.0;\n        material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n        material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n        material.bumpScale = 1;\n        material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n        material.normalMapType = TangentSpaceNormalMap;\n        if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n        material.displacementMap = null;\n        material.displacementScale = 1;\n        material.displacementBias = 0;\n        material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n        material.specular = materialParams.specular;\n        material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n        material.glossiness = materialParams.glossiness;\n        material.alphaMap = null;\n        material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n        material.envMapIntensity = 1.0;\n        material.refractionRatio = 0.98;\n        return material;\n      }\n    };\n  }\n  /**\n   * Mesh Quantization Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n   */\n\n\n  function GLTFMeshQuantizationExtension() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n  /*********************************/\n\n  /********** INTERPOLATION ********/\n\n  /*********************************/\n  // Spline Interpolation\n  // Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\n  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  GLTFCubicSplineInterpolant.prototype = Object.create(Interpolant.prototype);\n  GLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n  GLTFCubicSplineInterpolant.prototype.copySampleValue_ = function (index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    var result = this.resultBuffer,\n        values = this.sampleValues,\n        valueSize = this.valueSize,\n        offset = index * valueSize * 3 + valueSize;\n\n    for (var i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  };\n\n  GLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n  GLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n  GLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n    var result = this.resultBuffer;\n    var values = this.sampleValues;\n    var stride = this.valueSize;\n    var stride2 = stride * 2;\n    var stride3 = stride * 3;\n    var td = t1 - t0;\n    var p = (t - t0) / td;\n    var pp = p * p;\n    var ppp = pp * p;\n    var offset1 = i1 * stride3;\n    var offset0 = offset1 - stride3;\n    var s2 = -2 * ppp + 3 * pp;\n    var s3 = ppp - pp;\n    var s0 = 1 - s2;\n    var s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n    for (var i = 0; i !== stride; i++) {\n      var p0 = values[offset0 + i + stride]; // splineVertex_k\n\n      var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n      var p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n      var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n    }\n\n    return result;\n  };\n  /*********************************/\n\n  /********** INTERNALS ************/\n\n  /*********************************/\n\n  /* CONSTANTS */\n\n\n  var WEBGL_CONSTANTS = {\n    FLOAT: 5126,\n    //FLOAT_MAT2: 35674,\n    FLOAT_MAT3: 35675,\n    FLOAT_MAT4: 35676,\n    FLOAT_VEC2: 35664,\n    FLOAT_VEC3: 35665,\n    FLOAT_VEC4: 35666,\n    LINEAR: 9729,\n    REPEAT: 10497,\n    SAMPLER_2D: 35678,\n    POINTS: 0,\n    LINES: 1,\n    LINE_LOOP: 2,\n    LINE_STRIP: 3,\n    TRIANGLES: 4,\n    TRIANGLE_STRIP: 5,\n    TRIANGLE_FAN: 6,\n    UNSIGNED_BYTE: 5121,\n    UNSIGNED_SHORT: 5123\n  };\n  var WEBGL_COMPONENT_TYPES = {\n    5120: Int8Array,\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array\n  };\n  var WEBGL_FILTERS = {\n    9728: NearestFilter,\n    9729: LinearFilter,\n    9984: NearestMipmapNearestFilter,\n    9985: LinearMipmapNearestFilter,\n    9986: NearestMipmapLinearFilter,\n    9987: LinearMipmapLinearFilter\n  };\n  var WEBGL_WRAPPINGS = {\n    33071: ClampToEdgeWrapping,\n    33648: MirroredRepeatWrapping,\n    10497: RepeatWrapping\n  };\n  var WEBGL_TYPE_SIZES = {\n    'SCALAR': 1,\n    'VEC2': 2,\n    'VEC3': 3,\n    'VEC4': 4,\n    'MAT2': 4,\n    'MAT3': 9,\n    'MAT4': 16\n  };\n  var ATTRIBUTES = {\n    POSITION: 'position',\n    NORMAL: 'normal',\n    TANGENT: 'tangent',\n    TEXCOORD_0: 'uv',\n    TEXCOORD_1: 'uv2',\n    COLOR_0: 'color',\n    WEIGHTS_0: 'skinWeight',\n    JOINTS_0: 'skinIndex'\n  };\n  var PATH_PROPERTIES = {\n    scale: 'scale',\n    translation: 'position',\n    rotation: 'quaternion',\n    weights: 'morphTargetInfluences'\n  };\n  var INTERPOLATION = {\n    CUBICSPLINE: undefined,\n    // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n    // keyframe track will be initialized with a default interpolation type, then modified.\n    LINEAR: InterpolateLinear,\n    STEP: InterpolateDiscrete\n  };\n  var ALPHA_MODES = {\n    OPAQUE: 'OPAQUE',\n    MASK: 'MASK',\n    BLEND: 'BLEND'\n  };\n  /* UTILITY FUNCTIONS */\n\n  function resolveURL(url, path) {\n    // Invalid URL\n    if (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n    if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n      path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n    } // Absolute URL http://,https://,//\n\n\n    if (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n    if (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n    if (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n    return path + url;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n   */\n\n\n  function createDefaultMaterial(cache) {\n    if (cache['DefaultMaterial'] === undefined) {\n      cache['DefaultMaterial'] = new MeshStandardMaterial({\n        color: 0xFFFFFF,\n        emissive: 0x000000,\n        metalness: 1,\n        roughness: 1,\n        transparent: false,\n        depthTest: true,\n        side: FrontSide\n      });\n    }\n\n    return cache['DefaultMaterial'];\n  }\n\n  function addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n    // Add unknown glTF extensions to an object's userData.\n    for (var name in objectDef.extensions) {\n      if (knownExtensions[name] === undefined) {\n        object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n        object.userData.gltfExtensions[name] = objectDef.extensions[name];\n      }\n    }\n  }\n  /**\n   * @param {Object3D|Material|BufferGeometry} object\n   * @param {GLTF.definition} gltfDef\n   */\n\n\n  function assignExtrasToUserData(object, gltfDef) {\n    if (gltfDef.extras !== undefined) {\n      if (typeof gltfDef.extras === 'object') {\n        Object.assign(object.userData, gltfDef.extras);\n      } else {\n        console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n      }\n    }\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n   *\n   * @param {BufferGeometry} geometry\n   * @param {Array<GLTF.Target>} targets\n   * @param {GLTFParser} parser\n   * @return {Promise<BufferGeometry>}\n   */\n\n\n  function addMorphTargets(geometry, targets, parser) {\n    var hasMorphPosition = false;\n    var hasMorphNormal = false;\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n      if (target.POSITION !== undefined) hasMorphPosition = true;\n      if (target.NORMAL !== undefined) hasMorphNormal = true;\n      if (hasMorphPosition && hasMorphNormal) break;\n    }\n\n    if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n    var pendingPositionAccessors = [];\n    var pendingNormalAccessors = [];\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n\n      if (hasMorphPosition) {\n        var pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n        pendingPositionAccessors.push(pendingAccessor);\n      }\n\n      if (hasMorphNormal) {\n        var pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n        pendingNormalAccessors.push(pendingAccessor);\n      }\n    }\n\n    return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n      var morphPositions = accessors[0];\n      var morphNormals = accessors[1];\n      if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n      if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n      geometry.morphTargetsRelative = true;\n      return geometry;\n    });\n  }\n  /**\n   * @param {Mesh} mesh\n   * @param {GLTF.Mesh} meshDef\n   */\n\n\n  function updateMorphTargets(mesh, meshDef) {\n    mesh.updateMorphTargets();\n\n    if (meshDef.weights !== undefined) {\n      for (var i = 0, il = meshDef.weights.length; i < il; i++) {\n        mesh.morphTargetInfluences[i] = meshDef.weights[i];\n      }\n    } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n    if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n      var targetNames = meshDef.extras.targetNames;\n\n      if (mesh.morphTargetInfluences.length === targetNames.length) {\n        mesh.morphTargetDictionary = {};\n\n        for (var i = 0, il = targetNames.length; i < il; i++) {\n          mesh.morphTargetDictionary[targetNames[i]] = i;\n        }\n      } else {\n        console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n      }\n    }\n  }\n\n  function createPrimitiveKey(primitiveDef) {\n    var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n    var geometryKey;\n\n    if (dracoExtension) {\n      geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n    } else {\n      geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n    }\n\n    return geometryKey;\n  }\n\n  function createAttributesKey(attributes) {\n    var attributesKey = '';\n    var keys = Object.keys(attributes).sort();\n\n    for (var i = 0, il = keys.length; i < il; i++) {\n      attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n    }\n\n    return attributesKey;\n  }\n  /* GLTF PARSER */\n\n\n  function GLTFParser(json, options) {\n    this.json = json || {};\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options || {}; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    }; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  GLTFParser.prototype.setExtensions = function (extensions) {\n    this.extensions = extensions;\n  };\n\n  GLTFParser.prototype.setPlugins = function (plugins) {\n    this.plugins = plugins;\n  };\n\n  GLTFParser.prototype.parse = function (onLoad, onError) {\n    var parser = this;\n    var json = this.json;\n    var extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all([this.getDependencies('scene'), this.getDependencies('animation'), this.getDependencies('camera')]).then(function (dependencies) {\n      var result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      onLoad(result);\n    }).catch(onError);\n  };\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  GLTFParser.prototype._markDefs = function () {\n    var nodeDefs = this.json.nodes || [];\n    var skinDefs = this.json.skins || [];\n    var meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      var joints = skinDefs[skinIndex].joints;\n\n      for (var i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      var nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  };\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  GLTFParser.prototype._addNodeRef = function (cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  };\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  GLTFParser.prototype._getNodeRef = function (cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    var ref = object.clone();\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  };\n\n  GLTFParser.prototype._invokeOne = function (func) {\n    var extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (var i = 0; i < extensions.length; i++) {\n      var result = func(extensions[i]);\n      if (result) return result;\n    }\n  };\n\n  GLTFParser.prototype._invokeAll = function (func) {\n    var extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    var pending = [];\n\n    for (var i = 0; i < extensions.length; i++) {\n      var result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  };\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  GLTFParser.prototype.getDependency = function (type, index) {\n    var cacheKey = type + ':' + index;\n    var dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this.loadAnimation(index);\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  };\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  GLTFParser.prototype.getDependencies = function (type) {\n    var dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      var parser = this;\n      var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  GLTFParser.prototype.loadBuffer = function (bufferIndex) {\n    var bufferDef = this.json.buffers[bufferIndex];\n    var loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    var options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  GLTFParser.prototype.loadBufferView = function (bufferViewIndex) {\n    var bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      var byteLength = bufferViewDef.byteLength || 0;\n      var byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  GLTFParser.prototype.loadAccessor = function (accessorIndex) {\n    var parser = this;\n    var json = this.json;\n    var accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    var pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      var bufferView = bufferViews[0];\n      var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      var elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      var itemBytes = elementBytes * itemSize;\n      var byteOffset = accessorDef.byteOffset || 0;\n      var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      var normalized = accessorDef.normalized === true;\n      var array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        var ibSlice = Math.floor(byteOffset / byteStride);\n        var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        var ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (var i = 0, il = sparseIndices.length; i < il; i++) {\n          var index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  GLTFParser.prototype.loadTexture = function (textureIndex) {\n    var parser = this;\n    var json = this.json;\n    var options = this.options;\n    var textureDef = json.textures[textureIndex];\n    var textureExtensions = textureDef.extensions || {};\n    var source;\n\n    if (textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]) {\n      source = json.images[textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS].source];\n    } else {\n      source = json.images[textureDef.source];\n    }\n\n    var loader;\n\n    if (source.uri) {\n      loader = options.manager.getHandler(source.uri);\n    }\n\n    if (!loader) {\n      loader = textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS] ? parser.extensions[EXTENSIONS.MSFT_TEXTURE_DDS].ddsLoader : this.textureLoader;\n    }\n\n    return this.loadTextureImage(textureIndex, source, loader);\n  };\n\n  GLTFParser.prototype.loadTextureImage = function (textureIndex, source, loader) {\n    var parser = this;\n    var json = this.json;\n    var options = this.options;\n    var textureDef = json.textures[textureIndex];\n    var URL = self.URL || self.webkitURL;\n    var sourceURI = source.uri;\n    var isObjectURL = false;\n    var hasAlpha = true;\n    if (source.mimeType === 'image/jpeg') hasAlpha = false;\n\n    if (source.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n        if (source.mimeType === 'image/png') {\n          // Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n          // alpha channel. This check is conservative  the image could have an alpha\n          // channel with all values == 1, and the indexed type (colorType == 3) only\n          // sometimes contains alpha.\n          //\n          // https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n          var colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\n          hasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n        }\n\n        isObjectURL = true;\n        var blob = new Blob([bufferView], {\n          type: source.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    }\n\n    return Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        var onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function onLoad(imageBitmap) {\n            resolve(new CanvasTexture(imageBitmap));\n          };\n        }\n\n        loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\n      if (!hasAlpha) texture.format = RGBFormat;\n      var samplers = json.samplers || {};\n      var sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, {\n        type: 'textures',\n        index: textureIndex\n      });\n      return texture;\n    });\n  };\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise}\n   */\n\n\n  GLTFParser.prototype.assignTexture = function (materialParams, mapName, mapDef) {\n    var parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          var gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      materialParams[mapName] = texture;\n    });\n  };\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accomodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  GLTFParser.prototype.assignFinalMaterial = function (mesh) {\n    var geometry = mesh.geometry;\n    var material = mesh.material;\n    var useVertexTangents = geometry.attributes.tangent !== undefined;\n    var useVertexColors = geometry.attributes.color !== undefined;\n    var useFlatShading = geometry.attributes.normal === undefined;\n    var useSkinning = mesh.isSkinnedMesh === true;\n    var useMorphTargets = Object.keys(geometry.morphAttributes).length > 0;\n    var useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n    if (mesh.isPoints) {\n      var cacheKey = 'PointsMaterial:' + material.uuid;\n      var pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      var cacheKey = 'LineBasicMaterial:' + material.uuid;\n      var lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets) {\n      var cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useSkinning) cacheKey += 'skinning:';\n      if (useVertexTangents) cacheKey += 'vertex-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      if (useMorphTargets) cacheKey += 'morph-targets:';\n      if (useMorphNormals) cacheKey += 'morph-normals:';\n      var cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useSkinning) cachedMaterial.skinning = true;\n        if (useVertexTangents) cachedMaterial.vertexTangents = true;\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n        if (useMorphTargets) cachedMaterial.morphTargets = true;\n        if (useMorphNormals) cachedMaterial.morphNormals = true;\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    } // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n\n    if (material.normalScale && !useVertexTangents) {\n      material.normalScale.y = -material.normalScale.y;\n    }\n\n    if (material.clearcoatNormalScale && !useVertexTangents) {\n      material.clearcoatNormalScale.y = -material.clearcoatNormalScale.y;\n    }\n\n    mesh.material = material;\n  };\n\n  GLTFParser.prototype.getMaterialType = function ()\n  /* materialIndex */\n  {\n    return MeshStandardMaterial;\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  GLTFParser.prototype.loadMaterial = function (materialIndex) {\n    var parser = this;\n    var json = this.json;\n    var extensions = this.extensions;\n    var materialDef = json.materials[materialIndex];\n    var materialType;\n    var materialParams = {};\n    var materialExtensions = materialDef.extensions || {};\n    var pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      var metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        var array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n\n    var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\n      materialParams.normalScale = new Vector2(1, 1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        materialParams.normalScale.set(materialDef.normalTexture.scale, materialDef.normalTexture.scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n    }\n\n    return Promise.all(pending).then(function () {\n      var material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n      if (material.map) material.map.encoding = sRGBEncoding;\n      if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        type: 'materials',\n        index: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  };\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  GLTFParser.prototype.createUniqueName = function (originalName) {\n    var name = PropertyBinding.sanitizeNodeName(originalName || '');\n\n    for (var i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = originalName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  };\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {GLTF.Primitive} primitiveDef\n   * @param {GLTFParser} parser\n   */\n\n\n  function computeBounds(geometry, primitiveDef, parser) {\n    var attributes = primitiveDef.attributes;\n    var box = new Box3();\n\n    if (attributes.POSITION !== undefined) {\n      var accessor = parser.json.accessors[attributes.POSITION];\n      var min = accessor.min;\n      var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n      if (min !== undefined && max !== undefined) {\n        box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n      } else {\n        console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        return;\n      }\n    } else {\n      return;\n    }\n\n    var targets = primitiveDef.targets;\n\n    if (targets !== undefined) {\n      var maxDisplacement = new Vector3();\n      var vector = new Vector3();\n\n      for (var i = 0, il = targets.length; i < il; i++) {\n        var target = targets[i];\n\n        if (target.POSITION !== undefined) {\n          var accessor = parser.json.accessors[target.POSITION];\n          var min = accessor.min;\n          var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n          if (min !== undefined && max !== undefined) {\n            // we need to get max of absolute components because target weight is [-1,1]\n            vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n            vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n            vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2]))); // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n            // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n            // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n            // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n            maxDisplacement.max(vector);\n          } else {\n            console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n          }\n        }\n      } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n      box.expandByVector(maxDisplacement);\n    }\n\n    geometry.boundingBox = box;\n    var sphere = new Sphere();\n    box.getCenter(sphere.center);\n    sphere.radius = box.min.distanceTo(box.max) / 2;\n    geometry.boundingSphere = sphere;\n  }\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {GLTF.Primitive} primitiveDef\n   * @param {GLTFParser} parser\n   * @return {Promise<BufferGeometry>}\n   */\n\n\n  function addPrimitiveAttributes(geometry, primitiveDef, parser) {\n    var attributes = primitiveDef.attributes;\n    var pending = [];\n\n    function assignAttributeAccessor(accessorIndex, attributeName) {\n      return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n        geometry.setAttribute(attributeName, accessor);\n      });\n    }\n\n    for (var gltfAttributeName in attributes) {\n      var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n      if (threeAttributeName in geometry.attributes) continue;\n      pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n    }\n\n    if (primitiveDef.indices !== undefined && !geometry.index) {\n      var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n        geometry.setIndex(accessor);\n      });\n      pending.push(accessor);\n    }\n\n    assignExtrasToUserData(geometry, primitiveDef);\n    computeBounds(geometry, primitiveDef, parser);\n    return Promise.all(pending).then(function () {\n      return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n    });\n  }\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {Number} drawMode\n   * @return {BufferGeometry}\n   */\n\n\n  function toTrianglesDrawMode(geometry, drawMode) {\n    var index = geometry.getIndex(); // generate index if not present\n\n    if (index === null) {\n      var indices = [];\n      var position = geometry.getAttribute('position');\n\n      if (position !== undefined) {\n        for (var i = 0; i < position.count; i++) {\n          indices.push(i);\n        }\n\n        geometry.setIndex(indices);\n        index = geometry.getIndex();\n      } else {\n        console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n        return geometry;\n      }\n    } //\n\n\n    var numberOfTriangles = index.count - 2;\n    var newIndices = [];\n\n    if (drawMode === TriangleFanDrawMode) {\n      // gl.TRIANGLE_FAN\n      for (var i = 1; i <= numberOfTriangles; i++) {\n        newIndices.push(index.getX(0));\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n      }\n    } else {\n      // gl.TRIANGLE_STRIP\n      for (var i = 0; i < numberOfTriangles; i++) {\n        if (i % 2 === 0) {\n          newIndices.push(index.getX(i));\n          newIndices.push(index.getX(i + 1));\n          newIndices.push(index.getX(i + 2));\n        } else {\n          newIndices.push(index.getX(i + 2));\n          newIndices.push(index.getX(i + 1));\n          newIndices.push(index.getX(i));\n        }\n      }\n    }\n\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n    } // build final geometry\n\n\n    var newGeometry = geometry.clone();\n    newGeometry.setIndex(newIndices);\n    return newGeometry;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  GLTFParser.prototype.loadGeometries = function (primitives) {\n    var parser = this;\n    var extensions = this.extensions;\n    var cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    var pending = [];\n\n    for (var i = 0, il = primitives.length; i < il; i++) {\n      var primitive = primitives[i];\n      var cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        var geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  GLTFParser.prototype.loadMesh = function (meshIndex) {\n    var parser = this;\n    var json = this.json;\n    var meshDef = json.meshes[meshIndex];\n    var primitives = meshDef.primitives;\n    var pending = [];\n\n    for (var i = 0, il = primitives.length; i < il; i++) {\n      var material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      var materials = results.slice(0, results.length - 1);\n      var geometries = results[results.length - 1];\n      var meshes = [];\n\n      for (var i = 0, il = geometries.length; i < il; i++) {\n        var geometry = geometries[i];\n        var primitive = primitives[i]; // 1. create Mesh\n\n        var mesh;\n        var material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material);\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        if (geometries.length > 1) mesh.name += '_' + i;\n        assignExtrasToUserData(mesh, meshDef);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      var group = new Group();\n\n      for (var i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  GLTFParser.prototype.loadCamera = function (cameraIndex) {\n    var camera;\n    var cameraDef = this.json.cameras[cameraIndex];\n    var params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  GLTFParser.prototype.loadSkin = function (skinIndex) {\n    var skinDef = this.json.skins[skinIndex];\n    var skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  GLTFParser.prototype.loadAnimation = function (animationIndex) {\n    var json = this.json;\n    var animationDef = json.animations[animationIndex];\n    var pendingNodes = [];\n    var pendingInputAccessors = [];\n    var pendingOutputAccessors = [];\n    var pendingSamplers = [];\n    var pendingTargets = [];\n\n    for (var i = 0, il = animationDef.channels.length; i < il; i++) {\n      var channel = animationDef.channels[i];\n      var sampler = animationDef.samplers[channel.sampler];\n      var target = channel.target;\n      var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n      var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      var nodes = dependencies[0];\n      var inputAccessors = dependencies[1];\n      var outputAccessors = dependencies[2];\n      var samplers = dependencies[3];\n      var targets = dependencies[4];\n      var tracks = [];\n\n      for (var i = 0, il = nodes.length; i < il; i++) {\n        var node = nodes[i];\n        var inputAccessor = inputAccessors[i];\n        var outputAccessor = outputAccessors[i];\n        var sampler = samplers[i];\n        var target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        node.matrixAutoUpdate = true;\n        var TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n\n        var targetName = node.name ? node.name : node.uuid;\n        var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        var targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n          node.traverse(function (object) {\n            if (object.isMesh === true && object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        var outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          var scale;\n\n          if (outputArray.constructor === Int8Array) {\n            scale = 1 / 127;\n          } else if (outputArray.constructor === Uint8Array) {\n            scale = 1 / 255;\n          } else if (outputArray.constructor == Int16Array) {\n            scale = 1 / 32767;\n          } else if (outputArray.constructor === Uint16Array) {\n            scale = 1 / 65535;\n          } else {\n            throw new Error('THREE.GLTFLoader: Unsupported output accessor component type.');\n          }\n\n          var scaled = new Float32Array(outputArray.length);\n\n          for (var j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (var j = 0, jl = targetNames.length; j < jl; j++) {\n          var track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new AnimationClip(name, undefined, tracks);\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  GLTFParser.prototype.loadNode = function (nodeIndex) {\n    var json = this.json;\n    var extensions = this.extensions;\n    var parser = this;\n    var nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    var nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      var pending = [];\n\n      if (nodeDef.mesh !== undefined) {\n        pending.push(parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n          var node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n          if (nodeDef.weights !== undefined) {\n            node.traverse(function (o) {\n              if (!o.isMesh) return;\n\n              for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\n                o.morphTargetInfluences[i] = nodeDef.weights[i];\n              }\n            });\n          }\n\n          return node;\n        }));\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      var node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (var i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        var matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      parser.associations.set(node, {\n        type: 'nodes',\n        index: nodeIndex\n      });\n      return node;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  GLTFParser.prototype.loadScene = function () {\n    // scene node hierachy builder\n    function buildNodeHierachy(nodeId, parentObject, json, parser) {\n      var nodeDef = json.nodes[nodeId];\n      return parser.getDependency('node', nodeId).then(function (node) {\n        if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n        var skinEntry;\n        return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n          skinEntry = skin;\n          var pendingJoints = [];\n\n          for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\n            pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n          }\n\n          return Promise.all(pendingJoints);\n        }).then(function (jointNodes) {\n          node.traverse(function (mesh) {\n            if (!mesh.isMesh) return;\n            var bones = [];\n            var boneInverses = [];\n\n            for (var j = 0, jl = jointNodes.length; j < jl; j++) {\n              var jointNode = jointNodes[j];\n\n              if (jointNode) {\n                bones.push(jointNode);\n                var mat = new Matrix4();\n\n                if (skinEntry.inverseBindMatrices !== undefined) {\n                  mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n                }\n\n                boneInverses.push(mat);\n              } else {\n                console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n              }\n            }\n\n            mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n          });\n          return node;\n        });\n      }).then(function (node) {\n        // build node hierachy\n        parentObject.add(node);\n        var pending = [];\n\n        if (nodeDef.children) {\n          var children = nodeDef.children;\n\n          for (var i = 0, il = children.length; i < il; i++) {\n            var child = children[i];\n            pending.push(buildNodeHierachy(child, node, json, parser));\n          }\n        }\n\n        return Promise.all(pending);\n      });\n    }\n\n    return function loadScene(sceneIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var sceneDef = this.json.scenes[sceneIndex];\n      var parser = this; // Loader returns Group, not Scene.\n      // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n      var scene = new Group();\n      if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n      assignExtrasToUserData(scene, sceneDef);\n      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n      var nodeIds = sceneDef.nodes || [];\n      var pending = [];\n\n      for (var i = 0, il = nodeIds.length; i < il; i++) {\n        pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n      }\n\n      return Promise.all(pending).then(function () {\n        return scene;\n      });\n    };\n  }();\n\n  return GLTFLoader;\n}();\n\nexport { GLTFLoader };","import { LineSegmentsGeometry } from \"../lines/LineSegmentsGeometry.js\";\n\nvar LineGeometry = function LineGeometry() {\n  LineSegmentsGeometry.call(this);\n  this.type = 'LineGeometry';\n};\n\nLineGeometry.prototype = Object.assign(Object.create(LineSegmentsGeometry.prototype), {\n  constructor: LineGeometry,\n  isLineGeometry: true,\n  setPositions: function setPositions(array) {\n    // converts [ x1, y1, z1,  x2, y2, z2, ... ] to pairs format\n    var length = array.length - 3;\n    var points = new Float32Array(2 * length);\n\n    for (var i = 0; i < length; i += 3) {\n      points[2 * i] = array[i];\n      points[2 * i + 1] = array[i + 1];\n      points[2 * i + 2] = array[i + 2];\n      points[2 * i + 3] = array[i + 3];\n      points[2 * i + 4] = array[i + 4];\n      points[2 * i + 5] = array[i + 5];\n    }\n\n    LineSegmentsGeometry.prototype.setPositions.call(this, points);\n    return this;\n  },\n  setColors: function setColors(array) {\n    // converts [ r1, g1, b1,  r2, g2, b2, ... ] to pairs format\n    var length = array.length - 3;\n    var colors = new Float32Array(2 * length);\n\n    for (var i = 0; i < length; i += 3) {\n      colors[2 * i] = array[i];\n      colors[2 * i + 1] = array[i + 1];\n      colors[2 * i + 2] = array[i + 2];\n      colors[2 * i + 3] = array[i + 3];\n      colors[2 * i + 4] = array[i + 4];\n      colors[2 * i + 5] = array[i + 5];\n    }\n\n    LineSegmentsGeometry.prototype.setColors.call(this, colors);\n    return this;\n  },\n  fromLine: function fromLine(line) {\n    var geometry = line.geometry;\n\n    if (geometry.isGeometry) {\n      this.setPositions(geometry.vertices);\n    } else if (geometry.isBufferGeometry) {\n      this.setPositions(geometry.attributes.position.array); // assumes non-indexed\n    } // set colors, maybe\n\n\n    return this;\n  },\n  copy: function copy()\n  /* source */\n  {\n    // todo\n    return this;\n  }\n});\nexport { LineGeometry };","import { ShaderLib, ShaderMaterial, UniformsLib, UniformsUtils, Vector2 } from \"../../../build/three.module.js\";\n/**\n * parameters = {\n *  color: <hex>,\n *  linewidth: <float>,\n *  dashed: <boolean>,\n *  dashScale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>,\n *  resolution: <Vector2>, // to be set by renderer\n * }\n */\n\nUniformsLib.line = {\n  linewidth: {\n    value: 1\n  },\n  resolution: {\n    value: new Vector2(1, 1)\n  },\n  dashScale: {\n    value: 1\n  },\n  dashSize: {\n    value: 1\n  },\n  gapSize: {\n    value: 1\n  },\n  // todo FIX - maybe change to totalSize\n  opacity: {\n    value: 1\n  }\n};\nShaderLib['line'] = {\n  uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.fog, UniformsLib.line]),\n  vertexShader: \"\\n\\t\\t#include <common>\\n\\t\\t#include <color_pars_vertex>\\n\\t\\t#include <fog_pars_vertex>\\n\\t\\t#include <logdepthbuf_pars_vertex>\\n\\t\\t#include <clipping_planes_pars_vertex>\\n\\n\\t\\tuniform float linewidth;\\n\\t\\tuniform vec2 resolution;\\n\\n\\t\\tattribute vec3 instanceStart;\\n\\t\\tattribute vec3 instanceEnd;\\n\\n\\t\\tattribute vec3 instanceColorStart;\\n\\t\\tattribute vec3 instanceColorEnd;\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\tuniform float dashScale;\\n\\t\\t\\tattribute float instanceDistanceStart;\\n\\t\\t\\tattribute float instanceDistanceEnd;\\n\\t\\t\\tvarying float vLineDistance;\\n\\n\\t\\t#endif\\n\\n\\t\\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\\n\\n\\t\\t\\t// trim end segment so it terminates between the camera plane and the near plane\\n\\n\\t\\t\\t// conservative estimate of the near plane\\n\\t\\t\\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\\n\\t\\t\\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\\n\\t\\t\\tfloat nearEstimate = - 0.5 * b / a;\\n\\n\\t\\t\\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\\n\\n\\t\\t\\tend.xyz = mix( start.xyz, end.xyz, alpha );\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\t#ifdef USE_COLOR\\n\\n\\t\\t\\t\\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\t\\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tfloat aspect = resolution.x / resolution.y;\\n\\n\\t\\t\\tvUv = uv;\\n\\n\\t\\t\\t// camera space\\n\\t\\t\\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\\n\\t\\t\\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\\n\\n\\t\\t\\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\\n\\t\\t\\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\\n\\t\\t\\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\\n\\t\\t\\t// perhaps there is a more elegant solution -- WestLangley\\n\\n\\t\\t\\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\\n\\n\\t\\t\\tif ( perspective ) {\\n\\n\\t\\t\\t\\tif ( start.z < 0.0 && end.z >= 0.0 ) {\\n\\n\\t\\t\\t\\t\\ttrimSegment( start, end );\\n\\n\\t\\t\\t\\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\\n\\n\\t\\t\\t\\t\\ttrimSegment( end, start );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// clip space\\n\\t\\t\\tvec4 clipStart = projectionMatrix * start;\\n\\t\\t\\tvec4 clipEnd = projectionMatrix * end;\\n\\n\\t\\t\\t// ndc space\\n\\t\\t\\tvec2 ndcStart = clipStart.xy / clipStart.w;\\n\\t\\t\\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\\n\\n\\t\\t\\t// direction\\n\\t\\t\\tvec2 dir = ndcEnd - ndcStart;\\n\\n\\t\\t\\t// account for clip-space aspect ratio\\n\\t\\t\\tdir.x *= aspect;\\n\\t\\t\\tdir = normalize( dir );\\n\\n\\t\\t\\t// perpendicular to dir\\n\\t\\t\\tvec2 offset = vec2( dir.y, - dir.x );\\n\\n\\t\\t\\t// undo aspect ratio adjustment\\n\\t\\t\\tdir.x /= aspect;\\n\\t\\t\\toffset.x /= aspect;\\n\\n\\t\\t\\t// sign flip\\n\\t\\t\\tif ( position.x < 0.0 ) offset *= - 1.0;\\n\\n\\t\\t\\t// endcaps\\n\\t\\t\\tif ( position.y < 0.0 ) {\\n\\n\\t\\t\\t\\toffset += - dir;\\n\\n\\t\\t\\t} else if ( position.y > 1.0 ) {\\n\\n\\t\\t\\t\\toffset += dir;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// adjust for linewidth\\n\\t\\t\\toffset *= linewidth;\\n\\n\\t\\t\\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\\n\\t\\t\\toffset /= resolution.y;\\n\\n\\t\\t\\t// select end\\n\\t\\t\\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\\n\\n\\t\\t\\t// back to clip space\\n\\t\\t\\toffset *= clip.w;\\n\\n\\t\\t\\tclip.xy += offset;\\n\\n\\t\\t\\tgl_Position = clip;\\n\\n\\t\\t\\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\\n\\n\\t\\t\\t#include <logdepthbuf_vertex>\\n\\t\\t\\t#include <clipping_planes_vertex>\\n\\t\\t\\t#include <fog_vertex>\\n\\n\\t\\t}\\n\\t\\t\",\n  fragmentShader: \"\\n\\t\\tuniform vec3 diffuse;\\n\\t\\tuniform float opacity;\\n\\n\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\tuniform float dashSize;\\n\\t\\t\\tuniform float gapSize;\\n\\n\\t\\t#endif\\n\\n\\t\\tvarying float vLineDistance;\\n\\n\\t\\t#include <common>\\n\\t\\t#include <color_pars_fragment>\\n\\t\\t#include <fog_pars_fragment>\\n\\t\\t#include <logdepthbuf_pars_fragment>\\n\\t\\t#include <clipping_planes_pars_fragment>\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\t#include <clipping_planes_fragment>\\n\\n\\t\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\t\\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\\n\\n\\t\\t\\t\\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tif ( abs( vUv.y ) > 1.0 ) {\\n\\n\\t\\t\\t\\tfloat a = vUv.x;\\n\\t\\t\\t\\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\\n\\t\\t\\t\\tfloat len2 = a * a + b * b;\\n\\n\\t\\t\\t\\tif ( len2 > 1.0 ) discard;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t\\t\\t#include <logdepthbuf_fragment>\\n\\t\\t\\t#include <color_fragment>\\n\\n\\t\\t\\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\\n\\n\\t\\t\\t#include <tonemapping_fragment>\\n\\t\\t\\t#include <encodings_fragment>\\n\\t\\t\\t#include <fog_fragment>\\n\\t\\t\\t#include <premultiplied_alpha_fragment>\\n\\n\\t\\t}\\n\\t\\t\"\n};\n\nvar LineMaterial = function LineMaterial(parameters) {\n  ShaderMaterial.call(this, {\n    type: 'LineMaterial',\n    uniforms: UniformsUtils.clone(ShaderLib['line'].uniforms),\n    vertexShader: ShaderLib['line'].vertexShader,\n    fragmentShader: ShaderLib['line'].fragmentShader,\n    clipping: true // required for clipping support\n\n  });\n  this.dashed = false;\n  Object.defineProperties(this, {\n    color: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.diffuse.value;\n      },\n      set: function set(value) {\n        this.uniforms.diffuse.value = value;\n      }\n    },\n    linewidth: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.linewidth.value;\n      },\n      set: function set(value) {\n        this.uniforms.linewidth.value = value;\n      }\n    },\n    dashScale: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.dashScale.value;\n      },\n      set: function set(value) {\n        this.uniforms.dashScale.value = value;\n      }\n    },\n    dashSize: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.dashSize.value;\n      },\n      set: function set(value) {\n        this.uniforms.dashSize.value = value;\n      }\n    },\n    gapSize: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.gapSize.value;\n      },\n      set: function set(value) {\n        this.uniforms.gapSize.value = value;\n      }\n    },\n    opacity: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.opacity.value;\n      },\n      set: function set(value) {\n        this.uniforms.opacity.value = value;\n      }\n    },\n    resolution: {\n      enumerable: true,\n      get: function get() {\n        return this.uniforms.resolution.value;\n      },\n      set: function set(value) {\n        this.uniforms.resolution.value.copy(value);\n      }\n    }\n  });\n  this.setValues(parameters);\n};\n\nLineMaterial.prototype = Object.create(ShaderMaterial.prototype);\nLineMaterial.prototype.constructor = LineMaterial;\nLineMaterial.prototype.isLineMaterial = true;\nexport { LineMaterial };","import { InstancedInterleavedBuffer, InterleavedBufferAttribute, Line3, MathUtils, Matrix4, Mesh, Vector3, Vector4 } from \"../../../build/three.module.js\";\nimport { LineSegmentsGeometry } from \"../lines/LineSegmentsGeometry.js\";\nimport { LineMaterial } from \"../lines/LineMaterial.js\";\n\nvar LineSegments2 = function LineSegments2(geometry, material) {\n  if (geometry === undefined) geometry = new LineSegmentsGeometry();\n  if (material === undefined) material = new LineMaterial({\n    color: Math.random() * 0xffffff\n  });\n  Mesh.call(this, geometry, material);\n  this.type = 'LineSegments2';\n};\n\nLineSegments2.prototype = Object.assign(Object.create(Mesh.prototype), {\n  constructor: LineSegments2,\n  isLineSegments2: true,\n  computeLineDistances: function () {\n    // for backwards-compatability, but could be a method of LineSegmentsGeometry...\n    var start = new Vector3();\n    var end = new Vector3();\n    return function computeLineDistances() {\n      var geometry = this.geometry;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd;\n      var lineDistances = new Float32Array(2 * instanceStart.data.count);\n\n      for (var i = 0, j = 0, l = instanceStart.data.count; i < l; i++, j += 2) {\n        start.fromBufferAttribute(instanceStart, i);\n        end.fromBufferAttribute(instanceEnd, i);\n        lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n        lineDistances[j + 1] = lineDistances[j] + start.distanceTo(end);\n      }\n\n      var instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\n\n      geometry.setAttribute('instanceDistanceStart', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\n\n      geometry.setAttribute('instanceDistanceEnd', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\n\n      return this;\n    };\n  }(),\n  raycast: function () {\n    var start = new Vector4();\n    var end = new Vector4();\n    var ssOrigin = new Vector4();\n    var ssOrigin3 = new Vector3();\n    var mvMatrix = new Matrix4();\n    var line = new Line3();\n    var closestPoint = new Vector3();\n    return function raycast(raycaster, intersects) {\n      if (raycaster.camera === null) {\n        console.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');\n      }\n\n      var threshold = raycaster.params.Line2 !== undefined ? raycaster.params.Line2.threshold || 0 : 0;\n      var ray = raycaster.ray;\n      var camera = raycaster.camera;\n      var projectionMatrix = camera.projectionMatrix;\n      var geometry = this.geometry;\n      var material = this.material;\n      var resolution = material.resolution;\n      var lineWidth = material.linewidth + threshold;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd; // pick a point 1 unit out along the ray to avoid the ray origin\n      // sitting at the camera origin which will cause \"w\" to be 0 when\n      // applying the projection matrix.\n\n      ray.at(1, ssOrigin); // ndc space [ - 1.0, 1.0 ]\n\n      ssOrigin.w = 1;\n      ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n      ssOrigin.applyMatrix4(projectionMatrix);\n      ssOrigin.multiplyScalar(1 / ssOrigin.w); // screen space\n\n      ssOrigin.x *= resolution.x / 2;\n      ssOrigin.y *= resolution.y / 2;\n      ssOrigin.z = 0;\n      ssOrigin3.copy(ssOrigin);\n      var matrixWorld = this.matrixWorld;\n      mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n\n      for (var i = 0, l = instanceStart.count; i < l; i++) {\n        start.fromBufferAttribute(instanceStart, i);\n        end.fromBufferAttribute(instanceEnd, i);\n        start.w = 1;\n        end.w = 1; // camera space\n\n        start.applyMatrix4(mvMatrix);\n        end.applyMatrix4(mvMatrix); // clip space\n\n        start.applyMatrix4(projectionMatrix);\n        end.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\n\n        start.multiplyScalar(1 / start.w);\n        end.multiplyScalar(1 / end.w); // skip the segment if it's outside the camera near and far planes\n\n        var isBehindCameraNear = start.z < -1 && end.z < -1;\n        var isPastCameraFar = start.z > 1 && end.z > 1;\n\n        if (isBehindCameraNear || isPastCameraFar) {\n          continue;\n        } // screen space\n\n\n        start.x *= resolution.x / 2;\n        start.y *= resolution.y / 2;\n        end.x *= resolution.x / 2;\n        end.y *= resolution.y / 2; // create 2d segment\n\n        line.start.copy(start);\n        line.start.z = 0;\n        line.end.copy(end);\n        line.end.z = 0; // get closest point on ray to segment\n\n        var param = line.closestPointToPointParameter(ssOrigin3, true);\n        line.at(param, closestPoint); // check if the intersection point is within clip space\n\n        var zPos = MathUtils.lerp(start.z, end.z, param);\n        var isInClipSpace = zPos >= -1 && zPos <= 1;\n        var isInside = ssOrigin3.distanceTo(closestPoint) < lineWidth * 0.5;\n\n        if (isInClipSpace && isInside) {\n          line.start.fromBufferAttribute(instanceStart, i);\n          line.end.fromBufferAttribute(instanceEnd, i);\n          line.start.applyMatrix4(matrixWorld);\n          line.end.applyMatrix4(matrixWorld);\n          var pointOnLine = new Vector3();\n          var point = new Vector3();\n          ray.distanceSqToSegment(line.start, line.end, point, pointOnLine);\n          intersects.push({\n            point: point,\n            pointOnLine: pointOnLine,\n            distance: ray.origin.distanceTo(point),\n            object: this,\n            face: null,\n            faceIndex: i,\n            uv: null,\n            uv2: null\n          });\n        }\n      }\n    };\n  }()\n});\nexport { LineSegments2 };","import { LineSegments2 } from \"../lines/LineSegments2.js\";\nimport { LineGeometry } from \"../lines/LineGeometry.js\";\nimport { LineMaterial } from \"../lines/LineMaterial.js\";\n\nvar Line2 = function Line2(geometry, material) {\n  if (geometry === undefined) geometry = new LineGeometry();\n  if (material === undefined) material = new LineMaterial({\n    color: Math.random() * 0xffffff\n  });\n  LineSegments2.call(this, geometry, material);\n  this.type = 'Line2';\n};\n\nLine2.prototype = Object.assign(Object.create(LineSegments2.prototype), {\n  constructor: Line2,\n  isLine2: true\n});\nexport { Line2 };","import { Euler, EventDispatcher, MathUtils, Quaternion, Vector3 } from \"../../../build/three.module.js\";\n/**\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nvar DeviceOrientationControls = function DeviceOrientationControls(object) {\n  var scope = this;\n  var changeEvent = {\n    type: \"change\"\n  };\n  var EPS = 0.000001;\n  this.object = object;\n  this.object.rotation.reorder('YXZ');\n  this.enabled = true;\n  this.deviceOrientation = {};\n  this.screenOrientation = 0;\n  this.alphaOffset = 0; // radians\n\n  var onDeviceOrientationChangeEvent = function onDeviceOrientationChangeEvent(event) {\n    scope.deviceOrientation = event;\n  };\n\n  var onScreenOrientationChangeEvent = function onScreenOrientationChangeEvent() {\n    scope.screenOrientation = window.orientation || 0;\n  }; // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n\n  var setObjectQuaternion = function () {\n    var zee = new Vector3(0, 0, 1);\n    var euler = new Euler();\n    var q0 = new Quaternion();\n    var q1 = new Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)); // - PI/2 around the x-axis\n\n    return function (quaternion, alpha, beta, gamma, orient) {\n      euler.set(beta, alpha, -gamma, 'YXZ'); // 'ZXY' for the device, but 'YXZ' for us\n\n      quaternion.setFromEuler(euler); // orient the device\n\n      quaternion.multiply(q1); // camera looks out the back of the device, not the top\n\n      quaternion.multiply(q0.setFromAxisAngle(zee, -orient)); // adjust for screen orientation\n    };\n  }();\n\n  this.connect = function () {\n    onScreenOrientationChangeEvent(); // run once on load\n    // iOS 13+\n\n    if (window.DeviceOrientationEvent !== undefined && typeof window.DeviceOrientationEvent.requestPermission === 'function') {\n      window.DeviceOrientationEvent.requestPermission().then(function (response) {\n        if (response == 'granted') {\n          window.addEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n          window.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n        }\n      }).catch(function (error) {\n        console.error('THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:', error);\n      });\n    } else {\n      window.addEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n      window.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n    }\n\n    scope.enabled = true;\n  };\n\n  this.disconnect = function () {\n    window.removeEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n    window.removeEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n    scope.enabled = false;\n  };\n\n  this.update = function () {\n    var lastQuaternion = new Quaternion();\n    return function () {\n      if (scope.enabled === false) return;\n      var device = scope.deviceOrientation;\n\n      if (device) {\n        var alpha = device.alpha ? MathUtils.degToRad(device.alpha) + scope.alphaOffset : 0; // Z\n\n        var beta = device.beta ? MathUtils.degToRad(device.beta) : 0; // X'\n\n        var gamma = device.gamma ? MathUtils.degToRad(device.gamma) : 0; // Y''\n\n        var orient = scope.screenOrientation ? MathUtils.degToRad(scope.screenOrientation) : 0; // O\n\n        setObjectQuaternion(scope.object.quaternion, alpha, beta, gamma, orient);\n\n        if (8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          lastQuaternion.copy(scope.object.quaternion);\n          scope.dispatchEvent(changeEvent);\n        }\n      }\n    };\n  }();\n\n  this.dispose = function () {\n    scope.disconnect();\n  };\n\n  this.connect();\n};\n\nDeviceOrientationControls.prototype = Object.create(EventDispatcher.prototype);\nDeviceOrientationControls.prototype.constructor = DeviceOrientationControls;\nexport { DeviceOrientationControls };","import { EventDispatcher, Quaternion, Vector3 } from \"../../../build/three.module.js\";\n\nvar FlyControls = function FlyControls(object, domElement) {\n  if (domElement === undefined) {\n    console.warn('THREE.FlyControls: The second parameter \"domElement\" is now mandatory.');\n    domElement = document;\n  }\n\n  this.object = object;\n  this.domElement = domElement;\n  if (domElement) this.domElement.setAttribute('tabindex', -1); // API\n\n  this.movementSpeed = 1.0;\n  this.rollSpeed = 0.005;\n  this.dragToLook = false;\n  this.autoForward = false; // disable default target object behavior\n  // internals\n\n  var scope = this;\n  var changeEvent = {\n    type: \"change\"\n  };\n  var EPS = 0.000001;\n  this.tmpQuaternion = new Quaternion();\n  this.mouseStatus = 0;\n  this.moveState = {\n    up: 0,\n    down: 0,\n    left: 0,\n    right: 0,\n    forward: 0,\n    back: 0,\n    pitchUp: 0,\n    pitchDown: 0,\n    yawLeft: 0,\n    yawRight: 0,\n    rollLeft: 0,\n    rollRight: 0\n  };\n  this.moveVector = new Vector3(0, 0, 0);\n  this.rotationVector = new Vector3(0, 0, 0);\n\n  this.keydown = function (event) {\n    if (event.altKey) {\n      return;\n    } //event.preventDefault();\n\n\n    switch (event.keyCode) {\n      case 16:\n        /* shift */\n        this.movementSpeedMultiplier = .1;\n        break;\n\n      case 87:\n        /*W*/\n        this.moveState.forward = 1;\n        break;\n\n      case 83:\n        /*S*/\n        this.moveState.back = 1;\n        break;\n\n      case 65:\n        /*A*/\n        this.moveState.left = 1;\n        break;\n\n      case 68:\n        /*D*/\n        this.moveState.right = 1;\n        break;\n\n      case 82:\n        /*R*/\n        this.moveState.up = 1;\n        break;\n\n      case 70:\n        /*F*/\n        this.moveState.down = 1;\n        break;\n\n      case 38:\n        /*up*/\n        this.moveState.pitchUp = 1;\n        break;\n\n      case 40:\n        /*down*/\n        this.moveState.pitchDown = 1;\n        break;\n\n      case 37:\n        /*left*/\n        this.moveState.yawLeft = 1;\n        break;\n\n      case 39:\n        /*right*/\n        this.moveState.yawRight = 1;\n        break;\n\n      case 81:\n        /*Q*/\n        this.moveState.rollLeft = 1;\n        break;\n\n      case 69:\n        /*E*/\n        this.moveState.rollRight = 1;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.keyup = function (event) {\n    switch (event.keyCode) {\n      case 16:\n        /* shift */\n        this.movementSpeedMultiplier = 1;\n        break;\n\n      case 87:\n        /*W*/\n        this.moveState.forward = 0;\n        break;\n\n      case 83:\n        /*S*/\n        this.moveState.back = 0;\n        break;\n\n      case 65:\n        /*A*/\n        this.moveState.left = 0;\n        break;\n\n      case 68:\n        /*D*/\n        this.moveState.right = 0;\n        break;\n\n      case 82:\n        /*R*/\n        this.moveState.up = 0;\n        break;\n\n      case 70:\n        /*F*/\n        this.moveState.down = 0;\n        break;\n\n      case 38:\n        /*up*/\n        this.moveState.pitchUp = 0;\n        break;\n\n      case 40:\n        /*down*/\n        this.moveState.pitchDown = 0;\n        break;\n\n      case 37:\n        /*left*/\n        this.moveState.yawLeft = 0;\n        break;\n\n      case 39:\n        /*right*/\n        this.moveState.yawRight = 0;\n        break;\n\n      case 81:\n        /*Q*/\n        this.moveState.rollLeft = 0;\n        break;\n\n      case 69:\n        /*E*/\n        this.moveState.rollRight = 0;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.mousedown = function (event) {\n    if (this.domElement !== document) {\n      this.domElement.focus();\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus++;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 1;\n          break;\n\n        case 2:\n          this.moveState.back = 1;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n  };\n\n  this.mousemove = function (event) {\n    if (!this.dragToLook || this.mouseStatus > 0) {\n      var container = this.getContainerDimensions();\n      var halfWidth = container.size[0] / 2;\n      var halfHeight = container.size[1] / 2;\n      this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth;\n      this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight;\n      this.updateRotationVector();\n    }\n  };\n\n  this.mouseup = function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus--;\n      this.moveState.yawLeft = this.moveState.pitchDown = 0;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 0;\n          break;\n\n        case 2:\n          this.moveState.back = 0;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n\n    this.updateRotationVector();\n  };\n\n  this.update = function () {\n    var lastQuaternion = new Quaternion();\n    var lastPosition = new Vector3();\n    return function (delta) {\n      var moveMult = delta * scope.movementSpeed;\n      var rotMult = delta * scope.rollSpeed;\n      scope.object.translateX(scope.moveVector.x * moveMult);\n      scope.object.translateY(scope.moveVector.y * moveMult);\n      scope.object.translateZ(scope.moveVector.z * moveMult);\n      scope.tmpQuaternion.set(scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1).normalize();\n      scope.object.quaternion.multiply(scope.tmpQuaternion);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastQuaternion.copy(scope.object.quaternion);\n        lastPosition.copy(scope.object.position);\n      }\n    };\n  }();\n\n  this.updateMovementVector = function () {\n    var forward = this.moveState.forward || this.autoForward && !this.moveState.back ? 1 : 0;\n    this.moveVector.x = -this.moveState.left + this.moveState.right;\n    this.moveVector.y = -this.moveState.down + this.moveState.up;\n    this.moveVector.z = -forward + this.moveState.back; //console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n  };\n\n  this.updateRotationVector = function () {\n    this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp;\n    this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft;\n    this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft; //console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n  };\n\n  this.getContainerDimensions = function () {\n    if (this.domElement != document) {\n      return {\n        size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n        offset: [this.domElement.offsetLeft, this.domElement.offsetTop]\n      };\n    } else {\n      return {\n        size: [window.innerWidth, window.innerHeight],\n        offset: [0, 0]\n      };\n    }\n  };\n\n  function bind(scope, fn) {\n    return function () {\n      fn.apply(scope, arguments);\n    };\n  }\n\n  function contextmenu(event) {\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false);\n    this.domElement.removeEventListener('mousedown', _mousedown, false);\n    this.domElement.removeEventListener('mousemove', _mousemove, false);\n    this.domElement.removeEventListener('mouseup', _mouseup, false);\n    window.removeEventListener('keydown', _keydown, false);\n    window.removeEventListener('keyup', _keyup, false);\n  };\n\n  var _mousemove = bind(this, this.mousemove);\n\n  var _mousedown = bind(this, this.mousedown);\n\n  var _mouseup = bind(this, this.mouseup);\n\n  var _keydown = bind(this, this.keydown);\n\n  var _keyup = bind(this, this.keyup);\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('mousemove', _mousemove, false);\n  this.domElement.addEventListener('mousedown', _mousedown, false);\n  this.domElement.addEventListener('mouseup', _mouseup, false);\n  window.addEventListener('keydown', _keydown, false);\n  window.addEventListener('keyup', _keyup, false);\n  this.updateMovementVector();\n  this.updateRotationVector();\n};\n\nFlyControls.prototype = Object.create(EventDispatcher.prototype);\nFlyControls.prototype.constructor = FlyControls;\nexport { FlyControls };","import { EventDispatcher, MOUSE, Quaternion, Spherical, TOUCH, Vector2, Vector3 } from \"../../../build/three.module.js\"; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function OrbitControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  this.object = object;\n  this.domElement = domElement; // Set to false to disable this control\n\n  this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n  this.target = new Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n  this.minDistance = 0;\n  this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n  this.minZoom = 0;\n  this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n\n  this.minPolarAngle = 0; // radians\n\n  this.maxPolarAngle = Math.PI; // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\n  this.minAzimuthAngle = -Infinity; // radians\n\n  this.maxAzimuthAngle = Infinity; // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  this.enableDamping = false;\n  this.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0; // Set to false to disable panning\n\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n  // Set to false to disable use of the keys\n\n  this.enableKeys = true; // The four arrow keys\n\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  }; // Mouse buttons\n\n  this.mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.DOLLY,\n    RIGHT: MOUSE.PAN\n  }; // Touch fingers\n\n  this.touches = {\n    ONE: TOUCH.ROTATE,\n    TWO: TOUCH.DOLLY_PAN\n  }; // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom; //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n    scope.update();\n    state = STATE.NONE;\n  }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n  this.update = function () {\n    var offset = new Vector3(); // so camera.up is the orbit axis\n\n    var quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n    var lastPosition = new Vector3();\n    var lastQuaternion = new Quaternion();\n    var twoPI = 2 * Math.PI;\n    return function update() {\n      var position = scope.object.position;\n      offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n      offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      if (scope.enableDamping) {\n        spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n        spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n      } else {\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n      } // restrict theta to be between desired limits\n\n\n      var min = scope.minAzimuthAngle;\n      var max = scope.maxAzimuthAngle;\n\n      if (isFinite(min) && isFinite(max)) {\n        if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n        if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n        if (min < max) {\n          spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n        } else {\n          spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n        }\n      } // restrict phi to be between desired limits\n\n\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n      spherical.makeSafe();\n      spherical.radius *= scale; // restrict radius to be between desired limits\n\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n      if (scope.enableDamping === true) {\n        scope.target.addScaledVector(panOffset, scope.dampingFactor);\n      } else {\n        scope.target.add(panOffset);\n      }\n\n      offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n      offset.applyQuaternion(quatInverse);\n      position.copy(scope.target).add(offset);\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.removeEventListener('pointerdown', onPointerDown, false);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n    scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp, false);\n    scope.domElement.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  }; //\n  // internals\n  //\n\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_PAN: 4,\n    TOUCH_DOLLY_PAN: 5,\n    TOUCH_DOLLY_ROTATE: 6\n  };\n  var state = STATE.NONE;\n  var EPS = 0.000001; // current position in spherical coordinates\n\n  var spherical = new Spherical();\n  var sphericalDelta = new Spherical();\n  var scale = 1;\n  var panOffset = new Vector3();\n  var zoomChanged = false;\n  var rotateStart = new Vector2();\n  var rotateEnd = new Vector2();\n  var rotateDelta = new Vector2();\n  var panStart = new Vector2();\n  var panEnd = new Vector2();\n  var panDelta = new Vector2();\n  var dollyStart = new Vector2();\n  var dollyEnd = new Vector2();\n  var dollyDelta = new Vector2();\n\n  function getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n    var v = new Vector3();\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      v.multiplyScalar(-distance);\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n    var v = new Vector3();\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n      panOffset.add(v);\n    };\n  }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n  var pan = function () {\n    var offset = new Vector3();\n    return function pan(deltaX, deltaY) {\n      var element = scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n        panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = false;\n      }\n    };\n  }();\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  } //\n  // event callbacks - update the object state\n  //\n\n\n  function handleMouseDownRotate(event) {\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    dollyEnd.set(event.clientX, event.clientY);\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyOut(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyIn(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    panEnd.set(event.clientX, event.clientY);\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n    scope.update();\n  }\n\n  function handleMouseUp()\n  /*event*/\n  {// no-op\n  }\n\n  function handleMouseWheel(event) {\n    if (event.deltaY < 0) {\n      dollyIn(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyOut(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    var needsUpdate = false;\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n    }\n\n    if (needsUpdate) {\n      // prevent the browser from scrolling on cursor keys\n      event.preventDefault();\n      scope.update();\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    if (event.touches.length == 1) {\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartPan(event) {\n    if (event.touches.length == 1) {\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enablePan) handleTouchStartPan(event);\n  }\n\n  function handleTouchStartDollyRotate(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n    if (scope.enableRotate) handleTouchStartRotate(event);\n  }\n\n  function handleTouchMoveRotate(event) {\n    if (event.touches.length == 1) {\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      rotateEnd.set(x, y);\n    }\n\n    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n    var element = scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n    rotateStart.copy(rotateEnd);\n  }\n\n  function handleTouchMovePan(event) {\n    if (event.touches.length == 1) {\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n      panEnd.set(x, y);\n    }\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n  }\n\n  function handleTouchMoveDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyEnd.set(0, distance);\n    dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n    dollyOut(dollyDelta.y);\n    dollyStart.copy(dollyEnd);\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enablePan) handleTouchMovePan(event);\n  }\n\n  function handleTouchMoveDollyRotate(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n    if (scope.enableRotate) handleTouchMoveRotate(event);\n  }\n\n  function handleTouchEnd()\n  /*event*/\n  {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n\n  function onPointerDown(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseDown(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerMove(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseMove(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerUp(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseUp(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onMouseDown(event) {\n    // Prevent the browser from scrolling.\n    event.preventDefault(); // Manually set the focus since calling preventDefault above\n    // prevents the browser from setting it automatically.\n\n    scope.domElement.focus ? scope.domElement.focus() : window.focus();\n    var mouseAction;\n\n    switch (event.button) {\n      case 0:\n        mouseAction = scope.mouseButtons.LEFT;\n        break;\n\n      case 1:\n        mouseAction = scope.mouseButtons.MIDDLE;\n        break;\n\n      case 2:\n        mouseAction = scope.mouseButtons.RIGHT;\n        break;\n\n      default:\n        mouseAction = -1;\n    }\n\n    switch (mouseAction) {\n      case MOUSE.DOLLY:\n        if (scope.enableZoom === false) return;\n        handleMouseDownDolly(event);\n        state = STATE.DOLLY;\n        break;\n\n      case MOUSE.ROTATE:\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n          if (scope.enablePan === false) return;\n          handleMouseDownPan(event);\n          state = STATE.PAN;\n        } else {\n          if (scope.enableRotate === false) return;\n          handleMouseDownRotate(event);\n          state = STATE.ROTATE;\n        }\n\n        break;\n\n      case MOUSE.PAN:\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n          if (scope.enableRotate === false) return;\n          handleMouseDownRotate(event);\n          state = STATE.ROTATE;\n        } else {\n          if (scope.enablePan === false) return;\n          handleMouseDownPan(event);\n          state = STATE.PAN;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.domElement.ownerDocument.addEventListener('pointermove', onPointerMove, false);\n      scope.domElement.ownerDocument.addEventListener('pointerup', onPointerUp, false);\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n        handleMouseMoveRotate(event);\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n        handleMouseMoveDolly(event);\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n        handleMouseMovePan(event);\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    handleMouseUp(event);\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp, false);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n    event.preventDefault();\n    event.stopPropagation();\n    scope.dispatchEvent(startEvent);\n    handleMouseWheel(event);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault(); // prevent scrolling\n\n    switch (event.touches.length) {\n      case 1:\n        switch (scope.touches.ONE) {\n          case TOUCH.ROTATE:\n            if (scope.enableRotate === false) return;\n            handleTouchStartRotate(event);\n            state = STATE.TOUCH_ROTATE;\n            break;\n\n          case TOUCH.PAN:\n            if (scope.enablePan === false) return;\n            handleTouchStartPan(event);\n            state = STATE.TOUCH_PAN;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.touches.TWO) {\n          case TOUCH.DOLLY_PAN:\n            if (scope.enableZoom === false && scope.enablePan === false) return;\n            handleTouchStartDollyPan(event);\n            state = STATE.TOUCH_DOLLY_PAN;\n            break;\n\n          case TOUCH.DOLLY_ROTATE:\n            if (scope.enableZoom === false && scope.enableRotate === false) return;\n            handleTouchStartDollyRotate(event);\n            state = STATE.TOUCH_DOLLY_ROTATE;\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault(); // prevent scrolling\n\n    event.stopPropagation();\n\n    switch (state) {\n      case STATE.TOUCH_ROTATE:\n        if (scope.enableRotate === false) return;\n        handleTouchMoveRotate(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_PAN:\n        if (scope.enablePan === false) return;\n        handleTouchMovePan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_PAN:\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        handleTouchMoveDollyPan(event);\n        scope.update();\n        break;\n\n      case STATE.TOUCH_DOLLY_ROTATE:\n        if (scope.enableZoom === false && scope.enableRotate === false) return;\n        handleTouchMoveDollyRotate(event);\n        scope.update();\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n    handleTouchEnd(event);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  } //\n\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n  scope.domElement.addEventListener('pointerdown', onPointerDown, false);\n  scope.domElement.addEventListener('wheel', onMouseWheel, false);\n  scope.domElement.addEventListener('touchstart', onTouchStart, false);\n  scope.domElement.addEventListener('touchend', onTouchEnd, false);\n  scope.domElement.addEventListener('touchmove', onTouchMove, false);\n  scope.domElement.addEventListener('keydown', onKeyDown, false); // make sure element can receive keys.\n\n  if (scope.domElement.tabIndex === -1) {\n    scope.domElement.tabIndex = 0;\n  } // force an update at start\n\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(EventDispatcher.prototype);\nOrbitControls.prototype.constructor = OrbitControls; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function MapControls(object, domElement) {\n  OrbitControls.call(this, object, domElement);\n  this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n  this.mouseButtons.LEFT = MOUSE.PAN;\n  this.mouseButtons.RIGHT = MOUSE.ROTATE;\n  this.touches.ONE = TOUCH.PAN;\n  this.touches.TWO = TOUCH.DOLLY_ROTATE;\n};\n\nMapControls.prototype = Object.create(EventDispatcher.prototype);\nMapControls.prototype.constructor = MapControls;\nexport { OrbitControls, MapControls };","import { EventDispatcher, MOUSE, Quaternion, Vector2, Vector3 } from \"../../../build/three.module.js\";\n\nvar TrackballControls = function TrackballControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  var scope = this;\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4\n  };\n  this.object = object;\n  this.domElement = domElement; // API\n\n  this.enabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n  this.keys = [65\n  /*A*/\n  , 83\n  /*S*/\n  , 68\n  /*D*/\n  ];\n  this.mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.ZOOM,\n    RIGHT: MOUSE.PAN\n  }; // internals\n\n  this.target = new Vector3();\n  var EPS = 0.000001;\n  var lastPosition = new Vector3();\n  var lastZoom = 1;\n\n  var _state = STATE.NONE,\n      _keyState = STATE.NONE,\n      _eye = new Vector3(),\n      _movePrev = new Vector2(),\n      _moveCurr = new Vector2(),\n      _lastAxis = new Vector3(),\n      _lastAngle = 0,\n      _zoomStart = new Vector2(),\n      _zoomEnd = new Vector2(),\n      _touchZoomDistanceStart = 0,\n      _touchZoomDistanceEnd = 0,\n      _panStart = new Vector2(),\n      _panEnd = new Vector2(); // for reset\n\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone();\n  this.zoom0 = this.object.zoom; // events\n\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  }; // methods\n\n  this.handleResize = function () {\n    var box = scope.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n    var d = scope.domElement.ownerDocument.documentElement;\n    scope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    scope.screen.top = box.top + window.pageYOffset - d.clientTop;\n    scope.screen.width = box.width;\n    scope.screen.height = box.height;\n  };\n\n  var getMouseOnScreen = function () {\n    var vector = new Vector2();\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set((pageX - scope.screen.left) / scope.screen.width, (pageY - scope.screen.top) / scope.screen.height);\n      return vector;\n    };\n  }();\n\n  var getMouseOnCircle = function () {\n    var vector = new Vector2();\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set((pageX - scope.screen.width * 0.5 - scope.screen.left) / (scope.screen.width * 0.5), (scope.screen.height + 2 * (scope.screen.top - pageY)) / scope.screen.width // screen.width intentional\n      );\n      return vector;\n    };\n  }();\n\n  this.rotateCamera = function () {\n    var axis = new Vector3(),\n        quaternion = new Quaternion(),\n        eyeDirection = new Vector3(),\n        objectUpDirection = new Vector3(),\n        objectSidewaysDirection = new Vector3(),\n        moveDirection = new Vector3(),\n        angle;\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0);\n      angle = moveDirection.length();\n\n      if (angle) {\n        _eye.copy(scope.object.position).sub(scope.target);\n\n        eyeDirection.copy(_eye).normalize();\n        objectUpDirection.copy(scope.object.up).normalize();\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize();\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n        axis.crossVectors(moveDirection, _eye).normalize();\n        angle *= scope.rotateSpeed;\n        quaternion.setFromAxisAngle(axis, angle);\n\n        _eye.applyQuaternion(quaternion);\n\n        scope.object.up.applyQuaternion(quaternion);\n\n        _lastAxis.copy(axis);\n\n        _lastAngle = angle;\n      } else if (!scope.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - scope.dynamicDampingFactor);\n\n        _eye.copy(scope.object.position).sub(scope.target);\n\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n\n        _eye.applyQuaternion(quaternion);\n\n        scope.object.up.applyQuaternion(quaternion);\n      }\n\n      _movePrev.copy(_moveCurr);\n    };\n  }();\n\n  this.zoomCamera = function () {\n    var factor;\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n      if (scope.object.isPerspectiveCamera) {\n        _eye.multiplyScalar(factor);\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom *= factor;\n        scope.object.updateProjectionMatrix();\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * scope.zoomSpeed;\n\n      if (factor !== 1.0 && factor > 0.0) {\n        if (scope.object.isPerspectiveCamera) {\n          _eye.multiplyScalar(factor);\n        } else if (scope.object.isOrthographicCamera) {\n          scope.object.zoom /= factor;\n          scope.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      }\n\n      if (scope.staticMoving) {\n        _zoomStart.copy(_zoomEnd);\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n      }\n    }\n  };\n\n  this.panCamera = function () {\n    var mouseChange = new Vector2(),\n        objectUp = new Vector3(),\n        pan = new Vector3();\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart);\n\n      if (mouseChange.lengthSq()) {\n        if (scope.object.isOrthographicCamera) {\n          var scale_x = (scope.object.right - scope.object.left) / scope.object.zoom / scope.domElement.clientWidth;\n          var scale_y = (scope.object.top - scope.object.bottom) / scope.object.zoom / scope.domElement.clientWidth;\n          mouseChange.x *= scale_x;\n          mouseChange.y *= scale_y;\n        }\n\n        mouseChange.multiplyScalar(_eye.length() * scope.panSpeed);\n        pan.copy(_eye).cross(scope.object.up).setLength(mouseChange.x);\n        pan.add(objectUp.copy(scope.object.up).setLength(mouseChange.y));\n        scope.object.position.add(pan);\n        scope.target.add(pan);\n\n        if (scope.staticMoving) {\n          _panStart.copy(_panEnd);\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(scope.dynamicDampingFactor));\n        }\n      }\n    };\n  }();\n\n  this.checkDistances = function () {\n    if (!scope.noZoom || !scope.noPan) {\n      if (_eye.lengthSq() > scope.maxDistance * scope.maxDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.maxDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n\n      if (_eye.lengthSq() < scope.minDistance * scope.minDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.minDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n    }\n  };\n\n  this.update = function () {\n    _eye.subVectors(scope.object.position, scope.target);\n\n    if (!scope.noRotate) {\n      scope.rotateCamera();\n    }\n\n    if (!scope.noZoom) {\n      scope.zoomCamera();\n    }\n\n    if (!scope.noPan) {\n      scope.panCamera();\n    }\n\n    scope.object.position.addVectors(scope.target, _eye);\n\n    if (scope.object.isPerspectiveCamera) {\n      scope.checkDistances();\n      scope.object.lookAt(scope.target);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n      }\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.lookAt(scope.target);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || lastZoom !== scope.object.zoom) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastZoom = scope.object.zoom;\n      }\n    } else {\n      console.warn('THREE.TrackballControls: Unsupported camera type');\n    }\n  };\n\n  this.reset = function () {\n    _state = STATE.NONE;\n    _keyState = STATE.NONE;\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.up.copy(scope.up0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n\n    _eye.subVectors(scope.object.position, scope.target);\n\n    scope.object.lookAt(scope.target);\n    scope.dispatchEvent(changeEvent);\n    lastPosition.copy(scope.object.position);\n    lastZoom = scope.object.zoom;\n  }; // listeners\n\n\n  function onPointerDown(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseDown(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerMove(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseMove(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerUp(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseUp(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function keydown(event) {\n    if (scope.enabled === false) return;\n    window.removeEventListener('keydown', keydown);\n\n    if (_keyState !== STATE.NONE) {\n      return;\n    } else if (event.keyCode === scope.keys[STATE.ROTATE] && !scope.noRotate) {\n      _keyState = STATE.ROTATE;\n    } else if (event.keyCode === scope.keys[STATE.ZOOM] && !scope.noZoom) {\n      _keyState = STATE.ZOOM;\n    } else if (event.keyCode === scope.keys[STATE.PAN] && !scope.noPan) {\n      _keyState = STATE.PAN;\n    }\n  }\n\n  function keyup() {\n    if (scope.enabled === false) return;\n    _keyState = STATE.NONE;\n    window.addEventListener('keydown', keydown, false);\n  }\n\n  function onMouseDown(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.NONE) {\n      switch (event.button) {\n        case scope.mouseButtons.LEFT:\n          _state = STATE.ROTATE;\n          break;\n\n        case scope.mouseButtons.MIDDLE:\n          _state = STATE.ZOOM;\n          break;\n\n        case scope.mouseButtons.RIGHT:\n          _state = STATE.PAN;\n          break;\n\n        default:\n          _state = STATE.NONE;\n      }\n    }\n\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n\n      _movePrev.copy(_moveCurr);\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _zoomEnd.copy(_zoomStart);\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _panEnd.copy(_panStart);\n    }\n\n    scope.domElement.ownerDocument.addEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.addEventListener('pointerup', onPointerUp, false);\n    scope.dispatchEvent(startEvent);\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _movePrev.copy(_moveCurr);\n\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    _state = STATE.NONE;\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function mousewheel(event) {\n    if (scope.enabled === false) return;\n    if (scope.noZoom === true) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025;\n        break;\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01;\n        break;\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025;\n        break;\n    }\n\n    scope.dispatchEvent(startEvent);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function touchstart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n\n      default:\n        // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panStart.copy(getMouseOnScreen(x, y));\n\n        _panEnd.copy(_panStart);\n\n        break;\n    }\n\n    scope.dispatchEvent(startEvent);\n  }\n\n  function touchmove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr);\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        break;\n\n      default:\n        // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panEnd.copy(getMouseOnScreen(x, y));\n\n        break;\n    }\n  }\n\n  function touchend(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE;\n        break;\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n    }\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function contextmenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', contextmenu, false);\n    scope.domElement.removeEventListener('pointerdown', onPointerDown, false);\n    scope.domElement.removeEventListener('wheel', mousewheel, false);\n    scope.domElement.removeEventListener('touchstart', touchstart, false);\n    scope.domElement.removeEventListener('touchend', touchend, false);\n    scope.domElement.removeEventListener('touchmove', touchmove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp, false);\n    window.removeEventListener('keydown', keydown, false);\n    window.removeEventListener('keyup', keyup, false);\n  };\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('pointerdown', onPointerDown, false);\n  this.domElement.addEventListener('wheel', mousewheel, false);\n  this.domElement.addEventListener('touchstart', touchstart, false);\n  this.domElement.addEventListener('touchend', touchend, false);\n  this.domElement.addEventListener('touchmove', touchmove, false);\n  this.domElement.ownerDocument.addEventListener('pointermove', onPointerMove, false);\n  this.domElement.ownerDocument.addEventListener('pointerup', onPointerUp, false);\n  window.addEventListener('keydown', keydown, false);\n  window.addEventListener('keyup', keyup, false);\n  this.handleResize(); // force an update at start\n\n  this.update();\n};\n\nTrackballControls.prototype = Object.create(EventDispatcher.prototype);\nTrackballControls.prototype.constructor = TrackballControls;\nexport { TrackballControls };","import { BoxBufferGeometry, BufferGeometry, Color, CylinderBufferGeometry, DoubleSide, Euler, Float32BufferAttribute, Line, LineBasicMaterial, Matrix4, Mesh, MeshBasicMaterial, Object3D, OctahedronBufferGeometry, PlaneBufferGeometry, Quaternion, Raycaster, SphereBufferGeometry, TorusBufferGeometry, Vector3 } from \"../../../build/three.module.js\";\n\nvar TransformControls = function TransformControls(camera, domElement) {\n  if (domElement === undefined) {\n    console.warn('THREE.TransformControls: The second parameter \"domElement\" is now mandatory.');\n    domElement = document;\n  }\n\n  Object3D.call(this);\n  this.visible = false;\n  this.domElement = domElement;\n\n  var _gizmo = new TransformControlsGizmo();\n\n  this.add(_gizmo);\n\n  var _plane = new TransformControlsPlane();\n\n  this.add(_plane);\n  var scope = this; // Define properties with getters/setter\n  // Setting the defined property will automatically trigger change event\n  // Defined properties are passed down to gizmo and plane\n\n  defineProperty(\"camera\", camera);\n  defineProperty(\"object\", undefined);\n  defineProperty(\"enabled\", true);\n  defineProperty(\"axis\", null);\n  defineProperty(\"mode\", \"translate\");\n  defineProperty(\"translationSnap\", null);\n  defineProperty(\"rotationSnap\", null);\n  defineProperty(\"scaleSnap\", null);\n  defineProperty(\"space\", \"world\");\n  defineProperty(\"size\", 1);\n  defineProperty(\"dragging\", false);\n  defineProperty(\"showX\", true);\n  defineProperty(\"showY\", true);\n  defineProperty(\"showZ\", true);\n  var changeEvent = {\n    type: \"change\"\n  };\n  var mouseDownEvent = {\n    type: \"mouseDown\"\n  };\n  var mouseUpEvent = {\n    type: \"mouseUp\",\n    mode: scope.mode\n  };\n  var objectChangeEvent = {\n    type: \"objectChange\"\n  }; // Reusable utility variables\n\n  var raycaster = new Raycaster();\n\n  function intersectObjectWithRay(object, raycaster, includeInvisible) {\n    var allIntersections = raycaster.intersectObject(object, true);\n\n    for (var i = 0; i < allIntersections.length; i++) {\n      if (allIntersections[i].object.visible || includeInvisible) {\n        return allIntersections[i];\n      }\n    }\n\n    return false;\n  }\n\n  var _tempVector = new Vector3();\n\n  var _tempVector2 = new Vector3();\n\n  var _tempQuaternion = new Quaternion();\n\n  var _unit = {\n    X: new Vector3(1, 0, 0),\n    Y: new Vector3(0, 1, 0),\n    Z: new Vector3(0, 0, 1)\n  };\n  var pointStart = new Vector3();\n  var pointEnd = new Vector3();\n  var offset = new Vector3();\n  var rotationAxis = new Vector3();\n  var startNorm = new Vector3();\n  var endNorm = new Vector3();\n  var rotationAngle = 0;\n  var cameraPosition = new Vector3();\n  var cameraQuaternion = new Quaternion();\n  var cameraScale = new Vector3();\n  var parentPosition = new Vector3();\n  var parentQuaternion = new Quaternion();\n  var parentQuaternionInv = new Quaternion();\n  var parentScale = new Vector3();\n  var worldPositionStart = new Vector3();\n  var worldQuaternionStart = new Quaternion();\n  var worldScaleStart = new Vector3();\n  var worldPosition = new Vector3();\n  var worldQuaternion = new Quaternion();\n  var worldQuaternionInv = new Quaternion();\n  var worldScale = new Vector3();\n  var eye = new Vector3();\n  var positionStart = new Vector3();\n  var quaternionStart = new Quaternion();\n  var scaleStart = new Vector3(); // TODO: remove properties unused in plane and gizmo\n\n  defineProperty(\"worldPosition\", worldPosition);\n  defineProperty(\"worldPositionStart\", worldPositionStart);\n  defineProperty(\"worldQuaternion\", worldQuaternion);\n  defineProperty(\"worldQuaternionStart\", worldQuaternionStart);\n  defineProperty(\"cameraPosition\", cameraPosition);\n  defineProperty(\"cameraQuaternion\", cameraQuaternion);\n  defineProperty(\"pointStart\", pointStart);\n  defineProperty(\"pointEnd\", pointEnd);\n  defineProperty(\"rotationAxis\", rotationAxis);\n  defineProperty(\"rotationAngle\", rotationAngle);\n  defineProperty(\"eye\", eye);\n  {\n    domElement.addEventListener(\"pointerdown\", onPointerDown, false);\n    domElement.addEventListener(\"pointermove\", onPointerHover, false);\n    scope.domElement.ownerDocument.addEventListener(\"pointerup\", onPointerUp, false);\n  }\n\n  this.dispose = function () {\n    domElement.removeEventListener(\"pointerdown\", onPointerDown);\n    domElement.removeEventListener(\"pointermove\", onPointerHover);\n    scope.domElement.ownerDocument.removeEventListener(\"pointermove\", onPointerMove);\n    scope.domElement.ownerDocument.removeEventListener(\"pointerup\", onPointerUp);\n    this.traverse(function (child) {\n      if (child.geometry) child.geometry.dispose();\n      if (child.material) child.material.dispose();\n    });\n  }; // Set current object\n\n\n  this.attach = function (object) {\n    this.object = object;\n    this.visible = true;\n    return this;\n  }; // Detatch from object\n\n\n  this.detach = function () {\n    this.object = undefined;\n    this.visible = false;\n    this.axis = null;\n    return this;\n  }; // Defined getter, setter and store for a property\n\n\n  function defineProperty(propName, defaultValue) {\n    var propValue = defaultValue;\n    Object.defineProperty(scope, propName, {\n      get: function get() {\n        return propValue !== undefined ? propValue : defaultValue;\n      },\n      set: function set(value) {\n        if (propValue !== value) {\n          propValue = value;\n          _plane[propName] = value;\n          _gizmo[propName] = value;\n          scope.dispatchEvent({\n            type: propName + \"-changed\",\n            value: value\n          });\n          scope.dispatchEvent(changeEvent);\n        }\n      }\n    });\n    scope[propName] = defaultValue;\n    _plane[propName] = defaultValue;\n    _gizmo[propName] = defaultValue;\n  } // updateMatrixWorld  updates key transformation variables\n\n\n  this.updateMatrixWorld = function () {\n    if (this.object !== undefined) {\n      this.object.updateMatrixWorld();\n\n      if (this.object.parent === null) {\n        console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n      } else {\n        this.object.parent.matrixWorld.decompose(parentPosition, parentQuaternion, parentScale);\n      }\n\n      this.object.matrixWorld.decompose(worldPosition, worldQuaternion, worldScale);\n      parentQuaternionInv.copy(parentQuaternion).inverse();\n      worldQuaternionInv.copy(worldQuaternion).inverse();\n    }\n\n    this.camera.updateMatrixWorld();\n    this.camera.matrixWorld.decompose(cameraPosition, cameraQuaternion, cameraScale);\n    eye.copy(cameraPosition).sub(worldPosition).normalize();\n    Object3D.prototype.updateMatrixWorld.call(this);\n  };\n\n  this.pointerHover = function (pointer) {\n    if (this.object === undefined || this.dragging === true) return;\n    raycaster.setFromCamera(pointer, this.camera);\n    var intersect = intersectObjectWithRay(_gizmo.picker[this.mode], raycaster);\n\n    if (intersect) {\n      this.axis = intersect.object.name;\n    } else {\n      this.axis = null;\n    }\n  };\n\n  this.pointerDown = function (pointer) {\n    if (this.object === undefined || this.dragging === true || pointer.button !== 0) return;\n\n    if (this.axis !== null) {\n      raycaster.setFromCamera(pointer, this.camera);\n      var planeIntersect = intersectObjectWithRay(_plane, raycaster, true);\n\n      if (planeIntersect) {\n        var space = this.space;\n\n        if (this.mode === 'scale') {\n          space = 'local';\n        } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n          space = 'world';\n        }\n\n        if (space === 'local' && this.mode === 'rotate') {\n          var snap = this.rotationSnap;\n          if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n          if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n          if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n        }\n\n        this.object.updateMatrixWorld();\n        this.object.parent.updateMatrixWorld();\n        positionStart.copy(this.object.position);\n        quaternionStart.copy(this.object.quaternion);\n        scaleStart.copy(this.object.scale);\n        this.object.matrixWorld.decompose(worldPositionStart, worldQuaternionStart, worldScaleStart);\n        pointStart.copy(planeIntersect.point).sub(worldPositionStart);\n      }\n\n      this.dragging = true;\n      mouseDownEvent.mode = this.mode;\n      this.dispatchEvent(mouseDownEvent);\n    }\n  };\n\n  this.pointerMove = function (pointer) {\n    var axis = this.axis;\n    var mode = this.mode;\n    var object = this.object;\n    var space = this.space;\n\n    if (mode === 'scale') {\n      space = 'local';\n    } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n      space = 'world';\n    }\n\n    if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return;\n    raycaster.setFromCamera(pointer, this.camera);\n    var planeIntersect = intersectObjectWithRay(_plane, raycaster, true);\n    if (!planeIntersect) return;\n    pointEnd.copy(planeIntersect.point).sub(worldPositionStart);\n\n    if (mode === 'translate') {\n      // Apply translate\n      offset.copy(pointEnd).sub(pointStart);\n\n      if (space === 'local' && axis !== 'XYZ') {\n        offset.applyQuaternion(worldQuaternionInv);\n      }\n\n      if (axis.indexOf('X') === -1) offset.x = 0;\n      if (axis.indexOf('Y') === -1) offset.y = 0;\n      if (axis.indexOf('Z') === -1) offset.z = 0;\n\n      if (space === 'local' && axis !== 'XYZ') {\n        offset.applyQuaternion(quaternionStart).divide(parentScale);\n      } else {\n        offset.applyQuaternion(parentQuaternionInv).divide(parentScale);\n      }\n\n      object.position.copy(offset).add(positionStart); // Apply translation snap\n\n      if (this.translationSnap) {\n        if (space === 'local') {\n          object.position.applyQuaternion(_tempQuaternion.copy(quaternionStart).inverse());\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n          }\n\n          object.position.applyQuaternion(quaternionStart);\n        }\n\n        if (space === 'world') {\n          if (object.parent) {\n            object.position.add(_tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n          }\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n          }\n\n          if (object.parent) {\n            object.position.sub(_tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n          }\n        }\n      }\n    } else if (mode === 'scale') {\n      if (axis.search('XYZ') !== -1) {\n        var d = pointEnd.length() / pointStart.length();\n        if (pointEnd.dot(pointStart) < 0) d *= -1;\n\n        _tempVector2.set(d, d, d);\n      } else {\n        _tempVector.copy(pointStart);\n\n        _tempVector2.copy(pointEnd);\n\n        _tempVector.applyQuaternion(worldQuaternionInv);\n\n        _tempVector2.applyQuaternion(worldQuaternionInv);\n\n        _tempVector2.divide(_tempVector);\n\n        if (axis.search('X') === -1) {\n          _tempVector2.x = 1;\n        }\n\n        if (axis.search('Y') === -1) {\n          _tempVector2.y = 1;\n        }\n\n        if (axis.search('Z') === -1) {\n          _tempVector2.z = 1;\n        }\n      } // Apply scale\n\n\n      object.scale.copy(scaleStart).multiply(_tempVector2);\n\n      if (this.scaleSnap) {\n        if (axis.search('X') !== -1) {\n          object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n        }\n\n        if (axis.search('Y') !== -1) {\n          object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n        }\n\n        if (axis.search('Z') !== -1) {\n          object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n        }\n      }\n    } else if (mode === 'rotate') {\n      offset.copy(pointEnd).sub(pointStart);\n      var ROTATION_SPEED = 20 / worldPosition.distanceTo(_tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n\n      if (axis === 'E') {\n        rotationAxis.copy(eye);\n        rotationAngle = pointEnd.angleTo(pointStart);\n        startNorm.copy(pointStart).normalize();\n        endNorm.copy(pointEnd).normalize();\n        rotationAngle *= endNorm.cross(startNorm).dot(eye) < 0 ? 1 : -1;\n      } else if (axis === 'XYZE') {\n        rotationAxis.copy(offset).cross(eye).normalize();\n        rotationAngle = offset.dot(_tempVector.copy(rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n      } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n        rotationAxis.copy(_unit[axis]);\n\n        _tempVector.copy(_unit[axis]);\n\n        if (space === 'local') {\n          _tempVector.applyQuaternion(worldQuaternion);\n        }\n\n        rotationAngle = offset.dot(_tempVector.cross(eye).normalize()) * ROTATION_SPEED;\n      } // Apply rotation snap\n\n\n      if (this.rotationSnap) rotationAngle = Math.round(rotationAngle / this.rotationSnap) * this.rotationSnap;\n      this.rotationAngle = rotationAngle; // Apply rotate\n\n      if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n        object.quaternion.copy(quaternionStart);\n        object.quaternion.multiply(_tempQuaternion.setFromAxisAngle(rotationAxis, rotationAngle)).normalize();\n      } else {\n        rotationAxis.applyQuaternion(parentQuaternionInv);\n        object.quaternion.copy(_tempQuaternion.setFromAxisAngle(rotationAxis, rotationAngle));\n        object.quaternion.multiply(quaternionStart).normalize();\n      }\n    }\n\n    this.dispatchEvent(changeEvent);\n    this.dispatchEvent(objectChangeEvent);\n  };\n\n  this.pointerUp = function (pointer) {\n    if (pointer.button !== 0) return;\n\n    if (this.dragging && this.axis !== null) {\n      mouseUpEvent.mode = this.mode;\n      this.dispatchEvent(mouseUpEvent);\n    }\n\n    this.dragging = false;\n    this.axis = null;\n  }; // normalize mouse / touch pointer and remap {x,y} to view space.\n\n\n  function getPointer(event) {\n    if (scope.domElement.ownerDocument.pointerLockElement) {\n      return {\n        x: 0,\n        y: 0,\n        button: event.button\n      };\n    } else {\n      var pointer = event.changedTouches ? event.changedTouches[0] : event;\n      var rect = domElement.getBoundingClientRect();\n      return {\n        x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n        y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n        button: event.button\n      };\n    }\n  } // mouse / touch event handlers\n\n\n  function onPointerHover(event) {\n    if (!scope.enabled) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        scope.pointerHover(getPointer(event));\n        break;\n    }\n  }\n\n  function onPointerDown(event) {\n    if (!scope.enabled) return;\n    scope.domElement.style.touchAction = 'none'; // disable touch scroll\n\n    scope.domElement.ownerDocument.addEventListener(\"pointermove\", onPointerMove, false);\n    scope.pointerHover(getPointer(event));\n    scope.pointerDown(getPointer(event));\n  }\n\n  function onPointerMove(event) {\n    if (!scope.enabled) return;\n    scope.pointerMove(getPointer(event));\n  }\n\n  function onPointerUp(event) {\n    if (!scope.enabled) return;\n    scope.domElement.style.touchAction = '';\n    scope.domElement.ownerDocument.removeEventListener(\"pointermove\", onPointerMove, false);\n    scope.pointerUp(getPointer(event));\n  } // TODO: deprecate\n\n\n  this.getMode = function () {\n    return scope.mode;\n  };\n\n  this.setMode = function (mode) {\n    scope.mode = mode;\n  };\n\n  this.setTranslationSnap = function (translationSnap) {\n    scope.translationSnap = translationSnap;\n  };\n\n  this.setRotationSnap = function (rotationSnap) {\n    scope.rotationSnap = rotationSnap;\n  };\n\n  this.setScaleSnap = function (scaleSnap) {\n    scope.scaleSnap = scaleSnap;\n  };\n\n  this.setSize = function (size) {\n    scope.size = size;\n  };\n\n  this.setSpace = function (space) {\n    scope.space = space;\n  };\n\n  this.update = function () {\n    console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n  };\n};\n\nTransformControls.prototype = Object.assign(Object.create(Object3D.prototype), {\n  constructor: TransformControls,\n  isTransformControls: true\n});\n\nvar TransformControlsGizmo = function TransformControlsGizmo() {\n  'use strict';\n\n  Object3D.call(this);\n  this.type = 'TransformControlsGizmo'; // shared materials\n\n  var gizmoMaterial = new MeshBasicMaterial({\n    depthTest: false,\n    depthWrite: false,\n    transparent: true,\n    side: DoubleSide,\n    fog: false,\n    toneMapped: false\n  });\n  var gizmoLineMaterial = new LineBasicMaterial({\n    depthTest: false,\n    depthWrite: false,\n    transparent: true,\n    linewidth: 1,\n    fog: false,\n    toneMapped: false\n  }); // Make unique material for each axis/color\n\n  var matInvisible = gizmoMaterial.clone();\n  matInvisible.opacity = 0.15;\n  var matHelper = gizmoMaterial.clone();\n  matHelper.opacity = 0.33;\n  var matRed = gizmoMaterial.clone();\n  matRed.color.set(0xff0000);\n  var matGreen = gizmoMaterial.clone();\n  matGreen.color.set(0x00ff00);\n  var matBlue = gizmoMaterial.clone();\n  matBlue.color.set(0x0000ff);\n  var matWhiteTransparent = gizmoMaterial.clone();\n  matWhiteTransparent.opacity = 0.25;\n  var matYellowTransparent = matWhiteTransparent.clone();\n  matYellowTransparent.color.set(0xffff00);\n  var matCyanTransparent = matWhiteTransparent.clone();\n  matCyanTransparent.color.set(0x00ffff);\n  var matMagentaTransparent = matWhiteTransparent.clone();\n  matMagentaTransparent.color.set(0xff00ff);\n  var matYellow = gizmoMaterial.clone();\n  matYellow.color.set(0xffff00);\n  var matLineRed = gizmoLineMaterial.clone();\n  matLineRed.color.set(0xff0000);\n  var matLineGreen = gizmoLineMaterial.clone();\n  matLineGreen.color.set(0x00ff00);\n  var matLineBlue = gizmoLineMaterial.clone();\n  matLineBlue.color.set(0x0000ff);\n  var matLineCyan = gizmoLineMaterial.clone();\n  matLineCyan.color.set(0x00ffff);\n  var matLineMagenta = gizmoLineMaterial.clone();\n  matLineMagenta.color.set(0xff00ff);\n  var matLineYellow = gizmoLineMaterial.clone();\n  matLineYellow.color.set(0xffff00);\n  var matLineGray = gizmoLineMaterial.clone();\n  matLineGray.color.set(0x787878);\n  var matLineYellowTransparent = matLineYellow.clone();\n  matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n  var arrowGeometry = new CylinderBufferGeometry(0, 0.05, 0.2, 12, 1, false);\n  var scaleHandleGeometry = new BoxBufferGeometry(0.125, 0.125, 0.125);\n  var lineGeometry = new BufferGeometry();\n  lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n  var CircleGeometry = function CircleGeometry(radius, arc) {\n    var geometry = new BufferGeometry();\n    var vertices = [];\n\n    for (var i = 0; i <= 64 * arc; ++i) {\n      vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    return geometry;\n  }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\n  var TranslateHelperGeometry = function TranslateHelperGeometry() {\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n    return geometry;\n  }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\n  var gizmoTranslate = {\n    X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new Line(lineGeometry, matLineRed)]],\n    Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n    Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n    XYZ: [[new Mesh(new OctahedronBufferGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n    XY: [[new Mesh(new PlaneBufferGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n    YZ: [[new Mesh(new PlaneBufferGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n    XZ: [[new Mesh(new PlaneBufferGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n  };\n  var pickerTranslate = {\n    X: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n    Y: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n    Z: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n    XYZ: [[new Mesh(new OctahedronBufferGeometry(0.2, 0), matInvisible)]],\n    XY: [[new Mesh(new PlaneBufferGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n    YZ: [[new Mesh(new PlaneBufferGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n    XZ: [[new Mesh(new PlaneBufferGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n  };\n  var helperTranslate = {\n    START: [[new Mesh(new OctahedronBufferGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n    END: [[new Mesh(new OctahedronBufferGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n    DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n    X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n    Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n    Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n  };\n  var gizmoRotate = {\n    X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronBufferGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n    Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronBufferGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n    Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronBufferGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n    E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new Mesh(new CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n    XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n  };\n  var helperRotate = {\n    AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n  };\n  var pickerRotate = {\n    X: [[new Mesh(new TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n    Y: [[new Mesh(new TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n    Z: [[new Mesh(new TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n    E: [[new Mesh(new TorusBufferGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n    XYZE: [[new Mesh(new SphereBufferGeometry(0.7, 10, 8), matInvisible)]]\n  };\n  var gizmoScale = {\n    X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n    Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n    Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n    XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n    YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n    XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n    XYZX: [[new Mesh(new BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n    XYZY: [[new Mesh(new BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n    XYZZ: [[new Mesh(new BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n  };\n  var pickerScale = {\n    X: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n    Y: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n    Z: [[new Mesh(new CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n    XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n    YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n    XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n    XYZX: [[new Mesh(new BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n    XYZY: [[new Mesh(new BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n    XYZZ: [[new Mesh(new BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n  };\n  var helperScale = {\n    X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n    Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n    Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n  }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n\n  var setupGizmo = function setupGizmo(gizmoMap) {\n    var gizmo = new Object3D();\n\n    for (var name in gizmoMap) {\n      for (var i = gizmoMap[name].length; i--;) {\n        var object = gizmoMap[name][i][0].clone();\n        var position = gizmoMap[name][i][1];\n        var rotation = gizmoMap[name][i][2];\n        var scale = gizmoMap[name][i][3];\n        var tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n        object.name = name;\n        object.tag = tag;\n\n        if (position) {\n          object.position.set(position[0], position[1], position[2]);\n        }\n\n        if (rotation) {\n          object.rotation.set(rotation[0], rotation[1], rotation[2]);\n        }\n\n        if (scale) {\n          object.scale.set(scale[0], scale[1], scale[2]);\n        }\n\n        object.updateMatrix();\n        var tempGeometry = object.geometry.clone();\n        tempGeometry.applyMatrix4(object.matrix);\n        object.geometry = tempGeometry;\n        object.renderOrder = Infinity;\n        object.position.set(0, 0, 0);\n        object.rotation.set(0, 0, 0);\n        object.scale.set(1, 1, 1);\n        gizmo.add(object);\n      }\n    }\n\n    return gizmo;\n  }; // Reusable utility variables\n\n\n  var tempVector = new Vector3(0, 0, 0);\n  var tempEuler = new Euler();\n  var alignVector = new Vector3(0, 1, 0);\n  var zeroVector = new Vector3(0, 0, 0);\n  var lookAtMatrix = new Matrix4();\n  var tempQuaternion = new Quaternion();\n  var tempQuaternion2 = new Quaternion();\n  var identityQuaternion = new Quaternion();\n  var unitX = new Vector3(1, 0, 0);\n  var unitY = new Vector3(0, 1, 0);\n  var unitZ = new Vector3(0, 0, 1); // Gizmo creation\n\n  this.gizmo = {};\n  this.picker = {};\n  this.helper = {};\n  this.add(this.gizmo[\"translate\"] = setupGizmo(gizmoTranslate));\n  this.add(this.gizmo[\"rotate\"] = setupGizmo(gizmoRotate));\n  this.add(this.gizmo[\"scale\"] = setupGizmo(gizmoScale));\n  this.add(this.picker[\"translate\"] = setupGizmo(pickerTranslate));\n  this.add(this.picker[\"rotate\"] = setupGizmo(pickerRotate));\n  this.add(this.picker[\"scale\"] = setupGizmo(pickerScale));\n  this.add(this.helper[\"translate\"] = setupGizmo(helperTranslate));\n  this.add(this.helper[\"rotate\"] = setupGizmo(helperRotate));\n  this.add(this.helper[\"scale\"] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n  this.picker[\"translate\"].visible = false;\n  this.picker[\"rotate\"].visible = false;\n  this.picker[\"scale\"].visible = false; // updateMatrixWorld will update transformations and appearance of individual handles\n\n  this.updateMatrixWorld = function () {\n    var space = this.space;\n    if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n    var quaternion = space === \"local\" ? this.worldQuaternion : identityQuaternion; // Show only gizmos for current transform mode\n\n    this.gizmo[\"translate\"].visible = this.mode === \"translate\";\n    this.gizmo[\"rotate\"].visible = this.mode === \"rotate\";\n    this.gizmo[\"scale\"].visible = this.mode === \"scale\";\n    this.helper[\"translate\"].visible = this.mode === \"translate\";\n    this.helper[\"rotate\"].visible = this.mode === \"rotate\";\n    this.helper[\"scale\"].visible = this.mode === \"scale\";\n    var handles = [];\n    handles = handles.concat(this.picker[this.mode].children);\n    handles = handles.concat(this.gizmo[this.mode].children);\n    handles = handles.concat(this.helper[this.mode].children);\n\n    for (var i = 0; i < handles.length; i++) {\n      var handle = handles[i]; // hide aligned to camera\n\n      handle.visible = true;\n      handle.rotation.set(0, 0, 0);\n      handle.position.copy(this.worldPosition);\n      var factor;\n\n      if (this.camera.isOrthographicCamera) {\n        factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n      } else {\n        factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n      }\n\n      handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n      if (handle.tag === 'helper') {\n        handle.visible = false;\n\n        if (handle.name === 'AXIS') {\n          handle.position.copy(this.worldPositionStart);\n          handle.visible = !!this.axis;\n\n          if (this.axis === 'X') {\n            tempQuaternion.setFromEuler(tempEuler.set(0, 0, 0));\n            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n            if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false;\n            }\n          }\n\n          if (this.axis === 'Y') {\n            tempQuaternion.setFromEuler(tempEuler.set(0, 0, Math.PI / 2));\n            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n            if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false;\n            }\n          }\n\n          if (this.axis === 'Z') {\n            tempQuaternion.setFromEuler(tempEuler.set(0, Math.PI / 2, 0));\n            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n            if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false;\n            }\n          }\n\n          if (this.axis === 'XYZE') {\n            tempQuaternion.setFromEuler(tempEuler.set(0, Math.PI / 2, 0));\n            alignVector.copy(this.rotationAxis);\n            handle.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(zeroVector, alignVector, unitY));\n            handle.quaternion.multiply(tempQuaternion);\n            handle.visible = this.dragging;\n          }\n\n          if (this.axis === 'E') {\n            handle.visible = false;\n          }\n        } else if (handle.name === 'START') {\n          handle.position.copy(this.worldPositionStart);\n          handle.visible = this.dragging;\n        } else if (handle.name === 'END') {\n          handle.position.copy(this.worldPosition);\n          handle.visible = this.dragging;\n        } else if (handle.name === 'DELTA') {\n          handle.position.copy(this.worldPositionStart);\n          handle.quaternion.copy(this.worldQuaternionStart);\n          tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n          tempVector.applyQuaternion(this.worldQuaternionStart.clone().inverse());\n          handle.scale.copy(tempVector);\n          handle.visible = this.dragging;\n        } else {\n          handle.quaternion.copy(quaternion);\n\n          if (this.dragging) {\n            handle.position.copy(this.worldPositionStart);\n          } else {\n            handle.position.copy(this.worldPosition);\n          }\n\n          if (this.axis) {\n            handle.visible = this.axis.search(handle.name) !== -1;\n          }\n        } // If updating helper, skip rest of the loop\n\n\n        continue;\n      } // Align handles to current local or world rotation\n\n\n      handle.quaternion.copy(quaternion);\n\n      if (this.mode === 'translate' || this.mode === 'scale') {\n        // Hide translate and scale axis facing the camera\n        var AXIS_HIDE_TRESHOLD = 0.99;\n        var PLANE_HIDE_TRESHOLD = 0.2;\n        var AXIS_FLIP_TRESHOLD = 0.0;\n\n        if (handle.name === 'X' || handle.name === 'XYZX') {\n          if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name === 'Y' || handle.name === 'XYZY') {\n          if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name === 'Z' || handle.name === 'XYZZ') {\n          if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name === 'XY') {\n          if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name === 'YZ') {\n          if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name === 'XZ') {\n          if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n            handle.scale.set(1e-10, 1e-10, 1e-10);\n            handle.visible = false;\n          }\n        } // Flip translate and scale axis ocluded behind another axis\n\n\n        if (handle.name.search('X') !== -1) {\n          if (alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false;\n            } else {\n              handle.scale.x *= -1;\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name.search('Y') !== -1) {\n          if (alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false;\n            } else {\n              handle.scale.y *= -1;\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false;\n          }\n        }\n\n        if (handle.name.search('Z') !== -1) {\n          if (alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false;\n            } else {\n              handle.scale.z *= -1;\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false;\n          }\n        }\n      } else if (this.mode === 'rotate') {\n        // Align handles to current local or world rotation\n        tempQuaternion2.copy(quaternion);\n        alignVector.copy(this.eye).applyQuaternion(tempQuaternion.copy(quaternion).inverse());\n\n        if (handle.name.search(\"E\") !== -1) {\n          handle.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(this.eye, zeroVector, unitY));\n        }\n\n        if (handle.name === 'X') {\n          tempQuaternion.setFromAxisAngle(unitX, Math.atan2(-alignVector.y, alignVector.z));\n          tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n          handle.quaternion.copy(tempQuaternion);\n        }\n\n        if (handle.name === 'Y') {\n          tempQuaternion.setFromAxisAngle(unitY, Math.atan2(alignVector.x, alignVector.z));\n          tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n          handle.quaternion.copy(tempQuaternion);\n        }\n\n        if (handle.name === 'Z') {\n          tempQuaternion.setFromAxisAngle(unitZ, Math.atan2(alignVector.y, alignVector.x));\n          tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n          handle.quaternion.copy(tempQuaternion);\n        }\n      } // Hide disabled axes\n\n\n      handle.visible = handle.visible && (handle.name.indexOf(\"X\") === -1 || this.showX);\n      handle.visible = handle.visible && (handle.name.indexOf(\"Y\") === -1 || this.showY);\n      handle.visible = handle.visible && (handle.name.indexOf(\"Z\") === -1 || this.showZ);\n      handle.visible = handle.visible && (handle.name.indexOf(\"E\") === -1 || this.showX && this.showY && this.showZ); // highlight selected axis\n\n      handle.material._opacity = handle.material._opacity || handle.material.opacity;\n      handle.material._color = handle.material._color || handle.material.color.clone();\n      handle.material.color.copy(handle.material._color);\n      handle.material.opacity = handle.material._opacity;\n\n      if (!this.enabled) {\n        handle.material.opacity *= 0.5;\n        handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n      } else if (this.axis) {\n        if (handle.name === this.axis) {\n          handle.material.opacity = 1.0;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis.split('').some(function (a) {\n          return handle.name === a;\n        })) {\n          handle.material.opacity = 1.0;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else {\n          handle.material.opacity *= 0.25;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        }\n      }\n    }\n\n    Object3D.prototype.updateMatrixWorld.call(this);\n  };\n};\n\nTransformControlsGizmo.prototype = Object.assign(Object.create(Object3D.prototype), {\n  constructor: TransformControlsGizmo,\n  isTransformControlsGizmo: true\n});\n\nvar TransformControlsPlane = function TransformControlsPlane() {\n  'use strict';\n\n  Mesh.call(this, new PlaneBufferGeometry(100000, 100000, 2, 2), new MeshBasicMaterial({\n    visible: false,\n    wireframe: true,\n    side: DoubleSide,\n    transparent: true,\n    opacity: 0.1,\n    toneMapped: false\n  }));\n  this.type = 'TransformControlsPlane';\n  var unitX = new Vector3(1, 0, 0);\n  var unitY = new Vector3(0, 1, 0);\n  var unitZ = new Vector3(0, 0, 1);\n  var tempVector = new Vector3();\n  var dirVector = new Vector3();\n  var alignVector = new Vector3();\n  var tempMatrix = new Matrix4();\n  var identityQuaternion = new Quaternion();\n\n  this.updateMatrixWorld = function () {\n    var space = this.space;\n    this.position.copy(this.worldPosition);\n    if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n    unitX.set(1, 0, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion);\n    unitY.set(0, 1, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion);\n    unitZ.set(0, 0, 1).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n    alignVector.copy(unitY);\n\n    switch (this.mode) {\n      case 'translate':\n      case 'scale':\n        switch (this.axis) {\n          case 'X':\n            alignVector.copy(this.eye).cross(unitX);\n            dirVector.copy(unitX).cross(alignVector);\n            break;\n\n          case 'Y':\n            alignVector.copy(this.eye).cross(unitY);\n            dirVector.copy(unitY).cross(alignVector);\n            break;\n\n          case 'Z':\n            alignVector.copy(this.eye).cross(unitZ);\n            dirVector.copy(unitZ).cross(alignVector);\n            break;\n\n          case 'XY':\n            dirVector.copy(unitZ);\n            break;\n\n          case 'YZ':\n            dirVector.copy(unitX);\n            break;\n\n          case 'XZ':\n            alignVector.copy(unitZ);\n            dirVector.copy(unitY);\n            break;\n\n          case 'XYZ':\n          case 'E':\n            dirVector.set(0, 0, 0);\n            break;\n        }\n\n        break;\n\n      case 'rotate':\n      default:\n        // special case for rotate\n        dirVector.set(0, 0, 0);\n    }\n\n    if (dirVector.length() === 0) {\n      // If in rotate mode, make the plane parallel to camera\n      this.quaternion.copy(this.cameraQuaternion);\n    } else {\n      tempMatrix.lookAt(tempVector.set(0, 0, 0), dirVector, alignVector);\n      this.quaternion.setFromRotationMatrix(tempMatrix);\n    }\n\n    Object3D.prototype.updateMatrixWorld.call(this);\n  };\n};\n\nTransformControlsPlane.prototype = Object.assign(Object.create(Mesh.prototype), {\n  constructor: TransformControlsPlane,\n  isTransformControlsPlane: true\n});\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };","import { Euler, EventDispatcher, Vector3 } from \"../../../build/three.module.js\";\n\nvar PointerLockControls = function PointerLockControls(camera, domElement) {\n  if (domElement === undefined) {\n    console.warn('THREE.PointerLockControls: The second parameter \"domElement\" is now mandatory.');\n    domElement = document.body;\n  }\n\n  this.domElement = domElement;\n  this.isLocked = false; // Set to constrain the pitch of the camera\n  // Range is 0 to Math.PI radians\n\n  this.minPolarAngle = 0; // radians\n\n  this.maxPolarAngle = Math.PI; // radians\n  //\n  // internals\n  //\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var lockEvent = {\n    type: 'lock'\n  };\n  var unlockEvent = {\n    type: 'unlock'\n  };\n  var euler = new Euler(0, 0, 0, 'YXZ');\n  var PI_2 = Math.PI / 2;\n  var vec = new Vector3();\n\n  function onMouseMove(event) {\n    if (scope.isLocked === false) return;\n    var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n    var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n    euler.setFromQuaternion(camera.quaternion);\n    euler.y -= movementX * 0.002;\n    euler.x -= movementY * 0.002;\n    euler.x = Math.max(PI_2 - scope.maxPolarAngle, Math.min(PI_2 - scope.minPolarAngle, euler.x));\n    camera.quaternion.setFromEuler(euler);\n    scope.dispatchEvent(changeEvent);\n  }\n\n  function onPointerlockChange() {\n    if (scope.domElement.ownerDocument.pointerLockElement === scope.domElement) {\n      scope.dispatchEvent(lockEvent);\n      scope.isLocked = true;\n    } else {\n      scope.dispatchEvent(unlockEvent);\n      scope.isLocked = false;\n    }\n  }\n\n  function onPointerlockError() {\n    console.error('THREE.PointerLockControls: Unable to use Pointer Lock API');\n  }\n\n  this.connect = function () {\n    scope.domElement.ownerDocument.addEventListener('mousemove', onMouseMove, false);\n    scope.domElement.ownerDocument.addEventListener('pointerlockchange', onPointerlockChange, false);\n    scope.domElement.ownerDocument.addEventListener('pointerlockerror', onPointerlockError, false);\n  };\n\n  this.disconnect = function () {\n    scope.domElement.ownerDocument.removeEventListener('mousemove', onMouseMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerlockchange', onPointerlockChange, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerlockerror', onPointerlockError, false);\n  };\n\n  this.dispose = function () {\n    this.disconnect();\n  };\n\n  this.getObject = function () {\n    // retaining this method for backward compatibility\n    return camera;\n  };\n\n  this.getDirection = function () {\n    var direction = new Vector3(0, 0, -1);\n    return function (v) {\n      return v.copy(direction).applyQuaternion(camera.quaternion);\n    };\n  }();\n\n  this.moveForward = function (distance) {\n    // move forward parallel to the xz-plane\n    // assumes camera.up is y-up\n    vec.setFromMatrixColumn(camera.matrix, 0);\n    vec.crossVectors(camera.up, vec);\n    camera.position.addScaledVector(vec, distance);\n  };\n\n  this.moveRight = function (distance) {\n    vec.setFromMatrixColumn(camera.matrix, 0);\n    camera.position.addScaledVector(vec, distance);\n  };\n\n  this.lock = function () {\n    this.domElement.requestPointerLock();\n  };\n\n  this.unlock = function () {\n    scope.domElement.ownerDocument.exitPointerLock();\n  };\n\n  this.connect();\n};\n\nPointerLockControls.prototype = Object.create(EventDispatcher.prototype);\nPointerLockControls.prototype.constructor = PointerLockControls;\nexport { PointerLockControls };","import { BufferAttribute, BufferGeometry, FileLoader, Loader } from \"../../../build/three.module.js\";\n\nvar DRACOLoader = function DRACOLoader(manager) {\n  Loader.call(this, manager);\n  this.decoderPath = '';\n  this.decoderConfig = {};\n  this.decoderBinary = null;\n  this.decoderPending = null;\n  this.workerLimit = 4;\n  this.workerPool = [];\n  this.workerNextTaskID = 1;\n  this.workerSourceURL = '';\n  this.defaultAttributeIDs = {\n    position: 'POSITION',\n    normal: 'NORMAL',\n    color: 'COLOR',\n    uv: 'TEX_COORD'\n  };\n  this.defaultAttributeTypes = {\n    position: 'Float32Array',\n    normal: 'Float32Array',\n    color: 'Float32Array',\n    uv: 'Float32Array'\n  };\n};\n\nDRACOLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n  constructor: DRACOLoader,\n  setDecoderPath: function setDecoderPath(path) {\n    this.decoderPath = path;\n    return this;\n  },\n  setDecoderConfig: function setDecoderConfig(config) {\n    this.decoderConfig = config;\n    return this;\n  },\n  setWorkerLimit: function setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit;\n    return this;\n  },\n\n  /** @deprecated */\n  setVerbosity: function setVerbosity() {\n    console.warn('THREE.DRACOLoader: The .setVerbosity() method has been removed.');\n  },\n\n  /** @deprecated */\n  setDrawMode: function setDrawMode() {\n    console.warn('THREE.DRACOLoader: The .setDrawMode() method has been removed.');\n  },\n\n  /** @deprecated */\n  setSkipDequantization: function setSkipDequantization() {\n    console.warn('THREE.DRACOLoader: The .setSkipDequantization() method has been removed.');\n  },\n  load: function load(url, onLoad, onProgress, onError) {\n    var _this = this;\n\n    var loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (buffer) {\n      var taskConfig = {\n        attributeIDs: _this.defaultAttributeIDs,\n        attributeTypes: _this.defaultAttributeTypes,\n        useUniqueIDs: false\n      };\n\n      _this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError);\n    }, onProgress, onError);\n  },\n\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n  decodeDracoFile: function decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    var taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs\n    };\n    this.decodeGeometry(buffer, taskConfig).then(callback);\n  },\n  decodeGeometry: function decodeGeometry(buffer, taskConfig) {\n    var _this2 = this;\n\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (var attribute in taskConfig.attributeTypes) {\n      var type = taskConfig.attributeTypes[attribute];\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name;\n      }\n    } //\n\n\n    var taskKey = JSON.stringify(taskConfig); // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n\n    if (DRACOLoader.taskCache.has(buffer)) {\n      var cachedTask = DRACOLoader.taskCache.get(buffer);\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise;\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error('THREE.DRACOLoader: Unable to re-decode a buffer with different ' + 'settings. Buffer has already been transferred.');\n      }\n    } //\n\n\n    var worker;\n    var taskID = this.workerNextTaskID++;\n    var taskCost = buffer.byteLength; // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n\n    var geometryPending = this._getWorker(taskID, taskCost).then(function (_worker) {\n      worker = _worker;\n      return new Promise(function (resolve, reject) {\n        worker._callbacks[taskID] = {\n          resolve: resolve,\n          reject: reject\n        };\n        worker.postMessage({\n          type: 'decode',\n          id: taskID,\n          taskConfig: taskConfig,\n          buffer: buffer\n        }, [buffer]); // this.debug();\n      });\n    }).then(function (message) {\n      return _this2._createGeometry(message.geometry);\n    }); // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\n\n    geometryPending.catch(function () {\n      return true;\n    }).then(function () {\n      if (worker && taskID) {\n        _this2._releaseTask(worker, taskID); // this.debug();\n\n      }\n    }); // Cache the task result.\n\n    DRACOLoader.taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending\n    });\n    return geometryPending;\n  },\n  _createGeometry: function _createGeometry(geometryData) {\n    var geometry = new BufferGeometry();\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1));\n    }\n\n    for (var i = 0; i < geometryData.attributes.length; i++) {\n      var attribute = geometryData.attributes[i];\n      var name = attribute.name;\n      var array = attribute.array;\n      var itemSize = attribute.itemSize;\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize));\n    }\n\n    return geometry;\n  },\n  _loadLibrary: function _loadLibrary(url, responseType) {\n    var loader = new FileLoader(this.manager);\n    loader.setPath(this.decoderPath);\n    loader.setResponseType(responseType);\n    loader.setWithCredentials(this.withCredentials);\n    return new Promise(function (resolve, reject) {\n      loader.load(url, resolve, undefined, reject);\n    });\n  },\n  preload: function preload() {\n    this._initDecoder();\n\n    return this;\n  },\n  _initDecoder: function _initDecoder() {\n    var _this3 = this;\n\n    if (this.decoderPending) return this.decoderPending;\n    var useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n    var librariesPending = [];\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'));\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'));\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'));\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then(function (libraries) {\n      var jsContent = libraries[0];\n\n      if (!useJS) {\n        _this3.decoderConfig.wasmBinary = libraries[1];\n      }\n\n      var fn = DRACOLoader.DRACOWorker.toString();\n      var body = ['/* draco decoder */', jsContent, '', '/* worker */', fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}'))].join('\\n');\n      _this3.workerSourceURL = URL.createObjectURL(new Blob([body]));\n    });\n    return this.decoderPending;\n  },\n  _getWorker: function _getWorker(taskID, taskCost) {\n    var _this4 = this;\n\n    return this._initDecoder().then(function () {\n      if (_this4.workerPool.length < _this4.workerLimit) {\n        var worker = new Worker(_this4.workerSourceURL);\n        worker._callbacks = {};\n        worker._taskCosts = {};\n        worker._taskLoad = 0;\n        worker.postMessage({\n          type: 'init',\n          decoderConfig: _this4.decoderConfig\n        });\n\n        worker.onmessage = function (e) {\n          var message = e.data;\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message);\n\n              break;\n\n            case 'error':\n              worker._callbacks[message.id].reject(message);\n\n              break;\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"');\n          }\n        };\n\n        _this4.workerPool.push(worker);\n      } else {\n        _this4.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1;\n        });\n      }\n\n      var worker = _this4.workerPool[_this4.workerPool.length - 1];\n      worker._taskCosts[taskID] = taskCost;\n      worker._taskLoad += taskCost;\n      return worker;\n    });\n  },\n  _releaseTask: function _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID];\n    delete worker._callbacks[taskID];\n    delete worker._taskCosts[taskID];\n  },\n  debug: function debug() {\n    console.log('Task load: ', this.workerPool.map(function (worker) {\n      return worker._taskLoad;\n    }));\n  },\n  dispose: function dispose() {\n    for (var i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate();\n    }\n\n    this.workerPool.length = 0;\n    return this;\n  }\n});\n/* WEB WORKER */\n\nDRACOLoader.DRACOWorker = function () {\n  var decoderConfig;\n  var decoderPending;\n\n  onmessage = function onmessage(e) {\n    var message = e.data;\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig;\n        decoderPending = new Promise(function (resolve\n        /*, reject*/\n        ) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({\n              draco: draco\n            });\n          };\n\n          DracoDecoderModule(decoderConfig); // eslint-disable-line no-undef\n        });\n        break;\n\n      case 'decode':\n        var buffer = message.buffer;\n        var taskConfig = message.taskConfig;\n        decoderPending.then(function (module) {\n          var draco = module.draco;\n          var decoder = new draco.Decoder();\n          var decoderBuffer = new draco.DecoderBuffer();\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength);\n\n          try {\n            var geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig);\n            var buffers = geometry.attributes.map(function (attr) {\n              return attr.array.buffer;\n            });\n            if (geometry.index) buffers.push(geometry.index.array.buffer);\n            self.postMessage({\n              type: 'decode',\n              id: message.id,\n              geometry: geometry\n            }, buffers);\n          } catch (error) {\n            console.error(error);\n            self.postMessage({\n              type: 'error',\n              id: message.id,\n              error: error.message\n            });\n          } finally {\n            draco.destroy(decoderBuffer);\n            draco.destroy(decoder);\n          }\n        });\n        break;\n    }\n  };\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    var attributeIDs = taskConfig.attributeIDs;\n    var attributeTypes = taskConfig.attributeTypes;\n    var dracoGeometry;\n    var decodingStatus;\n    var geometryType = decoder.GetEncodedGeometryType(decoderBuffer);\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh();\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry);\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud();\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry);\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.');\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg());\n    }\n\n    var geometry = {\n      index: null,\n      attributes: []\n    }; // Gather all vertex attributes.\n\n    for (var attributeName in attributeIDs) {\n      var attributeType = self[attributeTypes[attributeName]];\n      var attribute;\n      var attributeID; // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName];\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID);\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]]);\n        if (attributeID === -1) continue;\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID);\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute));\n    } // Add index.\n\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry);\n    }\n\n    draco.destroy(dracoGeometry);\n    return geometry;\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    var numFaces = dracoGeometry.num_faces();\n    var numIndices = numFaces * 3;\n    var byteLength = numIndices * 4;\n\n    var ptr = draco._malloc(byteLength);\n\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);\n    var index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice();\n\n    draco._free(ptr);\n\n    return {\n      array: index,\n      itemSize: 1\n    };\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    var numComponents = attribute.num_components();\n    var numPoints = dracoGeometry.num_points();\n    var numValues = numPoints * numComponents;\n    var byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n    var dataType = getDracoDataType(draco, attributeType);\n\n    var ptr = draco._malloc(byteLength);\n\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr);\n    var array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice();\n\n    draco._free(ptr);\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents\n    };\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32;\n\n      case Int8Array:\n        return draco.DT_INT8;\n\n      case Int16Array:\n        return draco.DT_INT16;\n\n      case Int32Array:\n        return draco.DT_INT32;\n\n      case Uint8Array:\n        return draco.DT_UINT8;\n\n      case Uint16Array:\n        return draco.DT_UINT16;\n\n      case Uint32Array:\n        return draco.DT_UINT32;\n    }\n  }\n};\n\nDRACOLoader.taskCache = new WeakMap();\n/** Deprecated static methods */\n\n/** @deprecated */\n\nDRACOLoader.setDecoderPath = function () {\n  console.warn('THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.');\n};\n/** @deprecated */\n\n\nDRACOLoader.setDecoderConfig = function () {\n  console.warn('THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.');\n};\n/** @deprecated */\n\n\nDRACOLoader.releaseDecoderModule = function () {\n  console.warn('THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.');\n};\n/** @deprecated */\n\n\nDRACOLoader.getDecoderModule = function () {\n  console.warn('THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.');\n};\n\nexport { DRACOLoader };","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */\nvar mod = {},\n    l = void 0,\n    aa = mod;\n\nfunction r(c, d) {\n  var a = c.split(\".\"),\n      b = aa;\n  !(a[0] in b) && b.execScript && b.execScript(\"var \" + a[0]);\n\n  for (var e; a.length && (e = a.shift());) {\n    !a.length && d !== l ? b[e] = d : b = b[e] ? b[e] : b[e] = {};\n  }\n}\n\n;\nvar t = \"undefined\" !== typeof Uint8Array && \"undefined\" !== typeof Uint16Array && \"undefined\" !== typeof Uint32Array && \"undefined\" !== typeof DataView;\n\nfunction v(c) {\n  var d = c.length,\n      a = 0,\n      b = Number.POSITIVE_INFINITY,\n      e,\n      f,\n      g,\n      h,\n      k,\n      m,\n      n,\n      p,\n      s,\n      x;\n\n  for (p = 0; p < d; ++p) {\n    c[p] > a && (a = c[p]), c[p] < b && (b = c[p]);\n  }\n\n  e = 1 << a;\n  f = new (t ? Uint32Array : Array)(e);\n  g = 1;\n  h = 0;\n\n  for (k = 2; g <= a;) {\n    for (p = 0; p < d; ++p) {\n      if (c[p] === g) {\n        m = 0;\n        n = h;\n\n        for (s = 0; s < g; ++s) {\n          m = m << 1 | n & 1, n >>= 1;\n        }\n\n        x = g << 16 | p;\n\n        for (s = m; s < e; s += k) {\n          f[s] = x;\n        }\n\n        ++h;\n      }\n    }\n\n    ++g;\n    h <<= 1;\n    k <<= 1;\n  }\n\n  return [f, a, b];\n}\n\n;\n\nfunction w(c, d) {\n  this.g = [];\n  this.h = 32768;\n  this.d = this.f = this.a = this.l = 0;\n  this.input = t ? new Uint8Array(c) : c;\n  this.m = !1;\n  this.i = y;\n  this.r = !1;\n  if (d || !(d = {})) d.index && (this.a = d.index), d.bufferSize && (this.h = d.bufferSize), d.bufferType && (this.i = d.bufferType), d.resize && (this.r = d.resize);\n\n  switch (this.i) {\n    case A:\n      this.b = 32768;\n      this.c = new (t ? Uint8Array : Array)(32768 + this.h + 258);\n      break;\n\n    case y:\n      this.b = 0;\n      this.c = new (t ? Uint8Array : Array)(this.h);\n      this.e = this.z;\n      this.n = this.v;\n      this.j = this.w;\n      break;\n\n    default:\n      throw Error(\"invalid inflate mode\");\n  }\n}\n\nvar A = 0,\n    y = 1,\n    B = {\n  t: A,\n  s: y\n};\n\nw.prototype.k = function () {\n  for (; !this.m;) {\n    var c = C(this, 3);\n    c & 1 && (this.m = !0);\n    c >>>= 1;\n\n    switch (c) {\n      case 0:\n        var d = this.input,\n            a = this.a,\n            b = this.c,\n            e = this.b,\n            f = d.length,\n            g = l,\n            h = l,\n            k = b.length,\n            m = l;\n        this.d = this.f = 0;\n        if (a + 1 >= f) throw Error(\"invalid uncompressed block header: LEN\");\n        g = d[a++] | d[a++] << 8;\n        if (a + 1 >= f) throw Error(\"invalid uncompressed block header: NLEN\");\n        h = d[a++] | d[a++] << 8;\n        if (g === ~h) throw Error(\"invalid uncompressed block header: length verify\");\n        if (a + g > d.length) throw Error(\"input buffer is broken\");\n\n        switch (this.i) {\n          case A:\n            for (; e + g > b.length;) {\n              m = k - e;\n              g -= m;\n              if (t) b.set(d.subarray(a, a + m), e), e += m, a += m;else for (; m--;) {\n                b[e++] = d[a++];\n              }\n              this.b = e;\n              b = this.e();\n              e = this.b;\n            }\n\n            break;\n\n          case y:\n            for (; e + g > b.length;) {\n              b = this.e({\n                p: 2\n              });\n            }\n\n            break;\n\n          default:\n            throw Error(\"invalid inflate mode\");\n        }\n\n        if (t) b.set(d.subarray(a, a + g), e), e += g, a += g;else for (; g--;) {\n          b[e++] = d[a++];\n        }\n        this.a = a;\n        this.b = e;\n        this.c = b;\n        break;\n\n      case 1:\n        this.j(ba, ca);\n        break;\n\n      case 2:\n        for (var n = C(this, 5) + 257, p = C(this, 5) + 1, s = C(this, 4) + 4, x = new (t ? Uint8Array : Array)(D.length), S = l, T = l, U = l, u = l, M = l, F = l, z = l, q = l, V = l, q = 0; q < s; ++q) {\n          x[D[q]] = C(this, 3);\n        }\n\n        if (!t) {\n          q = s;\n\n          for (s = x.length; q < s; ++q) {\n            x[D[q]] = 0;\n          }\n        }\n\n        S = v(x);\n        u = new (t ? Uint8Array : Array)(n + p);\n        q = 0;\n\n        for (V = n + p; q < V;) {\n          switch (M = E(this, S), M) {\n            case 16:\n              for (z = 3 + C(this, 2); z--;) {\n                u[q++] = F;\n              }\n\n              break;\n\n            case 17:\n              for (z = 3 + C(this, 3); z--;) {\n                u[q++] = 0;\n              }\n\n              F = 0;\n              break;\n\n            case 18:\n              for (z = 11 + C(this, 7); z--;) {\n                u[q++] = 0;\n              }\n\n              F = 0;\n              break;\n\n            default:\n              F = u[q++] = M;\n          }\n        }\n\n        T = t ? v(u.subarray(0, n)) : v(u.slice(0, n));\n        U = t ? v(u.subarray(n)) : v(u.slice(n));\n        this.j(T, U);\n        break;\n\n      default:\n        throw Error(\"unknown BTYPE: \" + c);\n    }\n  }\n\n  return this.n();\n};\n\nvar G = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],\n    D = t ? new Uint16Array(G) : G,\n    H = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258],\n    I = t ? new Uint16Array(H) : H,\n    J = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0],\n    K = t ? new Uint8Array(J) : J,\n    L = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577],\n    da = t ? new Uint16Array(L) : L,\n    ea = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],\n    N = t ? new Uint8Array(ea) : ea,\n    O = new (t ? Uint8Array : Array)(288),\n    P,\n    fa;\nP = 0;\n\nfor (fa = O.length; P < fa; ++P) {\n  O[P] = 143 >= P ? 8 : 255 >= P ? 9 : 279 >= P ? 7 : 8;\n}\n\nvar ba = v(O),\n    Q = new (t ? Uint8Array : Array)(30),\n    R,\n    ga;\nR = 0;\n\nfor (ga = Q.length; R < ga; ++R) {\n  Q[R] = 5;\n}\n\nvar ca = v(Q);\n\nfunction C(c, d) {\n  for (var a = c.f, b = c.d, e = c.input, f = c.a, g = e.length, h; b < d;) {\n    if (f >= g) throw Error(\"input buffer is broken\");\n    a |= e[f++] << b;\n    b += 8;\n  }\n\n  h = a & (1 << d) - 1;\n  c.f = a >>> d;\n  c.d = b - d;\n  c.a = f;\n  return h;\n}\n\nfunction E(c, d) {\n  for (var a = c.f, b = c.d, e = c.input, f = c.a, g = e.length, h = d[0], k = d[1], m, n; b < k && !(f >= g);) {\n    a |= e[f++] << b, b += 8;\n  }\n\n  m = h[a & (1 << k) - 1];\n  n = m >>> 16;\n  if (n > b) throw Error(\"invalid code length: \" + n);\n  c.f = a >> n;\n  c.d = b - n;\n  c.a = f;\n  return m & 65535;\n}\n\nw.prototype.j = function (c, d) {\n  var a = this.c,\n      b = this.b;\n  this.o = c;\n\n  for (var e = a.length - 258, f, g, h, k; 256 !== (f = E(this, c));) {\n    if (256 > f) b >= e && (this.b = b, a = this.e(), b = this.b), a[b++] = f;else {\n      g = f - 257;\n      k = I[g];\n      0 < K[g] && (k += C(this, K[g]));\n      f = E(this, d);\n      h = da[f];\n      0 < N[f] && (h += C(this, N[f]));\n      b >= e && (this.b = b, a = this.e(), b = this.b);\n\n      for (; k--;) {\n        a[b] = a[b++ - h];\n      }\n    }\n  }\n\n  for (; 8 <= this.d;) {\n    this.d -= 8, this.a--;\n  }\n\n  this.b = b;\n};\n\nw.prototype.w = function (c, d) {\n  var a = this.c,\n      b = this.b;\n  this.o = c;\n\n  for (var e = a.length, f, g, h, k; 256 !== (f = E(this, c));) {\n    if (256 > f) b >= e && (a = this.e(), e = a.length), a[b++] = f;else {\n      g = f - 257;\n      k = I[g];\n      0 < K[g] && (k += C(this, K[g]));\n      f = E(this, d);\n      h = da[f];\n      0 < N[f] && (h += C(this, N[f]));\n      b + k > e && (a = this.e(), e = a.length);\n\n      for (; k--;) {\n        a[b] = a[b++ - h];\n      }\n    }\n  }\n\n  for (; 8 <= this.d;) {\n    this.d -= 8, this.a--;\n  }\n\n  this.b = b;\n};\n\nw.prototype.e = function () {\n  var c = new (t ? Uint8Array : Array)(this.b - 32768),\n      d = this.b - 32768,\n      a,\n      b,\n      e = this.c;\n  if (t) c.set(e.subarray(32768, c.length));else {\n    a = 0;\n\n    for (b = c.length; a < b; ++a) {\n      c[a] = e[a + 32768];\n    }\n  }\n  this.g.push(c);\n  this.l += c.length;\n  if (t) e.set(e.subarray(d, d + 32768));else for (a = 0; 32768 > a; ++a) {\n    e[a] = e[d + a];\n  }\n  this.b = 32768;\n  return e;\n};\n\nw.prototype.z = function (c) {\n  var d,\n      a = this.input.length / this.a + 1 | 0,\n      b,\n      e,\n      f,\n      g = this.input,\n      h = this.c;\n  c && (\"number\" === typeof c.p && (a = c.p), \"number\" === typeof c.u && (a += c.u));\n  2 > a ? (b = (g.length - this.a) / this.o[2], f = 258 * (b / 2) | 0, e = f < h.length ? h.length + f : h.length << 1) : e = h.length * a;\n  t ? (d = new Uint8Array(e), d.set(h)) : d = h;\n  return this.c = d;\n};\n\nw.prototype.n = function () {\n  var c = 0,\n      d = this.c,\n      a = this.g,\n      b,\n      e = new (t ? Uint8Array : Array)(this.l + (this.b - 32768)),\n      f,\n      g,\n      h,\n      k;\n  if (0 === a.length) return t ? this.c.subarray(32768, this.b) : this.c.slice(32768, this.b);\n  f = 0;\n\n  for (g = a.length; f < g; ++f) {\n    b = a[f];\n    h = 0;\n\n    for (k = b.length; h < k; ++h) {\n      e[c++] = b[h];\n    }\n  }\n\n  f = 32768;\n\n  for (g = this.b; f < g; ++f) {\n    e[c++] = d[f];\n  }\n\n  this.g = [];\n  return this.buffer = e;\n};\n\nw.prototype.v = function () {\n  var c,\n      d = this.b;\n  t ? this.r ? (c = new Uint8Array(d), c.set(this.c.subarray(0, d))) : c = this.c.subarray(0, d) : (this.c.length > d && (this.c.length = d), c = this.c);\n  return this.buffer = c;\n};\n\nfunction W(c, d) {\n  var a, b;\n  this.input = c;\n  this.a = 0;\n  if (d || !(d = {})) d.index && (this.a = d.index), d.verify && (this.A = d.verify);\n  a = c[this.a++];\n  b = c[this.a++];\n\n  switch (a & 15) {\n    case ha:\n      this.method = ha;\n      break;\n\n    default:\n      throw Error(\"unsupported compression method\");\n  }\n\n  if (0 !== ((a << 8) + b) % 31) throw Error(\"invalid fcheck flag:\" + ((a << 8) + b) % 31);\n  if (b & 32) throw Error(\"fdict flag is not supported\");\n  this.q = new w(c, {\n    index: this.a,\n    bufferSize: d.bufferSize,\n    bufferType: d.bufferType,\n    resize: d.resize\n  });\n}\n\nW.prototype.k = function () {\n  var c = this.input,\n      d,\n      a;\n  d = this.q.k();\n  this.a = this.q.a;\n\n  if (this.A) {\n    a = (c[this.a++] << 24 | c[this.a++] << 16 | c[this.a++] << 8 | c[this.a++]) >>> 0;\n    var b = d;\n\n    if (\"string\" === typeof b) {\n      var e = b.split(\"\"),\n          f,\n          g;\n      f = 0;\n\n      for (g = e.length; f < g; f++) {\n        e[f] = (e[f].charCodeAt(0) & 255) >>> 0;\n      }\n\n      b = e;\n    }\n\n    for (var h = 1, k = 0, m = b.length, n, p = 0; 0 < m;) {\n      n = 1024 < m ? 1024 : m;\n      m -= n;\n\n      do {\n        h += b[p++], k += h;\n      } while (--n);\n\n      h %= 65521;\n      k %= 65521;\n    }\n\n    if (a !== (k << 16 | h) >>> 0) throw Error(\"invalid adler-32 checksum\");\n  }\n\n  return d;\n};\n\nvar ha = 8;\nr(\"Zlib.Inflate\", W);\nr(\"Zlib.Inflate.prototype.decompress\", W.prototype.k);\nvar X = {\n  ADAPTIVE: B.s,\n  BLOCK: B.t\n},\n    Y,\n    Z,\n    $,\n    ia;\nif (Object.keys) Y = Object.keys(X);else for (Z in Y = [], $ = 0, X) {\n  Y[$++] = Z;\n}\n$ = 0;\n\nfor (ia = Y.length; $ < ia; ++$) {\n  Z = Y[$], r(\"Zlib.Inflate.BufferType.\" + Z, X[Z]);\n}\n\nvar Inflate = mod.Zlib.Inflate;\nexport { Inflate };","import { Vector3, Vector4 } from \"../../../build/three.module.js\";\n/**\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n **/\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\nvar NURBSUtils = {\n  /*\n  Finds knot vector span.\n  \tp : degree\n  u : parametric value\n  U : knot vector\n  \treturns the span\n  */\n  findSpan: function findSpan(p, u, U) {\n    var n = U.length - p - 1;\n\n    if (u >= U[n]) {\n      return n - 1;\n    }\n\n    if (u <= U[p]) {\n      return p;\n    }\n\n    var low = p;\n    var high = n;\n    var mid = Math.floor((low + high) / 2);\n\n    while (u < U[mid] || u >= U[mid + 1]) {\n      if (u < U[mid]) {\n        high = mid;\n      } else {\n        low = mid;\n      }\n\n      mid = Math.floor((low + high) / 2);\n    }\n\n    return mid;\n  },\n\n  /*\n  Calculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n  \tspan : span in which u lies\n  u    : parametric point\n  p    : degree\n  U    : knot vector\n  \treturns array[p+1] with basis functions values.\n  */\n  calcBasisFunctions: function calcBasisFunctions(span, u, p, U) {\n    var N = [];\n    var left = [];\n    var right = [];\n    N[0] = 1.0;\n\n    for (var j = 1; j <= p; ++j) {\n      left[j] = u - U[span + 1 - j];\n      right[j] = U[span + j] - u;\n      var saved = 0.0;\n\n      for (var r = 0; r < j; ++r) {\n        var rv = right[r + 1];\n        var lv = left[j - r];\n        var temp = N[r] / (rv + lv);\n        N[r] = saved + rv * temp;\n        saved = lv * temp;\n      }\n\n      N[j] = saved;\n    }\n\n    return N;\n  },\n\n  /*\n  Calculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n  \tp : degree of B-Spline\n  U : knot vector\n  P : control points (x, y, z, w)\n  u : parametric point\n  \treturns point for given u\n  */\n  calcBSplinePoint: function calcBSplinePoint(p, U, P, u) {\n    var span = this.findSpan(p, u, U);\n    var N = this.calcBasisFunctions(span, u, p, U);\n    var C = new Vector4(0, 0, 0, 0);\n\n    for (var j = 0; j <= p; ++j) {\n      var point = P[span - p + j];\n      var Nj = N[j];\n      var wNj = point.w * Nj;\n      C.x += point.x * wNj;\n      C.y += point.y * wNj;\n      C.z += point.z * wNj;\n      C.w += point.w * Nj;\n    }\n\n    return C;\n  },\n\n  /*\n  Calculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n  \tspan : span in which u lies\n  u    : parametric point\n  p    : degree\n  n    : number of derivatives to calculate\n  U    : knot vector\n  \treturns array[n+1][p+1] with basis functions derivatives\n  */\n  calcBasisFunctionDerivatives: function calcBasisFunctionDerivatives(span, u, p, n, U) {\n    var zeroArr = [];\n\n    for (var i = 0; i <= p; ++i) {\n      zeroArr[i] = 0.0;\n    }\n\n    var ders = [];\n\n    for (var i = 0; i <= n; ++i) {\n      ders[i] = zeroArr.slice(0);\n    }\n\n    var ndu = [];\n\n    for (var i = 0; i <= p; ++i) {\n      ndu[i] = zeroArr.slice(0);\n    }\n\n    ndu[0][0] = 1.0;\n    var left = zeroArr.slice(0);\n    var right = zeroArr.slice(0);\n\n    for (var j = 1; j <= p; ++j) {\n      left[j] = u - U[span + 1 - j];\n      right[j] = U[span + j] - u;\n      var saved = 0.0;\n\n      for (var r = 0; r < j; ++r) {\n        var rv = right[r + 1];\n        var lv = left[j - r];\n        ndu[j][r] = rv + lv;\n        var temp = ndu[r][j - 1] / ndu[j][r];\n        ndu[r][j] = saved + rv * temp;\n        saved = lv * temp;\n      }\n\n      ndu[j][j] = saved;\n    }\n\n    for (var j = 0; j <= p; ++j) {\n      ders[0][j] = ndu[j][p];\n    }\n\n    for (var r = 0; r <= p; ++r) {\n      var s1 = 0;\n      var s2 = 1;\n      var a = [];\n\n      for (var i = 0; i <= p; ++i) {\n        a[i] = zeroArr.slice(0);\n      }\n\n      a[0][0] = 1.0;\n\n      for (var k = 1; k <= n; ++k) {\n        var d = 0.0;\n        var rk = r - k;\n        var pk = p - k;\n\n        if (r >= k) {\n          a[s2][0] = a[s1][0] / ndu[pk + 1][rk];\n          d = a[s2][0] * ndu[rk][pk];\n        }\n\n        var j1 = rk >= -1 ? 1 : -rk;\n        var j2 = r - 1 <= pk ? k - 1 : p - r;\n\n        for (var j = j1; j <= j2; ++j) {\n          a[s2][j] = (a[s1][j] - a[s1][j - 1]) / ndu[pk + 1][rk + j];\n          d += a[s2][j] * ndu[rk + j][pk];\n        }\n\n        if (r <= pk) {\n          a[s2][k] = -a[s1][k - 1] / ndu[pk + 1][r];\n          d += a[s2][k] * ndu[r][pk];\n        }\n\n        ders[k][r] = d;\n        var j = s1;\n        s1 = s2;\n        s2 = j;\n      }\n    }\n\n    var r = p;\n\n    for (var k = 1; k <= n; ++k) {\n      for (var j = 0; j <= p; ++j) {\n        ders[k][j] *= r;\n      }\n\n      r *= p - k;\n    }\n\n    return ders;\n  },\n\n  /*\n  \tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n  \t\tp  : degree\n  \tU  : knot vector\n  \tP  : control points\n  \tu  : Parametric points\n  \tnd : number of derivatives\n  \t\treturns array[d+1] with derivatives\n  \t*/\n  calcBSplineDerivatives: function calcBSplineDerivatives(p, U, P, u, nd) {\n    var du = nd < p ? nd : p;\n    var CK = [];\n    var span = this.findSpan(p, u, U);\n    var nders = this.calcBasisFunctionDerivatives(span, u, p, du, U);\n    var Pw = [];\n\n    for (var i = 0; i < P.length; ++i) {\n      var point = P[i].clone();\n      var w = point.w;\n      point.x *= w;\n      point.y *= w;\n      point.z *= w;\n      Pw[i] = point;\n    }\n\n    for (var k = 0; k <= du; ++k) {\n      var point = Pw[span - p].clone().multiplyScalar(nders[k][0]);\n\n      for (var j = 1; j <= p; ++j) {\n        point.add(Pw[span - p + j].clone().multiplyScalar(nders[k][j]));\n      }\n\n      CK[k] = point;\n    }\n\n    for (var k = du + 1; k <= nd + 1; ++k) {\n      CK[k] = new Vector4(0, 0, 0);\n    }\n\n    return CK;\n  },\n\n  /*\n  Calculate \"K over I\"\n  \treturns k!/(i!(k-i)!)\n  */\n  calcKoverI: function calcKoverI(k, i) {\n    var nom = 1;\n\n    for (var j = 2; j <= k; ++j) {\n      nom *= j;\n    }\n\n    var denom = 1;\n\n    for (var j = 2; j <= i; ++j) {\n      denom *= j;\n    }\n\n    for (var j = 2; j <= k - i; ++j) {\n      denom *= j;\n    }\n\n    return nom / denom;\n  },\n\n  /*\n  Calculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n  \tPders : result of function calcBSplineDerivatives\n  \treturns array with derivatives for rational curve.\n  */\n  calcRationalCurveDerivatives: function calcRationalCurveDerivatives(Pders) {\n    var nd = Pders.length;\n    var Aders = [];\n    var wders = [];\n\n    for (var i = 0; i < nd; ++i) {\n      var point = Pders[i];\n      Aders[i] = new Vector3(point.x, point.y, point.z);\n      wders[i] = point.w;\n    }\n\n    var CK = [];\n\n    for (var k = 0; k < nd; ++k) {\n      var v = Aders[k].clone();\n\n      for (var i = 1; i <= k; ++i) {\n        v.sub(CK[k - i].clone().multiplyScalar(this.calcKoverI(k, i) * wders[i]));\n      }\n\n      CK[k] = v.divideScalar(wders[0]);\n    }\n\n    return CK;\n  },\n\n  /*\n  Calculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n  \tp  : degree\n  U  : knot vector\n  P  : control points in homogeneous space\n  u  : parametric points\n  nd : number of derivatives\n  \treturns array with derivatives.\n  */\n  calcNURBSDerivatives: function calcNURBSDerivatives(p, U, P, u, nd) {\n    var Pders = this.calcBSplineDerivatives(p, U, P, u, nd);\n    return this.calcRationalCurveDerivatives(Pders);\n  },\n\n  /*\n  Calculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n  \tp1, p2 : degrees of B-Spline surface\n  U1, U2 : knot vectors\n  P      : control points (x, y, z, w)\n  u, v   : parametric values\n  \treturns point for given (u, v)\n  */\n  calcSurfacePoint: function calcSurfacePoint(p, q, U, V, P, u, v, target) {\n    var uspan = this.findSpan(p, u, U);\n    var vspan = this.findSpan(q, v, V);\n    var Nu = this.calcBasisFunctions(uspan, u, p, U);\n    var Nv = this.calcBasisFunctions(vspan, v, q, V);\n    var temp = [];\n\n    for (var l = 0; l <= q; ++l) {\n      temp[l] = new Vector4(0, 0, 0, 0);\n\n      for (var k = 0; k <= p; ++k) {\n        var point = P[uspan - p + k][vspan - q + l].clone();\n        var w = point.w;\n        point.x *= w;\n        point.y *= w;\n        point.z *= w;\n        temp[l].add(point.multiplyScalar(Nu[k]));\n      }\n    }\n\n    var Sw = new Vector4(0, 0, 0, 0);\n\n    for (var l = 0; l <= q; ++l) {\n      Sw.add(temp[l].multiplyScalar(Nv[l]));\n    }\n\n    Sw.divideScalar(Sw.w);\n    target.set(Sw.x, Sw.y, Sw.z);\n  }\n};\nexport { NURBSUtils };","import { Curve, Vector3, Vector4 } from \"../../../build/three.module.js\";\nimport { NURBSUtils } from \"../curves/NURBSUtils.js\";\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nvar NURBSCurve = function NURBSCurve(degree, knots\n/* array of reals */\n, controlPoints\n/* array of Vector(2|3|4) */\n, startKnot\n/* index in knots */\n, endKnot\n/* index in knots */\n) {\n  Curve.call(this);\n  this.degree = degree;\n  this.knots = knots;\n  this.controlPoints = []; // Used by periodic NURBS to remove hidden spans\n\n  this.startKnot = startKnot || 0;\n  this.endKnot = endKnot || this.knots.length - 1;\n\n  for (var i = 0; i < controlPoints.length; ++i) {\n    // ensure Vector4 for control points\n    var point = controlPoints[i];\n    this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n  }\n};\n\nNURBSCurve.prototype = Object.create(Curve.prototype);\nNURBSCurve.prototype.constructor = NURBSCurve;\n\nNURBSCurve.prototype.getPoint = function (t, optionalTarget) {\n  var point = optionalTarget || new Vector3();\n  var u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]); // linear mapping t->u\n  // following results in (wx, wy, wz, w) homogeneous point\n\n  var hpoint = NURBSUtils.calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n\n  if (hpoint.w != 1.0) {\n    // project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n    hpoint.divideScalar(hpoint.w);\n  }\n\n  return point.set(hpoint.x, hpoint.y, hpoint.z);\n};\n\nNURBSCurve.prototype.getTangent = function (t, optionalTarget) {\n  var tangent = optionalTarget || new Vector3();\n  var u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n  var ders = NURBSUtils.calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n  tangent.copy(ders[1]).normalize();\n  return tangent;\n};\n\nexport { NURBSCurve };","import { AmbientLight, AnimationClip, Bone, BufferAttribute, BufferGeometry, ClampToEdgeWrapping, Color, DirectionalLight, EquirectangularReflectionMapping, Euler, FileLoader, Float32BufferAttribute, Group, Line, LineBasicMaterial, Loader, LoaderUtils, MathUtils, Matrix3, Matrix4, Mesh, MeshLambertMaterial, MeshPhongMaterial, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, PropertyBinding, Quaternion, QuaternionKeyframeTrack, RepeatWrapping, Skeleton, SkinnedMesh, SpotLight, Texture, TextureLoader, Uint16BufferAttribute, Vector3, Vector4, VectorKeyframeTrack, sRGBEncoding } from \"../../../build/three.module.js\";\nimport { Inflate } from \"../libs/inflate.module.min.js\";\nimport { NURBSCurve } from \"../curves/NURBSCurve.js\";\n/**\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\nvar FBXLoader = function () {\n  var fbxTree;\n  var connections;\n  var sceneGraph;\n\n  function FBXLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  FBXLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: FBXLoader,\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var path = scope.path === '' ? LoaderUtils.extractUrlBase(url) : scope.path;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(scope.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(scope.requestHeader);\n      loader.setWithCredentials(scope.withCredentials);\n      loader.load(url, function (buffer) {\n        try {\n          onLoad(scope.parse(buffer, path));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    },\n    parse: function parse(FBXBuffer, path) {\n      if (isFbxFormatBinary(FBXBuffer)) {\n        fbxTree = new BinaryParser().parse(FBXBuffer);\n      } else {\n        var FBXText = convertArrayBufferToString(FBXBuffer);\n\n        if (!isFbxFormatASCII(FBXText)) {\n          throw new Error('THREE.FBXLoader: Unknown format.');\n        }\n\n        if (getFbxVersion(FBXText) < 7000) {\n          throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion(FBXText));\n        }\n\n        fbxTree = new TextParser().parse(FBXText);\n      } // console.log( fbxTree );\n\n\n      var textureLoader = new TextureLoader(this.manager).setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n      return new FBXTreeParser(textureLoader, this.manager).parse(fbxTree);\n    }\n  }); // Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\n\n  function FBXTreeParser(textureLoader, manager) {\n    this.textureLoader = textureLoader;\n    this.manager = manager;\n  }\n\n  FBXTreeParser.prototype = {\n    constructor: FBXTreeParser,\n    parse: function parse() {\n      connections = this.parseConnections();\n      var images = this.parseImages();\n      var textures = this.parseTextures(images);\n      var materials = this.parseMaterials(textures);\n      var deformers = this.parseDeformers();\n      var geometryMap = new GeometryParser().parse(deformers);\n      this.parseScene(deformers, geometryMap, materials);\n      return sceneGraph;\n    },\n    // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n    // and details the connection type\n    parseConnections: function parseConnections() {\n      var connectionMap = new Map();\n\n      if ('Connections' in fbxTree) {\n        var rawConnections = fbxTree.Connections.connections;\n        rawConnections.forEach(function (rawConnection) {\n          var fromID = rawConnection[0];\n          var toID = rawConnection[1];\n          var relationship = rawConnection[2];\n\n          if (!connectionMap.has(fromID)) {\n            connectionMap.set(fromID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var parentRelationship = {\n            ID: toID,\n            relationship: relationship\n          };\n          connectionMap.get(fromID).parents.push(parentRelationship);\n\n          if (!connectionMap.has(toID)) {\n            connectionMap.set(toID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var childRelationship = {\n            ID: fromID,\n            relationship: relationship\n          };\n          connectionMap.get(toID).children.push(childRelationship);\n        });\n      }\n\n      return connectionMap;\n    },\n    // Parse FBXTree.Objects.Video for embedded image data\n    // These images are connected to textures in FBXTree.Objects.Textures\n    // via FBXTree.Connections.\n    parseImages: function parseImages() {\n      var images = {};\n      var blobs = {};\n\n      if ('Video' in fbxTree.Objects) {\n        var videoNodes = fbxTree.Objects.Video;\n\n        for (var nodeID in videoNodes) {\n          var videoNode = videoNodes[nodeID];\n          var id = parseInt(nodeID);\n          images[id] = videoNode.RelativeFilename || videoNode.Filename; // raw image data is in videoNode.Content\n\n          if ('Content' in videoNode) {\n            var arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\n            var base64Content = typeof videoNode.Content === 'string' && videoNode.Content !== '';\n\n            if (arrayBufferContent || base64Content) {\n              var image = this.parseImage(videoNodes[nodeID]);\n              blobs[videoNode.RelativeFilename || videoNode.Filename] = image;\n            }\n          }\n        }\n      }\n\n      for (var id in images) {\n        var filename = images[id];\n        if (blobs[filename] !== undefined) images[id] = blobs[filename];else images[id] = images[id].split('\\\\').pop();\n      }\n\n      return images;\n    },\n    // Parse embedded image data in FBXTree.Video.Content\n    parseImage: function parseImage(videoNode) {\n      var content = videoNode.Content;\n      var fileName = videoNode.RelativeFilename || videoNode.Filename;\n      var extension = fileName.slice(fileName.lastIndexOf('.') + 1).toLowerCase();\n      var type;\n\n      switch (extension) {\n        case 'bmp':\n          type = 'image/bmp';\n          break;\n\n        case 'jpg':\n        case 'jpeg':\n          type = 'image/jpeg';\n          break;\n\n        case 'png':\n          type = 'image/png';\n          break;\n\n        case 'tif':\n          type = 'image/tiff';\n          break;\n\n        case 'tga':\n          if (this.manager.getHandler('.tga') === null) {\n            console.warn('FBXLoader: TGA loader not found, skipping ', fileName);\n          }\n\n          type = 'image/tga';\n          break;\n\n        default:\n          console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\n          return;\n      }\n\n      if (typeof content === 'string') {\n        // ASCII format\n        return 'data:' + type + ';base64,' + content;\n      } else {\n        // Binary Format\n        var array = new Uint8Array(content);\n        return window.URL.createObjectURL(new Blob([array], {\n          type: type\n        }));\n      }\n    },\n    // Parse nodes in FBXTree.Objects.Texture\n    // These contain details such as UV scaling, cropping, rotation etc and are connected\n    // to images in FBXTree.Objects.Video\n    parseTextures: function parseTextures(images) {\n      var textureMap = new Map();\n\n      if ('Texture' in fbxTree.Objects) {\n        var textureNodes = fbxTree.Objects.Texture;\n\n        for (var nodeID in textureNodes) {\n          var texture = this.parseTexture(textureNodes[nodeID], images);\n          textureMap.set(parseInt(nodeID), texture);\n        }\n      }\n\n      return textureMap;\n    },\n    // Parse individual node in FBXTree.Objects.Texture\n    parseTexture: function parseTexture(textureNode, images) {\n      var texture = this.loadTexture(textureNode, images);\n      texture.ID = textureNode.id;\n      texture.name = textureNode.attrName;\n      var wrapModeU = textureNode.WrapModeU;\n      var wrapModeV = textureNode.WrapModeV;\n      var valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n      var valueV = wrapModeV !== undefined ? wrapModeV.value : 0; // http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n      // 0: repeat(default), 1: clamp\n\n      texture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n      texture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\n      if ('Scaling' in textureNode) {\n        var values = textureNode.Scaling.value;\n        texture.repeat.x = values[0];\n        texture.repeat.y = values[1];\n      }\n\n      return texture;\n    },\n    // load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n    loadTexture: function loadTexture(textureNode, images) {\n      var fileName;\n      var currentPath = this.textureLoader.path;\n      var children = connections.get(textureNode.id).children;\n\n      if (children !== undefined && children.length > 0 && images[children[0].ID] !== undefined) {\n        fileName = images[children[0].ID];\n\n        if (fileName.indexOf('blob:') === 0 || fileName.indexOf('data:') === 0) {\n          this.textureLoader.setPath(undefined);\n        }\n      }\n\n      var texture;\n      var extension = textureNode.FileName.slice(-3).toLowerCase();\n\n      if (extension === 'tga') {\n        var loader = this.manager.getHandler('.tga');\n\n        if (loader === null) {\n          console.warn('FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename);\n          texture = new Texture();\n        } else {\n          texture = loader.load(fileName);\n        }\n      } else if (extension === 'psd') {\n        console.warn('FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename);\n        texture = new Texture();\n      } else {\n        texture = this.textureLoader.load(fileName);\n      }\n\n      this.textureLoader.setPath(currentPath);\n      return texture;\n    },\n    // Parse nodes in FBXTree.Objects.Material\n    parseMaterials: function parseMaterials(textureMap) {\n      var materialMap = new Map();\n\n      if ('Material' in fbxTree.Objects) {\n        var materialNodes = fbxTree.Objects.Material;\n\n        for (var nodeID in materialNodes) {\n          var material = this.parseMaterial(materialNodes[nodeID], textureMap);\n          if (material !== null) materialMap.set(parseInt(nodeID), material);\n        }\n      }\n\n      return materialMap;\n    },\n    // Parse single node in FBXTree.Objects.Material\n    // Materials are connected to texture maps in FBXTree.Objects.Textures\n    // FBX format currently only supports Lambert and Phong shading models\n    parseMaterial: function parseMaterial(materialNode, textureMap) {\n      var ID = materialNode.id;\n      var name = materialNode.attrName;\n      var type = materialNode.ShadingModel; // Case where FBX wraps shading model in property object.\n\n      if (typeof type === 'object') {\n        type = type.value;\n      } // Ignore unused materials which don't have any connections.\n\n\n      if (!connections.has(ID)) return null;\n      var parameters = this.parseParameters(materialNode, textureMap, ID);\n      var material;\n\n      switch (type.toLowerCase()) {\n        case 'phong':\n          material = new MeshPhongMaterial();\n          break;\n\n        case 'lambert':\n          material = new MeshLambertMaterial();\n          break;\n\n        default:\n          console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type);\n          material = new MeshPhongMaterial();\n          break;\n      }\n\n      material.setValues(parameters);\n      material.name = name;\n      return material;\n    },\n    // Parse FBX material and return parameters suitable for a three.js material\n    // Also parse the texture map and return any textures associated with the material\n    parseParameters: function parseParameters(materialNode, textureMap, ID) {\n      var parameters = {};\n\n      if (materialNode.BumpFactor) {\n        parameters.bumpScale = materialNode.BumpFactor.value;\n      }\n\n      if (materialNode.Diffuse) {\n        parameters.color = new Color().fromArray(materialNode.Diffuse.value);\n      } else if (materialNode.DiffuseColor && materialNode.DiffuseColor.type === 'Color') {\n        // The blender exporter exports diffuse here instead of in materialNode.Diffuse\n        parameters.color = new Color().fromArray(materialNode.DiffuseColor.value);\n      }\n\n      if (materialNode.DisplacementFactor) {\n        parameters.displacementScale = materialNode.DisplacementFactor.value;\n      }\n\n      if (materialNode.Emissive) {\n        parameters.emissive = new Color().fromArray(materialNode.Emissive.value);\n      } else if (materialNode.EmissiveColor && materialNode.EmissiveColor.type === 'Color') {\n        // The blender exporter exports emissive color here instead of in materialNode.Emissive\n        parameters.emissive = new Color().fromArray(materialNode.EmissiveColor.value);\n      }\n\n      if (materialNode.EmissiveFactor) {\n        parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\n      }\n\n      if (materialNode.Opacity) {\n        parameters.opacity = parseFloat(materialNode.Opacity.value);\n      }\n\n      if (parameters.opacity < 1.0) {\n        parameters.transparent = true;\n      }\n\n      if (materialNode.ReflectionFactor) {\n        parameters.reflectivity = materialNode.ReflectionFactor.value;\n      }\n\n      if (materialNode.Shininess) {\n        parameters.shininess = materialNode.Shininess.value;\n      }\n\n      if (materialNode.Specular) {\n        parameters.specular = new Color().fromArray(materialNode.Specular.value);\n      } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color') {\n        // The blender exporter exports specular color here instead of in materialNode.Specular\n        parameters.specular = new Color().fromArray(materialNode.SpecularColor.value);\n      }\n\n      var scope = this;\n      connections.get(ID).children.forEach(function (child) {\n        var type = child.relationship;\n\n        switch (type) {\n          case 'Bump':\n            parameters.bumpMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'Maya|TEX_ao_map':\n            parameters.aoMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'DiffuseColor':\n          case 'Maya|TEX_color_map':\n            parameters.map = scope.getTexture(textureMap, child.ID);\n            parameters.map.encoding = sRGBEncoding;\n            break;\n\n          case 'DisplacementColor':\n            parameters.displacementMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'EmissiveColor':\n            parameters.emissiveMap = scope.getTexture(textureMap, child.ID);\n            parameters.emissiveMap.encoding = sRGBEncoding;\n            break;\n\n          case 'NormalMap':\n          case 'Maya|TEX_normal_map':\n            parameters.normalMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'ReflectionColor':\n            parameters.envMap = scope.getTexture(textureMap, child.ID);\n            parameters.envMap.mapping = EquirectangularReflectionMapping;\n            parameters.envMap.encoding = sRGBEncoding;\n            break;\n\n          case 'SpecularColor':\n            parameters.specularMap = scope.getTexture(textureMap, child.ID);\n            parameters.specularMap.encoding = sRGBEncoding;\n            break;\n\n          case 'TransparentColor':\n          case 'TransparencyFactor':\n            parameters.alphaMap = scope.getTexture(textureMap, child.ID);\n            parameters.transparent = true;\n            break;\n\n          case 'AmbientColor':\n          case 'ShininessExponent': // AKA glossiness map\n\n          case 'SpecularFactor': // AKA specularLevel\n\n          case 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\n          default:\n            console.warn('THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type);\n            break;\n        }\n      });\n      return parameters;\n    },\n    // get a texture from the textureMap for use by a material.\n    getTexture: function getTexture(textureMap, id) {\n      // if the texture is a layered texture, just use the first layer and issue a warning\n      if ('LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n        console.warn('THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.');\n        id = connections.get(id).children[0].ID;\n      }\n\n      return textureMap.get(id);\n    },\n    // Parse nodes in FBXTree.Objects.Deformer\n    // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n    // Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n    parseDeformers: function parseDeformers() {\n      var skeletons = {};\n      var morphTargets = {};\n\n      if ('Deformer' in fbxTree.Objects) {\n        var DeformerNodes = fbxTree.Objects.Deformer;\n\n        for (var nodeID in DeformerNodes) {\n          var deformerNode = DeformerNodes[nodeID];\n          var relationships = connections.get(parseInt(nodeID));\n\n          if (deformerNode.attrType === 'Skin') {\n            var skeleton = this.parseSkeleton(relationships, DeformerNodes);\n            skeleton.ID = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: skeleton attached to more than one geometry is not supported.');\n            skeleton.geometryID = relationships.parents[0].ID;\n            skeletons[nodeID] = skeleton;\n          } else if (deformerNode.attrType === 'BlendShape') {\n            var morphTarget = {\n              id: nodeID\n            };\n            morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\n            morphTarget.id = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: morph target attached to more than one geometry is not supported.');\n            morphTargets[nodeID] = morphTarget;\n          }\n        }\n      }\n\n      return {\n        skeletons: skeletons,\n        morphTargets: morphTargets\n      };\n    },\n    // Parse single nodes in FBXTree.Objects.Deformer\n    // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n    // Each skin node represents a skeleton and each cluster node represents a bone\n    parseSkeleton: function parseSkeleton(relationships, deformerNodes) {\n      var rawBones = [];\n      relationships.children.forEach(function (child) {\n        var boneNode = deformerNodes[child.ID];\n        if (boneNode.attrType !== 'Cluster') return;\n        var rawBone = {\n          ID: child.ID,\n          indices: [],\n          weights: [],\n          transformLink: new Matrix4().fromArray(boneNode.TransformLink.a) // transform: new Matrix4().fromArray( boneNode.Transform.a ),\n          // linkMode: boneNode.Mode,\n\n        };\n\n        if ('Indexes' in boneNode) {\n          rawBone.indices = boneNode.Indexes.a;\n          rawBone.weights = boneNode.Weights.a;\n        }\n\n        rawBones.push(rawBone);\n      });\n      return {\n        rawBones: rawBones,\n        bones: []\n      };\n    },\n    // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n    parseMorphTargets: function parseMorphTargets(relationships, deformerNodes) {\n      var rawMorphTargets = [];\n\n      for (var i = 0; i < relationships.children.length; i++) {\n        var child = relationships.children[i];\n        var morphTargetNode = deformerNodes[child.ID];\n        var rawMorphTarget = {\n          name: morphTargetNode.attrName,\n          initialWeight: morphTargetNode.DeformPercent,\n          id: morphTargetNode.id,\n          fullWeights: morphTargetNode.FullWeights.a\n        };\n        if (morphTargetNode.attrType !== 'BlendShapeChannel') return;\n        rawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function (child) {\n          return child.relationship === undefined;\n        })[0].ID;\n        rawMorphTargets.push(rawMorphTarget);\n      }\n\n      return rawMorphTargets;\n    },\n    // create the main Group() to be returned by the loader\n    parseScene: function parseScene(deformers, geometryMap, materialMap) {\n      sceneGraph = new Group();\n      var modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\n      var modelNodes = fbxTree.Objects.Model;\n      var scope = this;\n      modelMap.forEach(function (model) {\n        var modelNode = modelNodes[model.ID];\n        scope.setLookAtProperties(model, modelNode);\n        var parentConnections = connections.get(model.ID).parents;\n        parentConnections.forEach(function (connection) {\n          var parent = modelMap.get(connection.ID);\n          if (parent !== undefined) parent.add(model);\n        });\n\n        if (model.parent === null) {\n          sceneGraph.add(model);\n        }\n      });\n      this.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\n      this.createAmbientLight();\n      this.setupMorphMaterials();\n      sceneGraph.traverse(function (node) {\n        if (node.userData.transformData) {\n          if (node.parent) node.userData.transformData.parentMatrixWorld = node.parent.matrix;\n          var transform = generateTransform(node.userData.transformData);\n          node.applyMatrix4(transform);\n        }\n      });\n      var animations = new AnimationParser().parse(); // if all the models where already combined in a single group, just return that\n\n      if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n        sceneGraph.children[0].animations = animations;\n        sceneGraph = sceneGraph.children[0];\n      }\n\n      sceneGraph.animations = animations;\n    },\n    // parse nodes in FBXTree.Objects.Model\n    parseModels: function parseModels(skeletons, geometryMap, materialMap) {\n      var modelMap = new Map();\n      var modelNodes = fbxTree.Objects.Model;\n\n      for (var nodeID in modelNodes) {\n        var id = parseInt(nodeID);\n        var node = modelNodes[nodeID];\n        var relationships = connections.get(id);\n        var model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\n\n        if (!model) {\n          switch (node.attrType) {\n            case 'Camera':\n              model = this.createCamera(relationships);\n              break;\n\n            case 'Light':\n              model = this.createLight(relationships);\n              break;\n\n            case 'Mesh':\n              model = this.createMesh(relationships, geometryMap, materialMap);\n              break;\n\n            case 'NurbsCurve':\n              model = this.createCurve(relationships, geometryMap);\n              break;\n\n            case 'LimbNode':\n            case 'Root':\n              model = new Bone();\n              break;\n\n            case 'Null':\n            default:\n              model = new Group();\n              break;\n          }\n\n          model.name = node.attrName ? PropertyBinding.sanitizeNodeName(node.attrName) : '';\n          model.ID = id;\n        }\n\n        this.getTransformData(model, node);\n        modelMap.set(id, model);\n      }\n\n      return modelMap;\n    },\n    buildSkeleton: function buildSkeleton(relationships, skeletons, id, name) {\n      var bone = null;\n      relationships.parents.forEach(function (parent) {\n        for (var ID in skeletons) {\n          var skeleton = skeletons[ID];\n          skeleton.rawBones.forEach(function (rawBone, i) {\n            if (rawBone.ID === parent.ID) {\n              var subBone = bone;\n              bone = new Bone();\n              bone.matrixWorld.copy(rawBone.transformLink); // set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n              bone.name = name ? PropertyBinding.sanitizeNodeName(name) : '';\n              bone.ID = id;\n              skeleton.bones[i] = bone; // In cases where a bone is shared between multiple meshes\n              // duplicate the bone here and and it as a child of the first bone\n\n              if (subBone !== null) {\n                bone.add(subBone);\n              }\n            }\n          });\n        }\n      });\n      return bone;\n    },\n    // create a PerspectiveCamera or OrthographicCamera\n    createCamera: function createCamera(relationships) {\n      var model;\n      var cameraAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          cameraAttribute = attr;\n        }\n      });\n\n      if (cameraAttribute === undefined) {\n        model = new Object3D();\n      } else {\n        var type = 0;\n\n        if (cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1) {\n          type = 1;\n        }\n\n        var nearClippingPlane = 1;\n\n        if (cameraAttribute.NearPlane !== undefined) {\n          nearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n        }\n\n        var farClippingPlane = 1000;\n\n        if (cameraAttribute.FarPlane !== undefined) {\n          farClippingPlane = cameraAttribute.FarPlane.value / 1000;\n        }\n\n        var width = window.innerWidth;\n        var height = window.innerHeight;\n\n        if (cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined) {\n          width = cameraAttribute.AspectWidth.value;\n          height = cameraAttribute.AspectHeight.value;\n        }\n\n        var aspect = width / height;\n        var fov = 45;\n\n        if (cameraAttribute.FieldOfView !== undefined) {\n          fov = cameraAttribute.FieldOfView.value;\n        }\n\n        var focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n        switch (type) {\n          case 0:\n            // Perspective\n            model = new PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\n            if (focalLength !== null) model.setFocalLength(focalLength);\n            break;\n\n          case 1:\n            // Orthographic\n            model = new OrthographicCamera(-width / 2, width / 2, height / 2, -height / 2, nearClippingPlane, farClippingPlane);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown camera type ' + type + '.');\n            model = new Object3D();\n            break;\n        }\n      }\n\n      return model;\n    },\n    // Create a DirectionalLight, PointLight or SpotLight\n    createLight: function createLight(relationships) {\n      var model;\n      var lightAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          lightAttribute = attr;\n        }\n      });\n\n      if (lightAttribute === undefined) {\n        model = new Object3D();\n      } else {\n        var type; // LightType can be undefined for Point lights\n\n        if (lightAttribute.LightType === undefined) {\n          type = 0;\n        } else {\n          type = lightAttribute.LightType.value;\n        }\n\n        var color = 0xffffff;\n\n        if (lightAttribute.Color !== undefined) {\n          color = new Color().fromArray(lightAttribute.Color.value);\n        }\n\n        var intensity = lightAttribute.Intensity === undefined ? 1 : lightAttribute.Intensity.value / 100; // light disabled\n\n        if (lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0) {\n          intensity = 0;\n        }\n\n        var distance = 0;\n\n        if (lightAttribute.FarAttenuationEnd !== undefined) {\n          if (lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0) {\n            distance = 0;\n          } else {\n            distance = lightAttribute.FarAttenuationEnd.value;\n          }\n        } // TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\n\n        var decay = 1;\n\n        switch (type) {\n          case 0:\n            // Point\n            model = new PointLight(color, intensity, distance, decay);\n            break;\n\n          case 1:\n            // Directional\n            model = new DirectionalLight(color, intensity);\n            break;\n\n          case 2:\n            // Spot\n            var angle = Math.PI / 3;\n\n            if (lightAttribute.InnerAngle !== undefined) {\n              angle = MathUtils.degToRad(lightAttribute.InnerAngle.value);\n            }\n\n            var penumbra = 0;\n\n            if (lightAttribute.OuterAngle !== undefined) {\n              // TODO: this is not correct - FBX calculates outer and inner angle in degrees\n              // with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n              // while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n              penumbra = MathUtils.degToRad(lightAttribute.OuterAngle.value);\n              penumbra = Math.max(penumbra, 1);\n            }\n\n            model = new SpotLight(color, intensity, distance, angle, penumbra, decay);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.');\n            model = new PointLight(color, intensity);\n            break;\n        }\n\n        if (lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1) {\n          model.castShadow = true;\n        }\n      }\n\n      return model;\n    },\n    createMesh: function createMesh(relationships, geometryMap, materialMap) {\n      var model;\n      var geometry = null;\n      var material = null;\n      var materials = []; // get geometry and materials(s) from connections\n\n      relationships.children.forEach(function (child) {\n        if (geometryMap.has(child.ID)) {\n          geometry = geometryMap.get(child.ID);\n        }\n\n        if (materialMap.has(child.ID)) {\n          materials.push(materialMap.get(child.ID));\n        }\n      });\n\n      if (materials.length > 1) {\n        material = materials;\n      } else if (materials.length > 0) {\n        material = materials[0];\n      } else {\n        material = new MeshPhongMaterial({\n          color: 0xcccccc\n        });\n        materials.push(material);\n      }\n\n      if ('color' in geometry.attributes) {\n        materials.forEach(function (material) {\n          material.vertexColors = true;\n        });\n      }\n\n      if (geometry.FBX_Deformer) {\n        materials.forEach(function (material) {\n          material.skinning = true;\n        });\n        model = new SkinnedMesh(geometry, material);\n        model.normalizeSkinWeights();\n      } else {\n        model = new Mesh(geometry, material);\n      }\n\n      return model;\n    },\n    createCurve: function createCurve(relationships, geometryMap) {\n      var geometry = relationships.children.reduce(function (geo, child) {\n        if (geometryMap.has(child.ID)) geo = geometryMap.get(child.ID);\n        return geo;\n      }, null); // FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\n      var material = new LineBasicMaterial({\n        color: 0x3300ff,\n        linewidth: 1\n      });\n      return new Line(geometry, material);\n    },\n    // parse the model node for transform data\n    getTransformData: function getTransformData(model, modelNode) {\n      var transformData = {};\n      if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);else transformData.eulerOrder = 'ZYX';\n      if ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value;\n      if ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value;\n      if ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value;\n      if ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value;\n      if ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value;\n      if ('ScalingOffset' in modelNode) transformData.scalingOffset = modelNode.ScalingOffset.value;\n      if ('ScalingPivot' in modelNode) transformData.scalingPivot = modelNode.ScalingPivot.value;\n      if ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value;\n      if ('RotationPivot' in modelNode) transformData.rotationPivot = modelNode.RotationPivot.value;\n      model.userData.transformData = transformData;\n    },\n    setLookAtProperties: function setLookAtProperties(model, modelNode) {\n      if ('LookAtProperty' in modelNode) {\n        var children = connections.get(model.ID).children;\n        children.forEach(function (child) {\n          if (child.relationship === 'LookAtProperty') {\n            var lookAtTarget = fbxTree.Objects.Model[child.ID];\n\n            if ('Lcl_Translation' in lookAtTarget) {\n              var pos = lookAtTarget.Lcl_Translation.value; // DirectionalLight, SpotLight\n\n              if (model.target !== undefined) {\n                model.target.position.fromArray(pos);\n                sceneGraph.add(model.target);\n              } else {\n                // Cameras and other Object3Ds\n                model.lookAt(new Vector3().fromArray(pos));\n              }\n            }\n          }\n        });\n      }\n    },\n    bindSkeleton: function bindSkeleton(skeletons, geometryMap, modelMap) {\n      var bindMatrices = this.parsePoseNodes();\n\n      for (var ID in skeletons) {\n        var skeleton = skeletons[ID];\n        var parents = connections.get(parseInt(skeleton.ID)).parents;\n        parents.forEach(function (parent) {\n          if (geometryMap.has(parent.ID)) {\n            var geoID = parent.ID;\n            var geoRelationships = connections.get(geoID);\n            geoRelationships.parents.forEach(function (geoConnParent) {\n              if (modelMap.has(geoConnParent.ID)) {\n                var model = modelMap.get(geoConnParent.ID);\n                model.bind(new Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\n              }\n            });\n          }\n        });\n      }\n    },\n    parsePoseNodes: function parsePoseNodes() {\n      var bindMatrices = {};\n\n      if ('Pose' in fbxTree.Objects) {\n        var BindPoseNode = fbxTree.Objects.Pose;\n\n        for (var nodeID in BindPoseNode) {\n          if (BindPoseNode[nodeID].attrType === 'BindPose') {\n            var poseNodes = BindPoseNode[nodeID].PoseNode;\n\n            if (Array.isArray(poseNodes)) {\n              poseNodes.forEach(function (poseNode) {\n                bindMatrices[poseNode.Node] = new Matrix4().fromArray(poseNode.Matrix.a);\n              });\n            } else {\n              bindMatrices[poseNodes.Node] = new Matrix4().fromArray(poseNodes.Matrix.a);\n            }\n          }\n        }\n      }\n\n      return bindMatrices;\n    },\n    // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n    createAmbientLight: function createAmbientLight() {\n      if ('GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings) {\n        var ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n        var r = ambientColor[0];\n        var g = ambientColor[1];\n        var b = ambientColor[2];\n\n        if (r !== 0 || g !== 0 || b !== 0) {\n          var color = new Color(r, g, b);\n          sceneGraph.add(new AmbientLight(color, 1));\n        }\n      }\n    },\n    setupMorphMaterials: function setupMorphMaterials() {\n      var scope = this;\n      sceneGraph.traverse(function (child) {\n        if (child.isMesh) {\n          if (child.geometry.morphAttributes.position && child.geometry.morphAttributes.position.length) {\n            if (Array.isArray(child.material)) {\n              child.material.forEach(function (material, i) {\n                scope.setupMorphMaterial(child, material, i);\n              });\n            } else {\n              scope.setupMorphMaterial(child, child.material);\n            }\n          }\n        }\n      });\n    },\n    setupMorphMaterial: function setupMorphMaterial(child, material, index) {\n      var uuid = child.uuid;\n      var matUuid = material.uuid; // if a geometry has morph targets, it cannot share the material with other geometries\n\n      var sharedMat = false;\n      sceneGraph.traverse(function (node) {\n        if (node.isMesh) {\n          if (Array.isArray(node.material)) {\n            node.material.forEach(function (mat) {\n              if (mat.uuid === matUuid && node.uuid !== uuid) sharedMat = true;\n            });\n          } else if (node.material.uuid === matUuid && node.uuid !== uuid) sharedMat = true;\n        }\n      });\n\n      if (sharedMat === true) {\n        var clonedMat = material.clone();\n        clonedMat.morphTargets = true;\n        if (index === undefined) child.material = clonedMat;else child.material[index] = clonedMat;\n      } else material.morphTargets = true;\n    }\n  }; // parse Geometry data from FBXTree and return map of BufferGeometries\n\n  function GeometryParser() {}\n\n  GeometryParser.prototype = {\n    constructor: GeometryParser,\n    // Parse nodes in FBXTree.Objects.Geometry\n    parse: function parse(deformers) {\n      var geometryMap = new Map();\n\n      if ('Geometry' in fbxTree.Objects) {\n        var geoNodes = fbxTree.Objects.Geometry;\n\n        for (var nodeID in geoNodes) {\n          var relationships = connections.get(parseInt(nodeID));\n          var geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\n          geometryMap.set(parseInt(nodeID), geo);\n        }\n      }\n\n      return geometryMap;\n    },\n    // Parse single node in FBXTree.Objects.Geometry\n    parseGeometry: function parseGeometry(relationships, geoNode, deformers) {\n      switch (geoNode.attrType) {\n        case 'Mesh':\n          return this.parseMeshGeometry(relationships, geoNode, deformers);\n          break;\n\n        case 'NurbsCurve':\n          return this.parseNurbsGeometry(geoNode);\n          break;\n      }\n    },\n    // Parse single node mesh geometry in FBXTree.Objects.Geometry\n    parseMeshGeometry: function parseMeshGeometry(relationships, geoNode, deformers) {\n      var skeletons = deformers.skeletons;\n      var morphTargets = [];\n      var modelNodes = relationships.parents.map(function (parent) {\n        return fbxTree.Objects.Model[parent.ID];\n      }); // don't create geometry if it is not associated with any models\n\n      if (modelNodes.length === 0) return;\n      var skeleton = relationships.children.reduce(function (skeleton, child) {\n        if (skeletons[child.ID] !== undefined) skeleton = skeletons[child.ID];\n        return skeleton;\n      }, null);\n      relationships.children.forEach(function (child) {\n        if (deformers.morphTargets[child.ID] !== undefined) {\n          morphTargets.push(deformers.morphTargets[child.ID]);\n        }\n      }); // Assume one model and get the preRotation from that\n      // if there is more than one model associated with the geometry this may cause problems\n\n      var modelNode = modelNodes[0];\n      var transformData = {};\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n      if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\n      if ('GeometricTranslation' in modelNode) transformData.translation = modelNode.GeometricTranslation.value;\n      if ('GeometricRotation' in modelNode) transformData.rotation = modelNode.GeometricRotation.value;\n      if ('GeometricScaling' in modelNode) transformData.scale = modelNode.GeometricScaling.value;\n      var transform = generateTransform(transformData);\n      return this.genGeometry(geoNode, skeleton, morphTargets, transform);\n    },\n    // Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n    genGeometry: function genGeometry(geoNode, skeleton, morphTargets, preTransform) {\n      var geo = new BufferGeometry();\n      if (geoNode.attrName) geo.name = geoNode.attrName;\n      var geoInfo = this.parseGeoNode(geoNode, skeleton);\n      var buffers = this.genBuffers(geoInfo);\n      var positionAttribute = new Float32BufferAttribute(buffers.vertex, 3);\n      positionAttribute.applyMatrix4(preTransform);\n      geo.setAttribute('position', positionAttribute);\n\n      if (buffers.colors.length > 0) {\n        geo.setAttribute('color', new Float32BufferAttribute(buffers.colors, 3));\n      }\n\n      if (skeleton) {\n        geo.setAttribute('skinIndex', new Uint16BufferAttribute(buffers.weightsIndices, 4));\n        geo.setAttribute('skinWeight', new Float32BufferAttribute(buffers.vertexWeights, 4)); // used later to bind the skeleton to the model\n\n        geo.FBX_Deformer = skeleton;\n      }\n\n      if (buffers.normal.length > 0) {\n        var normalMatrix = new Matrix3().getNormalMatrix(preTransform);\n        var normalAttribute = new Float32BufferAttribute(buffers.normal, 3);\n        normalAttribute.applyNormalMatrix(normalMatrix);\n        geo.setAttribute('normal', normalAttribute);\n      }\n\n      buffers.uvs.forEach(function (uvBuffer, i) {\n        // subsequent uv buffers are called 'uv1', 'uv2', ...\n        var name = 'uv' + (i + 1).toString(); // the first uv buffer is just called 'uv'\n\n        if (i === 0) {\n          name = 'uv';\n        }\n\n        geo.setAttribute(name, new Float32BufferAttribute(buffers.uvs[i], 2));\n      });\n\n      if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n        // Convert the material indices of each vertex into rendering groups on the geometry.\n        var prevMaterialIndex = buffers.materialIndex[0];\n        var startIndex = 0;\n        buffers.materialIndex.forEach(function (currentIndex, i) {\n          if (currentIndex !== prevMaterialIndex) {\n            geo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\n            prevMaterialIndex = currentIndex;\n            startIndex = i;\n          }\n        }); // the loop above doesn't add the last group, do that here.\n\n        if (geo.groups.length > 0) {\n          var lastGroup = geo.groups[geo.groups.length - 1];\n          var lastIndex = lastGroup.start + lastGroup.count;\n\n          if (lastIndex !== buffers.materialIndex.length) {\n            geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\n          }\n        } // case where there are multiple materials but the whole geometry is only\n        // using one of them\n\n\n        if (geo.groups.length === 0) {\n          geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\n        }\n      }\n\n      this.addMorphTargets(geo, geoNode, morphTargets, preTransform);\n      return geo;\n    },\n    parseGeoNode: function parseGeoNode(geoNode, skeleton) {\n      var geoInfo = {};\n      geoInfo.vertexPositions = geoNode.Vertices !== undefined ? geoNode.Vertices.a : [];\n      geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== undefined ? geoNode.PolygonVertexIndex.a : [];\n\n      if (geoNode.LayerElementColor) {\n        geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\n      }\n\n      if (geoNode.LayerElementMaterial) {\n        geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\n      }\n\n      if (geoNode.LayerElementNormal) {\n        geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\n      }\n\n      if (geoNode.LayerElementUV) {\n        geoInfo.uv = [];\n        var i = 0;\n\n        while (geoNode.LayerElementUV[i]) {\n          if (geoNode.LayerElementUV[i].UV) {\n            geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\n          }\n\n          i++;\n        }\n      }\n\n      geoInfo.weightTable = {};\n\n      if (skeleton !== null) {\n        geoInfo.skeleton = skeleton;\n        skeleton.rawBones.forEach(function (rawBone, i) {\n          // loop over the bone's vertex indices and weights\n          rawBone.indices.forEach(function (index, j) {\n            if (geoInfo.weightTable[index] === undefined) geoInfo.weightTable[index] = [];\n            geoInfo.weightTable[index].push({\n              id: i,\n              weight: rawBone.weights[j]\n            });\n          });\n        });\n      }\n\n      return geoInfo;\n    },\n    genBuffers: function genBuffers(geoInfo) {\n      var buffers = {\n        vertex: [],\n        normal: [],\n        colors: [],\n        uvs: [],\n        materialIndex: [],\n        vertexWeights: [],\n        weightsIndices: []\n      };\n      var polygonIndex = 0;\n      var faceLength = 0;\n      var displayedWeightsWarning = false; // these will hold data for a single face\n\n      var facePositionIndexes = [];\n      var faceNormals = [];\n      var faceColors = [];\n      var faceUVs = [];\n      var faceWeights = [];\n      var faceWeightIndices = [];\n      var scope = this;\n      geoInfo.vertexIndices.forEach(function (vertexIndex, polygonVertexIndex) {\n        var endOfFace = false; // Face index and vertex index arrays are combined in a single array\n        // A cube with quad faces looks like this:\n        // PolygonVertexIndex: *24 {\n        //  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n        //  }\n        // Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n        // to find index of last vertex bit shift the index: ^ - 1\n\n        if (vertexIndex < 0) {\n          vertexIndex = vertexIndex ^ -1; // equivalent to ( x * -1 ) - 1\n\n          endOfFace = true;\n        }\n\n        var weightIndices = [];\n        var weights = [];\n        facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\n\n        if (geoInfo.color) {\n          var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\n          faceColors.push(data[0], data[1], data[2]);\n        }\n\n        if (geoInfo.skeleton) {\n          if (geoInfo.weightTable[vertexIndex] !== undefined) {\n            geoInfo.weightTable[vertexIndex].forEach(function (wt) {\n              weights.push(wt.weight);\n              weightIndices.push(wt.id);\n            });\n          }\n\n          if (weights.length > 4) {\n            if (!displayedWeightsWarning) {\n              console.warn('THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.');\n              displayedWeightsWarning = true;\n            }\n\n            var wIndex = [0, 0, 0, 0];\n            var Weight = [0, 0, 0, 0];\n            weights.forEach(function (weight, weightIndex) {\n              var currentWeight = weight;\n              var currentIndex = weightIndices[weightIndex];\n              Weight.forEach(function (comparedWeight, comparedWeightIndex, comparedWeightArray) {\n                if (currentWeight > comparedWeight) {\n                  comparedWeightArray[comparedWeightIndex] = currentWeight;\n                  currentWeight = comparedWeight;\n                  var tmp = wIndex[comparedWeightIndex];\n                  wIndex[comparedWeightIndex] = currentIndex;\n                  currentIndex = tmp;\n                }\n              });\n            });\n            weightIndices = wIndex;\n            weights = Weight;\n          } // if the weight array is shorter than 4 pad with 0s\n\n\n          while (weights.length < 4) {\n            weights.push(0);\n            weightIndices.push(0);\n          }\n\n          for (var i = 0; i < 4; ++i) {\n            faceWeights.push(weights[i]);\n            faceWeightIndices.push(weightIndices[i]);\n          }\n        }\n\n        if (geoInfo.normal) {\n          var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\n          faceNormals.push(data[0], data[1], data[2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          var materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, i) {\n            var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\n\n            if (faceUVs[i] === undefined) {\n              faceUVs[i] = [];\n            }\n\n            faceUVs[i].push(data[0]);\n            faceUVs[i].push(data[1]);\n          });\n        }\n\n        faceLength++;\n\n        if (endOfFace) {\n          scope.genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength);\n          polygonIndex++;\n          faceLength = 0; // reset arrays for the next face\n\n          facePositionIndexes = [];\n          faceNormals = [];\n          faceColors = [];\n          faceUVs = [];\n          faceWeights = [];\n          faceWeightIndices = [];\n        }\n      });\n      return buffers;\n    },\n    // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n    genFace: function genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\n      for (var i = 2; i < faceLength; i++) {\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\n\n        if (geoInfo.skeleton) {\n          buffers.vertexWeights.push(faceWeights[0]);\n          buffers.vertexWeights.push(faceWeights[1]);\n          buffers.vertexWeights.push(faceWeights[2]);\n          buffers.vertexWeights.push(faceWeights[3]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\n          buffers.vertexWeights.push(faceWeights[i * 4]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[0]);\n          buffers.weightsIndices.push(faceWeightIndices[1]);\n          buffers.weightsIndices.push(faceWeightIndices[2]);\n          buffers.weightsIndices.push(faceWeightIndices[3]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\n        }\n\n        if (geoInfo.color) {\n          buffers.colors.push(faceColors[0]);\n          buffers.colors.push(faceColors[1]);\n          buffers.colors.push(faceColors[2]);\n          buffers.colors.push(faceColors[(i - 1) * 3]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 1]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 2]);\n          buffers.colors.push(faceColors[i * 3]);\n          buffers.colors.push(faceColors[i * 3 + 1]);\n          buffers.colors.push(faceColors[i * 3 + 2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n        }\n\n        if (geoInfo.normal) {\n          buffers.normal.push(faceNormals[0]);\n          buffers.normal.push(faceNormals[1]);\n          buffers.normal.push(faceNormals[2]);\n          buffers.normal.push(faceNormals[(i - 1) * 3]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\n          buffers.normal.push(faceNormals[i * 3]);\n          buffers.normal.push(faceNormals[i * 3 + 1]);\n          buffers.normal.push(faceNormals[i * 3 + 2]);\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, j) {\n            if (buffers.uvs[j] === undefined) buffers.uvs[j] = [];\n            buffers.uvs[j].push(faceUVs[j][0]);\n            buffers.uvs[j].push(faceUVs[j][1]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\n            buffers.uvs[j].push(faceUVs[j][i * 2]);\n            buffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\n          });\n        }\n      }\n    },\n    addMorphTargets: function addMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\n      if (morphTargets.length === 0) return;\n      parentGeo.morphTargetsRelative = true;\n      parentGeo.morphAttributes.position = []; // parentGeo.morphAttributes.normal = []; // not implemented\n\n      var scope = this;\n      morphTargets.forEach(function (morphTarget) {\n        morphTarget.rawTargets.forEach(function (rawTarget) {\n          var morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\n\n          if (morphGeoNode !== undefined) {\n            scope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name);\n          }\n        });\n      });\n    },\n    // a morph geometry node is similar to a standard  node, and the node is also contained\n    // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n    // and a special attribute Index defining which vertices of the original geometry are affected\n    // Normal and position attributes only have data for the vertices that are affected by the morph\n    genMorphGeometry: function genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\n      var vertexIndices = parentGeoNode.PolygonVertexIndex !== undefined ? parentGeoNode.PolygonVertexIndex.a : [];\n      var morphPositionsSparse = morphGeoNode.Vertices !== undefined ? morphGeoNode.Vertices.a : [];\n      var indices = morphGeoNode.Indexes !== undefined ? morphGeoNode.Indexes.a : [];\n      var length = parentGeo.attributes.position.count * 3;\n      var morphPositions = new Float32Array(length);\n\n      for (var i = 0; i < indices.length; i++) {\n        var morphIndex = indices[i] * 3;\n        morphPositions[morphIndex] = morphPositionsSparse[i * 3];\n        morphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1];\n        morphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2];\n      } // TODO: add morph normal support\n\n\n      var morphGeoInfo = {\n        vertexIndices: vertexIndices,\n        vertexPositions: morphPositions\n      };\n      var morphBuffers = this.genBuffers(morphGeoInfo);\n      var positionAttribute = new Float32BufferAttribute(morphBuffers.vertex, 3);\n      positionAttribute.name = name || morphGeoNode.attrName;\n      positionAttribute.applyMatrix4(preTransform);\n      parentGeo.morphAttributes.position.push(positionAttribute);\n    },\n    // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n    parseNormals: function parseNormals(NormalNode) {\n      var mappingType = NormalNode.MappingInformationType;\n      var referenceType = NormalNode.ReferenceInformationType;\n      var buffer = NormalNode.Normals.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        if ('NormalIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalIndex.a;\n        } else if ('NormalsIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalsIndex.a;\n        }\n      }\n\n      return {\n        dataSize: 3,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n    parseUVs: function parseUVs(UVNode) {\n      var mappingType = UVNode.MappingInformationType;\n      var referenceType = UVNode.ReferenceInformationType;\n      var buffer = UVNode.UV.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = UVNode.UVIndex.a;\n      }\n\n      return {\n        dataSize: 2,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n    parseVertexColors: function parseVertexColors(ColorNode) {\n      var mappingType = ColorNode.MappingInformationType;\n      var referenceType = ColorNode.ReferenceInformationType;\n      var buffer = ColorNode.Colors.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = ColorNode.ColorIndex.a;\n      }\n\n      return {\n        dataSize: 4,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n    parseMaterialIndices: function parseMaterialIndices(MaterialNode) {\n      var mappingType = MaterialNode.MappingInformationType;\n      var referenceType = MaterialNode.ReferenceInformationType;\n\n      if (mappingType === 'NoMappingInformation') {\n        return {\n          dataSize: 1,\n          buffer: [0],\n          indices: [0],\n          mappingType: 'AllSame',\n          referenceType: referenceType\n        };\n      }\n\n      var materialIndexBuffer = MaterialNode.Materials.a; // Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n      // we expect.So we create an intermediate buffer that points to the index in the buffer,\n      // for conforming with the other functions we've written for other data.\n\n      var materialIndices = [];\n\n      for (var i = 0; i < materialIndexBuffer.length; ++i) {\n        materialIndices.push(i);\n      }\n\n      return {\n        dataSize: 1,\n        buffer: materialIndexBuffer,\n        indices: materialIndices,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n    parseNurbsGeometry: function parseNurbsGeometry(geoNode) {\n      if (NURBSCurve === undefined) {\n        console.error('THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.');\n        return new BufferGeometry();\n      }\n\n      var order = parseInt(geoNode.Order);\n\n      if (isNaN(order)) {\n        console.error('THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id);\n        return new BufferGeometry();\n      }\n\n      var degree = order - 1;\n      var knots = geoNode.KnotVector.a;\n      var controlPoints = [];\n      var pointsValues = geoNode.Points.a;\n\n      for (var i = 0, l = pointsValues.length; i < l; i += 4) {\n        controlPoints.push(new Vector4().fromArray(pointsValues, i));\n      }\n\n      var startKnot, endKnot;\n\n      if (geoNode.Form === 'Closed') {\n        controlPoints.push(controlPoints[0]);\n      } else if (geoNode.Form === 'Periodic') {\n        startKnot = degree;\n        endKnot = knots.length - 1 - startKnot;\n\n        for (var i = 0; i < degree; ++i) {\n          controlPoints.push(controlPoints[i]);\n        }\n      }\n\n      var curve = new NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\n      var vertices = curve.getPoints(controlPoints.length * 7);\n      var positions = new Float32Array(vertices.length * 3);\n      vertices.forEach(function (vertex, i) {\n        vertex.toArray(positions, i * 3);\n      });\n      var geometry = new BufferGeometry();\n      geometry.setAttribute('position', new BufferAttribute(positions, 3));\n      return geometry;\n    }\n  }; // parse animation data from FBXTree\n\n  function AnimationParser() {}\n\n  AnimationParser.prototype = {\n    constructor: AnimationParser,\n    // take raw animation clips and turn them into three.js animation clips\n    parse: function parse() {\n      var animationClips = [];\n      var rawClips = this.parseClips();\n\n      if (rawClips !== undefined) {\n        for (var key in rawClips) {\n          var rawClip = rawClips[key];\n          var clip = this.addClip(rawClip);\n          animationClips.push(clip);\n        }\n      }\n\n      return animationClips;\n    },\n    parseClips: function parseClips() {\n      // since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n      // if this is undefined we can safely assume there are no animations\n      if (fbxTree.Objects.AnimationCurve === undefined) return undefined;\n      var curveNodesMap = this.parseAnimationCurveNodes();\n      this.parseAnimationCurves(curveNodesMap);\n      var layersMap = this.parseAnimationLayers(curveNodesMap);\n      var rawClips = this.parseAnimStacks(layersMap);\n      return rawClips;\n    },\n    // parse nodes in FBXTree.Objects.AnimationCurveNode\n    // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n    // and is referenced by an AnimationLayer\n    parseAnimationCurveNodes: function parseAnimationCurveNodes() {\n      var rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n      var curveNodesMap = new Map();\n\n      for (var nodeID in rawCurveNodes) {\n        var rawCurveNode = rawCurveNodes[nodeID];\n\n        if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n          var curveNode = {\n            id: rawCurveNode.id,\n            attr: rawCurveNode.attrName,\n            curves: {}\n          };\n          curveNodesMap.set(curveNode.id, curveNode);\n        }\n      }\n\n      return curveNodesMap;\n    },\n    // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n    // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n    // axis ( e.g. times and values of x rotation)\n    parseAnimationCurves: function parseAnimationCurves(curveNodesMap) {\n      var rawCurves = fbxTree.Objects.AnimationCurve; // TODO: Many values are identical up to roundoff error, but won't be optimised\n      // e.g. position times: [0, 0.4, 0. 8]\n      // position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n      // clearly, this should be optimised to\n      // times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n      // this shows up in nearly every FBX file, and generally time array is length > 100\n\n      for (var nodeID in rawCurves) {\n        var animationCurve = {\n          id: rawCurves[nodeID].id,\n          times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n          values: rawCurves[nodeID].KeyValueFloat.a\n        };\n        var relationships = connections.get(animationCurve.id);\n\n        if (relationships !== undefined) {\n          var animationCurveID = relationships.parents[0].ID;\n          var animationCurveRelationship = relationships.parents[0].relationship;\n\n          if (animationCurveRelationship.match(/X/)) {\n            curveNodesMap.get(animationCurveID).curves['x'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Y/)) {\n            curveNodesMap.get(animationCurveID).curves['y'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Z/)) {\n            curveNodesMap.get(animationCurveID).curves['z'] = animationCurve;\n          } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n            curveNodesMap.get(animationCurveID).curves['morph'] = animationCurve;\n          }\n        }\n      }\n    },\n    // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n    // to various AnimationCurveNodes and is referenced by an AnimationStack node\n    // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n    parseAnimationLayers: function parseAnimationLayers(curveNodesMap) {\n      var rawLayers = fbxTree.Objects.AnimationLayer;\n      var layersMap = new Map();\n\n      for (var nodeID in rawLayers) {\n        var layerCurveNodes = [];\n        var connection = connections.get(parseInt(nodeID));\n\n        if (connection !== undefined) {\n          // all the animationCurveNodes used in the layer\n          var children = connection.children;\n          children.forEach(function (child, i) {\n            if (curveNodesMap.has(child.ID)) {\n              var curveNode = curveNodesMap.get(child.ID); // check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\n              if (curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var modelID = connections.get(child.ID).parents.filter(function (parent) {\n                    return parent.relationship !== undefined;\n                  })[0].ID;\n\n                  if (modelID !== undefined) {\n                    var rawModel = fbxTree.Objects.Model[modelID.toString()];\n\n                    if (rawModel === undefined) {\n                      console.warn('THREE.FBXLoader: Encountered a unused curve.', child);\n                      return;\n                    }\n\n                    var node = {\n                      modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\n                      ID: rawModel.id,\n                      initialPosition: [0, 0, 0],\n                      initialRotation: [0, 0, 0],\n                      initialScale: [1, 1, 1]\n                    };\n                    sceneGraph.traverse(function (child) {\n                      if (child.ID === rawModel.id) {\n                        node.transform = child.matrix;\n                        if (child.userData.transformData) node.eulerOrder = child.userData.transformData.eulerOrder;\n                      }\n                    });\n                    if (!node.transform) node.transform = new Matrix4(); // if the animated model is pre rotated, we'll have to apply the pre rotations to every\n                    // animation value as well\n\n                    if ('PreRotation' in rawModel) node.preRotation = rawModel.PreRotation.value;\n                    if ('PostRotation' in rawModel) node.postRotation = rawModel.PostRotation.value;\n                    layerCurveNodes[i] = node;\n                  }\n                }\n\n                if (layerCurveNodes[i]) layerCurveNodes[i][curveNode.attr] = curveNode;\n              } else if (curveNode.curves.morph !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var deformerID = connections.get(child.ID).parents.filter(function (parent) {\n                    return parent.relationship !== undefined;\n                  })[0].ID;\n                  var morpherID = connections.get(deformerID).parents[0].ID;\n                  var geoID = connections.get(morpherID).parents[0].ID; // assuming geometry is not used in more than one model\n\n                  var modelID = connections.get(geoID).parents[0].ID;\n                  var rawModel = fbxTree.Objects.Model[modelID];\n                  var node = {\n                    modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\n                    morphName: fbxTree.Objects.Deformer[deformerID].attrName\n                  };\n                  layerCurveNodes[i] = node;\n                }\n\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n              }\n            }\n          });\n          layersMap.set(parseInt(nodeID), layerCurveNodes);\n        }\n      }\n\n      return layersMap;\n    },\n    // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n    // hierarchy. Each Stack node will be used to create a AnimationClip\n    parseAnimStacks: function parseAnimStacks(layersMap) {\n      var rawStacks = fbxTree.Objects.AnimationStack; // connect the stacks (clips) up to the layers\n\n      var rawClips = {};\n\n      for (var nodeID in rawStacks) {\n        var children = connections.get(parseInt(nodeID)).children;\n\n        if (children.length > 1) {\n          // it seems like stacks will always be associated with a single layer. But just in case there are files\n          // where there are multiple layers per stack, we'll display a warning\n          console.warn('THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.');\n        }\n\n        var layer = layersMap.get(children[0].ID);\n        rawClips[nodeID] = {\n          name: rawStacks[nodeID].attrName,\n          layer: layer\n        };\n      }\n\n      return rawClips;\n    },\n    addClip: function addClip(rawClip) {\n      var tracks = [];\n      var scope = this;\n      rawClip.layer.forEach(function (rawTracks) {\n        tracks = tracks.concat(scope.generateTracks(rawTracks));\n      });\n      return new AnimationClip(rawClip.name, -1, tracks);\n    },\n    generateTracks: function generateTracks(rawTracks) {\n      var tracks = [];\n      var initialPosition = new Vector3();\n      var initialRotation = new Quaternion();\n      var initialScale = new Vector3();\n      if (rawTracks.transform) rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\n      initialPosition = initialPosition.toArray();\n      initialRotation = new Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray();\n      initialScale = initialScale.toArray();\n\n      if (rawTracks.T !== undefined && Object.keys(rawTracks.T.curves).length > 0) {\n        var positionTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position');\n        if (positionTrack !== undefined) tracks.push(positionTrack);\n      }\n\n      if (rawTracks.R !== undefined && Object.keys(rawTracks.R.curves).length > 0) {\n        var rotationTrack = this.generateRotationTrack(rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder);\n        if (rotationTrack !== undefined) tracks.push(rotationTrack);\n      }\n\n      if (rawTracks.S !== undefined && Object.keys(rawTracks.S.curves).length > 0) {\n        var scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale');\n        if (scaleTrack !== undefined) tracks.push(scaleTrack);\n      }\n\n      if (rawTracks.DeformPercent !== undefined) {\n        var morphTrack = this.generateMorphTrack(rawTracks);\n        if (morphTrack !== undefined) tracks.push(morphTrack);\n      }\n\n      return tracks;\n    },\n    generateVectorTrack: function generateVectorTrack(modelName, curves, initialValue, type) {\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n      return new VectorKeyframeTrack(modelName + '.' + type, times, values);\n    },\n    generateRotationTrack: function generateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\n      if (curves.x !== undefined) {\n        this.interpolateRotations(curves.x);\n        curves.x.values = curves.x.values.map(MathUtils.degToRad);\n      }\n\n      if (curves.y !== undefined) {\n        this.interpolateRotations(curves.y);\n        curves.y.values = curves.y.values.map(MathUtils.degToRad);\n      }\n\n      if (curves.z !== undefined) {\n        this.interpolateRotations(curves.z);\n        curves.z.values = curves.z.values.map(MathUtils.degToRad);\n      }\n\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n\n      if (preRotation !== undefined) {\n        preRotation = preRotation.map(MathUtils.degToRad);\n        preRotation.push(eulerOrder);\n        preRotation = new Euler().fromArray(preRotation);\n        preRotation = new Quaternion().setFromEuler(preRotation);\n      }\n\n      if (postRotation !== undefined) {\n        postRotation = postRotation.map(MathUtils.degToRad);\n        postRotation.push(eulerOrder);\n        postRotation = new Euler().fromArray(postRotation);\n        postRotation = new Quaternion().setFromEuler(postRotation).inverse();\n      }\n\n      var quaternion = new Quaternion();\n      var euler = new Euler();\n      var quaternionValues = [];\n\n      for (var i = 0; i < values.length; i += 3) {\n        euler.set(values[i], values[i + 1], values[i + 2], eulerOrder);\n        quaternion.setFromEuler(euler);\n        if (preRotation !== undefined) quaternion.premultiply(preRotation);\n        if (postRotation !== undefined) quaternion.multiply(postRotation);\n        quaternion.toArray(quaternionValues, i / 3 * 4);\n      }\n\n      return new QuaternionKeyframeTrack(modelName + '.quaternion', times, quaternionValues);\n    },\n    generateMorphTrack: function generateMorphTrack(rawTracks) {\n      var curves = rawTracks.DeformPercent.curves.morph;\n      var values = curves.values.map(function (val) {\n        return val / 100;\n      });\n      var morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\n      return new NumberKeyframeTrack(rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values);\n    },\n    // For all animated objects, times are defined separately for each axis\n    // Here we'll combine the times into one sorted array without duplicates\n    getTimesForAllAxes: function getTimesForAllAxes(curves) {\n      var times = []; // first join together the times for each axis, if defined\n\n      if (curves.x !== undefined) times = times.concat(curves.x.times);\n      if (curves.y !== undefined) times = times.concat(curves.y.times);\n      if (curves.z !== undefined) times = times.concat(curves.z.times); // then sort them and remove duplicates\n\n      times = times.sort(function (a, b) {\n        return a - b;\n      }).filter(function (elem, index, array) {\n        return array.indexOf(elem) == index;\n      });\n      return times;\n    },\n    getKeyframeTrackValues: function getKeyframeTrackValues(times, curves, initialValue) {\n      var prevValue = initialValue;\n      var values = [];\n      var xIndex = -1;\n      var yIndex = -1;\n      var zIndex = -1;\n      times.forEach(function (time) {\n        if (curves.x) xIndex = curves.x.times.indexOf(time);\n        if (curves.y) yIndex = curves.y.times.indexOf(time);\n        if (curves.z) zIndex = curves.z.times.indexOf(time); // if there is an x value defined for this frame, use that\n\n        if (xIndex !== -1) {\n          var xValue = curves.x.values[xIndex];\n          values.push(xValue);\n          prevValue[0] = xValue;\n        } else {\n          // otherwise use the x value from the previous frame\n          values.push(prevValue[0]);\n        }\n\n        if (yIndex !== -1) {\n          var yValue = curves.y.values[yIndex];\n          values.push(yValue);\n          prevValue[1] = yValue;\n        } else {\n          values.push(prevValue[1]);\n        }\n\n        if (zIndex !== -1) {\n          var zValue = curves.z.values[zIndex];\n          values.push(zValue);\n          prevValue[2] = zValue;\n        } else {\n          values.push(prevValue[2]);\n        }\n      });\n      return values;\n    },\n    // Rotations are defined as Euler angles which can have values  of any size\n    // These will be converted to quaternions which don't support values greater than\n    // PI, so we'll interpolate large rotations\n    interpolateRotations: function interpolateRotations(curve) {\n      for (var i = 1; i < curve.values.length; i++) {\n        var initialValue = curve.values[i - 1];\n        var valuesSpan = curve.values[i] - initialValue;\n        var absoluteSpan = Math.abs(valuesSpan);\n\n        if (absoluteSpan >= 180) {\n          var numSubIntervals = absoluteSpan / 180;\n          var step = valuesSpan / numSubIntervals;\n          var nextValue = initialValue + step;\n          var initialTime = curve.times[i - 1];\n          var timeSpan = curve.times[i] - initialTime;\n          var interval = timeSpan / numSubIntervals;\n          var nextTime = initialTime + interval;\n          var interpolatedTimes = [];\n          var interpolatedValues = [];\n\n          while (nextTime < curve.times[i]) {\n            interpolatedTimes.push(nextTime);\n            nextTime += interval;\n            interpolatedValues.push(nextValue);\n            nextValue += step;\n          }\n\n          curve.times = inject(curve.times, i, interpolatedTimes);\n          curve.values = inject(curve.values, i, interpolatedValues);\n        }\n      }\n    }\n  }; // parse an FBX file in ASCII format\n\n  function TextParser() {}\n\n  TextParser.prototype = {\n    constructor: TextParser,\n    getPrevNode: function getPrevNode() {\n      return this.nodeStack[this.currentIndent - 2];\n    },\n    getCurrentNode: function getCurrentNode() {\n      return this.nodeStack[this.currentIndent - 1];\n    },\n    getCurrentProp: function getCurrentProp() {\n      return this.currentProp;\n    },\n    pushStack: function pushStack(node) {\n      this.nodeStack.push(node);\n      this.currentIndent += 1;\n    },\n    popStack: function popStack() {\n      this.nodeStack.pop();\n      this.currentIndent -= 1;\n    },\n    setCurrentProp: function setCurrentProp(val, name) {\n      this.currentProp = val;\n      this.currentPropName = name;\n    },\n    parse: function parse(text) {\n      this.currentIndent = 0;\n      this.allNodes = new FBXTree();\n      this.nodeStack = [];\n      this.currentProp = [];\n      this.currentPropName = '';\n      var scope = this;\n      var split = text.split(/[\\r\\n]+/);\n      split.forEach(function (line, i) {\n        var matchComment = line.match(/^[\\s\\t]*;/);\n        var matchEmpty = line.match(/^[\\s\\t]*$/);\n        if (matchComment || matchEmpty) return;\n        var matchBeginning = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '');\n        var matchProperty = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)');\n        var matchEnd = line.match('^\\\\t{' + (scope.currentIndent - 1) + '}}');\n\n        if (matchBeginning) {\n          scope.parseNodeBegin(line, matchBeginning);\n        } else if (matchProperty) {\n          scope.parseNodeProperty(line, matchProperty, split[++i]);\n        } else if (matchEnd) {\n          scope.popStack();\n        } else if (line.match(/^[^\\s\\t}]/)) {\n          // large arrays are split over multiple lines terminated with a ',' character\n          // if this is encountered the line needs to be joined to the previous line\n          scope.parseNodePropertyContinued(line);\n        }\n      });\n      return this.allNodes;\n    },\n    parseNodeBegin: function parseNodeBegin(line, property) {\n      var nodeName = property[1].trim().replace(/^\"/, '').replace(/\"$/, '');\n      var nodeAttrs = property[2].split(',').map(function (attr) {\n        return attr.trim().replace(/^\"/, '').replace(/\"$/, '');\n      });\n      var node = {\n        name: nodeName\n      };\n      var attrs = this.parseNodeAttr(nodeAttrs);\n      var currentNode = this.getCurrentNode(); // a top node\n\n      if (this.currentIndent === 0) {\n        this.allNodes.add(nodeName, node);\n      } else {\n        // a subnode\n        // if the subnode already exists, append it\n        if (nodeName in currentNode) {\n          // special case Pose needs PoseNodes as an array\n          if (nodeName === 'PoseNode') {\n            currentNode.PoseNode.push(node);\n          } else if (currentNode[nodeName].id !== undefined) {\n            currentNode[nodeName] = {};\n            currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\n          }\n\n          if (attrs.id !== '') currentNode[nodeName][attrs.id] = node;\n        } else if (typeof attrs.id === 'number') {\n          currentNode[nodeName] = {};\n          currentNode[nodeName][attrs.id] = node;\n        } else if (nodeName !== 'Properties70') {\n          if (nodeName === 'PoseNode') currentNode[nodeName] = [node];else currentNode[nodeName] = node;\n        }\n      }\n\n      if (typeof attrs.id === 'number') node.id = attrs.id;\n      if (attrs.name !== '') node.attrName = attrs.name;\n      if (attrs.type !== '') node.attrType = attrs.type;\n      this.pushStack(node);\n    },\n    parseNodeAttr: function parseNodeAttr(attrs) {\n      var id = attrs[0];\n\n      if (attrs[0] !== '') {\n        id = parseInt(attrs[0]);\n\n        if (isNaN(id)) {\n          id = attrs[0];\n        }\n      }\n\n      var name = '',\n          type = '';\n\n      if (attrs.length > 1) {\n        name = attrs[1].replace(/^(\\w+)::/, '');\n        type = attrs[2];\n      }\n\n      return {\n        id: id,\n        name: name,\n        type: type\n      };\n    },\n    parseNodeProperty: function parseNodeProperty(line, property, contentLine) {\n      var propName = property[1].replace(/^\"/, '').replace(/\"$/, '').trim();\n      var propValue = property[2].replace(/^\"/, '').replace(/\"$/, '').trim(); // for special case: base64 image data follows \"Content: ,\" line\n      //\tContent: ,\n      //\t \"/9j/4RDaRXhpZgAATU0A...\"\n\n      if (propName === 'Content' && propValue === ',') {\n        propValue = contentLine.replace(/\"/g, '').replace(/,$/, '').trim();\n      }\n\n      var currentNode = this.getCurrentNode();\n      var parentName = currentNode.name;\n\n      if (parentName === 'Properties70') {\n        this.parseNodeSpecialProperty(line, propName, propValue);\n        return;\n      } // Connections\n\n\n      if (propName === 'C') {\n        var connProps = propValue.split(',').slice(1);\n        var from = parseInt(connProps[0]);\n        var to = parseInt(connProps[1]);\n        var rest = propValue.split(',').slice(3);\n        rest = rest.map(function (elem) {\n          return elem.trim().replace(/^\"/, '');\n        });\n        propName = 'connections';\n        propValue = [from, to];\n        append(propValue, rest);\n\n        if (currentNode[propName] === undefined) {\n          currentNode[propName] = [];\n        }\n      } // Node\n\n\n      if (propName === 'Node') currentNode.id = propValue; // connections\n\n      if (propName in currentNode && Array.isArray(currentNode[propName])) {\n        currentNode[propName].push(propValue);\n      } else {\n        if (propName !== 'a') currentNode[propName] = propValue;else currentNode.a = propValue;\n      }\n\n      this.setCurrentProp(currentNode, propName); // convert string to array, unless it ends in ',' in which case more will be added to it\n\n      if (propName === 'a' && propValue.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(propValue);\n      }\n    },\n    parseNodePropertyContinued: function parseNodePropertyContinued(line) {\n      var currentNode = this.getCurrentNode();\n      currentNode.a += line; // if the line doesn't end in ',' we have reached the end of the property value\n      // so convert the string to an array\n\n      if (line.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(currentNode.a);\n      }\n    },\n    // parse \"Property70\"\n    parseNodeSpecialProperty: function parseNodeSpecialProperty(line, propName, propValue) {\n      // split this\n      // P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n      // into array like below\n      // [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n      var props = propValue.split('\",').map(function (prop) {\n        return prop.trim().replace(/^\\\"/, '').replace(/\\s/, '_');\n      });\n      var innerPropName = props[0];\n      var innerPropType1 = props[1];\n      var innerPropType2 = props[2];\n      var innerPropFlag = props[3];\n      var innerPropValue = props[4]; // cast values where needed, otherwise leave as strings\n\n      switch (innerPropType1) {\n        case 'int':\n        case 'enum':\n        case 'bool':\n        case 'ULongLong':\n        case 'double':\n        case 'Number':\n        case 'FieldOfView':\n          innerPropValue = parseFloat(innerPropValue);\n          break;\n\n        case 'Color':\n        case 'ColorRGB':\n        case 'Vector3D':\n        case 'Lcl_Translation':\n        case 'Lcl_Rotation':\n        case 'Lcl_Scaling':\n          innerPropValue = parseNumberArray(innerPropValue);\n          break;\n      } // CAUTION: these props must append to parent's parent\n\n\n      this.getPrevNode()[innerPropName] = {\n        'type': innerPropType1,\n        'type2': innerPropType2,\n        'flag': innerPropFlag,\n        'value': innerPropValue\n      };\n      this.setCurrentProp(this.getPrevNode(), innerPropName);\n    }\n  }; // Parse an FBX file in Binary format\n\n  function BinaryParser() {}\n\n  BinaryParser.prototype = {\n    constructor: BinaryParser,\n    parse: function parse(buffer) {\n      var reader = new BinaryReader(buffer);\n      reader.skip(23); // skip magic 23 bytes\n\n      var version = reader.getUint32();\n\n      if (version < 6400) {\n        throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + version);\n      }\n\n      var allNodes = new FBXTree();\n\n      while (!this.endOfContent(reader)) {\n        var node = this.parseNode(reader, version);\n        if (node !== null) allNodes.add(node.name, node);\n      }\n\n      return allNodes;\n    },\n    // Check if reader has reached the end of content.\n    endOfContent: function endOfContent(reader) {\n      // footer size: 160bytes + 16-byte alignment padding\n      // - 16bytes: magic\n      // - padding til 16-byte alignment (at least 1byte?)\n      //\t(seems like some exporters embed fixed 15 or 16bytes?)\n      // - 4bytes: magic\n      // - 4bytes: version\n      // - 120bytes: zero\n      // - 16bytes: magic\n      if (reader.size() % 16 === 0) {\n        return (reader.getOffset() + 160 + 16 & ~0xf) >= reader.size();\n      } else {\n        return reader.getOffset() + 160 + 16 >= reader.size();\n      }\n    },\n    // recursively parse nodes until the end of the file is reached\n    parseNode: function parseNode(reader, version) {\n      var node = {}; // The first three data sizes depends on version.\n\n      var endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      var numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      version >= 7500 ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\n\n      var nameLen = reader.getUint8();\n      var name = reader.getString(nameLen); // Regards this node as NULL-record if endOffset is zero\n\n      if (endOffset === 0) return null;\n      var propertyList = [];\n\n      for (var i = 0; i < numProperties; i++) {\n        propertyList.push(this.parseProperty(reader));\n      } // Regards the first three elements in propertyList as id, attrName, and attrType\n\n\n      var id = propertyList.length > 0 ? propertyList[0] : '';\n      var attrName = propertyList.length > 1 ? propertyList[1] : '';\n      var attrType = propertyList.length > 2 ? propertyList[2] : ''; // check if this node represents just a single property\n      // like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\n      node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\n\n      while (endOffset > reader.getOffset()) {\n        var subNode = this.parseNode(reader, version);\n        if (subNode !== null) this.parseSubNode(name, node, subNode);\n      }\n\n      node.propertyList = propertyList; // raw property list used by parent\n\n      if (typeof id === 'number') node.id = id;\n      if (attrName !== '') node.attrName = attrName;\n      if (attrType !== '') node.attrType = attrType;\n      if (name !== '') node.name = name;\n      return node;\n    },\n    parseSubNode: function parseSubNode(name, node, subNode) {\n      // special case: child node is single property\n      if (subNode.singleProperty === true) {\n        var value = subNode.propertyList[0];\n\n        if (Array.isArray(value)) {\n          node[subNode.name] = subNode;\n          subNode.a = value;\n        } else {\n          node[subNode.name] = value;\n        }\n      } else if (name === 'Connections' && subNode.name === 'C') {\n        var array = [];\n        subNode.propertyList.forEach(function (property, i) {\n          // first Connection is FBX type (OO, OP, etc.). We'll discard these\n          if (i !== 0) array.push(property);\n        });\n\n        if (node.connections === undefined) {\n          node.connections = [];\n        }\n\n        node.connections.push(array);\n      } else if (subNode.name === 'Properties70') {\n        var keys = Object.keys(subNode);\n        keys.forEach(function (key) {\n          node[key] = subNode[key];\n        });\n      } else if (name === 'Properties70' && subNode.name === 'P') {\n        var innerPropName = subNode.propertyList[0];\n        var innerPropType1 = subNode.propertyList[1];\n        var innerPropType2 = subNode.propertyList[2];\n        var innerPropFlag = subNode.propertyList[3];\n        var innerPropValue;\n        if (innerPropName.indexOf('Lcl ') === 0) innerPropName = innerPropName.replace('Lcl ', 'Lcl_');\n        if (innerPropType1.indexOf('Lcl ') === 0) innerPropType1 = innerPropType1.replace('Lcl ', 'Lcl_');\n\n        if (innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf('Lcl_') === 0) {\n          innerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]];\n        } else {\n          innerPropValue = subNode.propertyList[4];\n        } // this will be copied to parent, see above\n\n\n        node[innerPropName] = {\n          'type': innerPropType1,\n          'type2': innerPropType2,\n          'flag': innerPropFlag,\n          'value': innerPropValue\n        };\n      } else if (node[subNode.name] === undefined) {\n        if (typeof subNode.id === 'number') {\n          node[subNode.name] = {};\n          node[subNode.name][subNode.id] = subNode;\n        } else {\n          node[subNode.name] = subNode;\n        }\n      } else {\n        if (subNode.name === 'PoseNode') {\n          if (!Array.isArray(node[subNode.name])) {\n            node[subNode.name] = [node[subNode.name]];\n          }\n\n          node[subNode.name].push(subNode);\n        } else if (node[subNode.name][subNode.id] === undefined) {\n          node[subNode.name][subNode.id] = subNode;\n        }\n      }\n    },\n    parseProperty: function parseProperty(reader) {\n      var type = reader.getString(1);\n\n      switch (type) {\n        case 'C':\n          return reader.getBoolean();\n\n        case 'D':\n          return reader.getFloat64();\n\n        case 'F':\n          return reader.getFloat32();\n\n        case 'I':\n          return reader.getInt32();\n\n        case 'L':\n          return reader.getInt64();\n\n        case 'R':\n          var length = reader.getUint32();\n          return reader.getArrayBuffer(length);\n\n        case 'S':\n          var length = reader.getUint32();\n          return reader.getString(length);\n\n        case 'Y':\n          return reader.getInt16();\n\n        case 'b':\n        case 'c':\n        case 'd':\n        case 'f':\n        case 'i':\n        case 'l':\n          var arrayLength = reader.getUint32();\n          var encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\n          var compressedLength = reader.getUint32();\n\n          if (encoding === 0) {\n            switch (type) {\n              case 'b':\n              case 'c':\n                return reader.getBooleanArray(arrayLength);\n\n              case 'd':\n                return reader.getFloat64Array(arrayLength);\n\n              case 'f':\n                return reader.getFloat32Array(arrayLength);\n\n              case 'i':\n                return reader.getInt32Array(arrayLength);\n\n              case 'l':\n                return reader.getInt64Array(arrayLength);\n            }\n          }\n\n          if (typeof Inflate === 'undefined') {\n            console.error('THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js');\n          }\n\n          var inflate = new Inflate(new Uint8Array(reader.getArrayBuffer(compressedLength))); // eslint-disable-line no-undef\n\n          var reader2 = new BinaryReader(inflate.decompress().buffer);\n\n          switch (type) {\n            case 'b':\n            case 'c':\n              return reader2.getBooleanArray(arrayLength);\n\n            case 'd':\n              return reader2.getFloat64Array(arrayLength);\n\n            case 'f':\n              return reader2.getFloat32Array(arrayLength);\n\n            case 'i':\n              return reader2.getInt32Array(arrayLength);\n\n            case 'l':\n              return reader2.getInt64Array(arrayLength);\n          }\n\n        default:\n          throw new Error('THREE.FBXLoader: Unknown property type ' + type);\n      }\n    }\n  };\n\n  function BinaryReader(buffer, littleEndian) {\n    this.dv = new DataView(buffer);\n    this.offset = 0;\n    this.littleEndian = littleEndian !== undefined ? littleEndian : true;\n  }\n\n  BinaryReader.prototype = {\n    constructor: BinaryReader,\n    getOffset: function getOffset() {\n      return this.offset;\n    },\n    size: function size() {\n      return this.dv.buffer.byteLength;\n    },\n    skip: function skip(length) {\n      this.offset += length;\n    },\n    // seems like true/false representation depends on exporter.\n    // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n    // then sees LSB.\n    getBoolean: function getBoolean() {\n      return (this.getUint8() & 1) === 1;\n    },\n    getBooleanArray: function getBooleanArray(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getBoolean());\n      }\n\n      return a;\n    },\n    getUint8: function getUint8() {\n      var value = this.dv.getUint8(this.offset);\n      this.offset += 1;\n      return value;\n    },\n    getInt16: function getInt16() {\n      var value = this.dv.getInt16(this.offset, this.littleEndian);\n      this.offset += 2;\n      return value;\n    },\n    getInt32: function getInt32() {\n      var value = this.dv.getInt32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    getInt32Array: function getInt32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt32());\n      }\n\n      return a;\n    },\n    getUint32: function getUint32() {\n      var value = this.dv.getUint32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    // JavaScript doesn't support 64-bit integer so calculate this here\n    // 1 << 32 will return 1 so using multiply operation instead here.\n    // There's a possibility that this method returns wrong value if the value\n    // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n    // TODO: safely handle 64-bit integer\n    getInt64: function getInt64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      } // calculate negative value\n\n\n      if (high & 0x80000000) {\n        high = ~high & 0xFFFFFFFF;\n        low = ~low & 0xFFFFFFFF;\n        if (low === 0xFFFFFFFF) high = high + 1 & 0xFFFFFFFF;\n        low = low + 1 & 0xFFFFFFFF;\n        return -(high * 0x100000000 + low);\n      }\n\n      return high * 0x100000000 + low;\n    },\n    getInt64Array: function getInt64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt64());\n      }\n\n      return a;\n    },\n    // Note: see getInt64() comment\n    getUint64: function getUint64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      }\n\n      return high * 0x100000000 + low;\n    },\n    getFloat32: function getFloat32() {\n      var value = this.dv.getFloat32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    getFloat32Array: function getFloat32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat32());\n      }\n\n      return a;\n    },\n    getFloat64: function getFloat64() {\n      var value = this.dv.getFloat64(this.offset, this.littleEndian);\n      this.offset += 8;\n      return value;\n    },\n    getFloat64Array: function getFloat64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat64());\n      }\n\n      return a;\n    },\n    getArrayBuffer: function getArrayBuffer(size) {\n      var value = this.dv.buffer.slice(this.offset, this.offset + size);\n      this.offset += size;\n      return value;\n    },\n    getString: function getString(size) {\n      // note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a[i] = this.getUint8();\n      }\n\n      var nullByte = a.indexOf(0);\n      if (nullByte >= 0) a = a.slice(0, nullByte);\n      return LoaderUtils.decodeText(new Uint8Array(a));\n    }\n  }; // FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n  // and BinaryParser( FBX Binary format)\n\n  function FBXTree() {}\n\n  FBXTree.prototype = {\n    constructor: FBXTree,\n    add: function add(key, val) {\n      this[key] = val;\n    }\n  }; // ************** UTILITY FUNCTIONS **************\n\n  function isFbxFormatBinary(buffer) {\n    var CORRECT = 'Kaydara FBX Binary  \\0';\n    return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\n  }\n\n  function isFbxFormatASCII(text) {\n    var CORRECT = ['K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\'];\n    var cursor = 0;\n\n    function read(offset) {\n      var result = text[offset - 1];\n      text = text.slice(cursor + offset);\n      cursor++;\n      return result;\n    }\n\n    for (var i = 0; i < CORRECT.length; ++i) {\n      var num = read(1);\n\n      if (num === CORRECT[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function getFbxVersion(text) {\n    var versionRegExp = /FBXVersion: (\\d+)/;\n    var match = text.match(versionRegExp);\n\n    if (match) {\n      var version = parseInt(match[1]);\n      return version;\n    }\n\n    throw new Error('THREE.FBXLoader: Cannot find the version number for the file given.');\n  } // Converts FBX ticks into real time seconds.\n\n\n  function convertFBXTimeToSeconds(time) {\n    return time / 46186158000;\n  }\n\n  var dataArray = []; // extracts the data from the correct position in the FBX array based on indexing type\n\n  function getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n    var index;\n\n    switch (infoObject.mappingType) {\n      case 'ByPolygonVertex':\n        index = polygonVertexIndex;\n        break;\n\n      case 'ByPolygon':\n        index = polygonIndex;\n        break;\n\n      case 'ByVertice':\n        index = vertexIndex;\n        break;\n\n      case 'AllSame':\n        index = infoObject.indices[0];\n        break;\n\n      default:\n        console.warn('THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType);\n    }\n\n    if (infoObject.referenceType === 'IndexToDirect') index = infoObject.indices[index];\n    var from = index * infoObject.dataSize;\n    var to = from + infoObject.dataSize;\n    return slice(dataArray, infoObject.buffer, from, to);\n  }\n\n  var tempEuler = new Euler();\n  var tempVec = new Vector3(); // generate transformation from FBX transform data\n  // ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n  // ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\n\n  function generateTransform(transformData) {\n    var lTranslationM = new Matrix4();\n    var lPreRotationM = new Matrix4();\n    var lRotationM = new Matrix4();\n    var lPostRotationM = new Matrix4();\n    var lScalingM = new Matrix4();\n    var lScalingPivotM = new Matrix4();\n    var lScalingOffsetM = new Matrix4();\n    var lRotationOffsetM = new Matrix4();\n    var lRotationPivotM = new Matrix4();\n    var lParentGX = new Matrix4();\n    var lGlobalT = new Matrix4();\n    var inheritType = transformData.inheritType ? transformData.inheritType : 0;\n    if (transformData.translation) lTranslationM.setPosition(tempVec.fromArray(transformData.translation));\n\n    if (transformData.preRotation) {\n      var array = transformData.preRotation.map(MathUtils.degToRad);\n      array.push(transformData.eulerOrder);\n      lPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n    }\n\n    if (transformData.rotation) {\n      var array = transformData.rotation.map(MathUtils.degToRad);\n      array.push(transformData.eulerOrder);\n      lRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n    }\n\n    if (transformData.postRotation) {\n      var array = transformData.postRotation.map(MathUtils.degToRad);\n      array.push(transformData.eulerOrder);\n      lPostRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n    }\n\n    if (transformData.scale) lScalingM.scale(tempVec.fromArray(transformData.scale)); // Pivots and offsets\n\n    if (transformData.scalingOffset) lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset));\n    if (transformData.scalingPivot) lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot));\n    if (transformData.rotationOffset) lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset));\n    if (transformData.rotationPivot) lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot)); // parent transform\n\n    if (transformData.parentMatrixWorld) lParentGX = transformData.parentMatrixWorld; // Global Rotation\n\n    var lLRM = lPreRotationM.multiply(lRotationM).multiply(lPostRotationM);\n    var lParentGRM = new Matrix4();\n    lParentGX.extractRotation(lParentGRM); // Global Shear*Scaling\n\n    var lParentTM = new Matrix4();\n    lParentTM.copyPosition(lParentGX);\n    var lParentGSM = new Matrix4();\n    lParentGSM.getInverse(lParentGRM).multiply(lParentGX);\n    var lGlobalRS = new Matrix4();\n\n    if (inheritType === 0) {\n      lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lScalingM);\n    } else if (inheritType === 1) {\n      lGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lScalingM);\n    } else {\n      var lParentLSM_inv = new Matrix4().getInverse(lScalingM);\n      var lParentGSM_noLocal = new Matrix4().multiply(lParentGSM).multiply(lParentLSM_inv);\n      lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lScalingM);\n    }\n\n    var lRotationPivotM_inv = new Matrix4().getInverse(lRotationPivotM);\n    var lScalingPivotM_inv = new Matrix4().getInverse(lScalingPivotM); // Calculate the local transform matrix\n\n    var lTransform = new Matrix4();\n    lTransform.copy(lTranslationM).multiply(lRotationOffsetM).multiply(lRotationPivotM).multiply(lPreRotationM).multiply(lRotationM).multiply(lPostRotationM).multiply(lRotationPivotM_inv).multiply(lScalingOffsetM).multiply(lScalingPivotM).multiply(lScalingM).multiply(lScalingPivotM_inv);\n    var lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition(lTransform);\n    var lGlobalTranslation = new Matrix4().copy(lParentGX).multiply(lLocalTWithAllPivotAndOffsetInfo);\n    lGlobalT.copyPosition(lGlobalTranslation);\n    lTransform = new Matrix4().multiply(lGlobalT).multiply(lGlobalRS);\n    return lTransform;\n  } // Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n  // ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\n\n  function getEulerOrder(order) {\n    order = order || 0;\n    var enums = ['ZYX', // -> XYZ extrinsic\n    'YZX', // -> XZY extrinsic\n    'XZY', // -> YZX extrinsic\n    'ZXY', // -> YXZ extrinsic\n    'YXZ', // -> ZXY extrinsic\n    'XYZ' // -> ZYX extrinsic\n    //'SphericXYZ', // not possible to support\n    ];\n\n    if (order === 6) {\n      console.warn('THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.');\n      return enums[0];\n    }\n\n    return enums[order];\n  } // Parses comma separated list of numbers and returns them an array.\n  // Used internally by the TextParser\n\n\n  function parseNumberArray(value) {\n    var array = value.split(',').map(function (val) {\n      return parseFloat(val);\n    });\n    return array;\n  }\n\n  function convertArrayBufferToString(buffer, from, to) {\n    if (from === undefined) from = 0;\n    if (to === undefined) to = buffer.byteLength;\n    return LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\n  }\n\n  function append(a, b) {\n    for (var i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n      a[j] = b[i];\n    }\n  }\n\n  function slice(a, b, from, to) {\n    for (var i = from, j = 0; i < to; i++, j++) {\n      a[j] = b[i];\n    }\n\n    return a;\n  } // inject array a2 into array a1 at index\n\n\n  function inject(a1, index, a2) {\n    return a1.slice(0, index).concat(a2).concat(a1.slice(index));\n  }\n\n  return FBXLoader;\n}();\n\nexport { FBXLoader };","import _regeneratorRuntime from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _slicedToArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useReducer, useRef, useEffect, useLayoutEffect } from 'react';\n\nfunction create(createState) {\n  var state;\n  var listeners = new Set();\n\n  var setState = function setState(partial, replace) {\n    var nextState = typeof partial === 'function' ? partial(state) : partial;\n\n    if (nextState !== state) {\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(function (listener) {\n        return listener(state);\n      });\n    }\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var subscribeWithSelector = function subscribeWithSelector(listener) {\n    var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getState;\n    var equalityFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Object.is;\n    var currentSlice = selector(state);\n\n    function listenerToAdd() {\n      // Selector or equality function could throw but we don't want to stop\n      // the listener from being called.\n      // https://github.com/react-spring/zustand/pull/37\n      try {\n        var newStateSlice = selector(state);\n\n        if (!equalityFn(currentSlice, newStateSlice)) {\n          listener(currentSlice = newStateSlice);\n        }\n      } catch (error) {\n        listener(null, error);\n      }\n    }\n\n    listeners.add(listenerToAdd); // Unsubscribe\n\n    return function () {\n      return listeners.delete(listenerToAdd);\n    };\n  };\n\n  var subscribe = function subscribe(listener, selector, equalityFn) {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener); // Unsubscribe\n\n    return function () {\n      return listeners.delete(listener);\n    };\n  };\n\n  var destroy = function destroy() {\n    return listeners.clear();\n  };\n\n  var api = {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe,\n    destroy: destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nvar useIsoLayoutEffect = typeof window === 'undefined' ? useEffect : useLayoutEffect;\n\nfunction create$1(createState) {\n  var api = typeof createState === 'function' ? create(createState) : createState;\n\n  var useStore = function useStore() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : api.getState;\n    var equalityFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Object.is;\n\n    var _useReducer = useReducer(function (c) {\n      return c + 1;\n    }, 0),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        forceUpdate = _useReducer2[1];\n\n    var state = api.getState();\n    var stateRef = useRef(state);\n    var selectorRef = useRef(selector);\n    var equalityFnRef = useRef(equalityFn);\n    var erroredRef = useRef(false);\n    var currentSliceRef = useRef();\n\n    if (currentSliceRef.current === undefined) {\n      currentSliceRef.current = selector(state);\n    }\n\n    var newStateSlice;\n    var hasNewStateSlice = false; // The selector or equalityFn need to be called during the render phase if\n    // they change. We also want legitimate errors to be visible so we re-run\n    // them if they errored in the subscriber.\n\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      // Using local variables to avoid mutations in the render phase.\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    } // Syncing changes in useEffect.\n\n\n    useIsoLayoutEffect(function () {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    var stateBeforeSubscriptionRef = useRef(state);\n    useEffect(function () {\n      var listener = function listener() {\n        try {\n          var nextState = api.getState();\n          var nextStateSlice = selectorRef.current(nextState);\n\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n\n      var unsubscribe = api.subscribe(listener);\n\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener(); // state has changed before subscription\n      }\n\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n\n  Object.assign(useStore, api); // For backward compatibility (No TS types for this)\n\n  useStore[Symbol.iterator] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.warn('[useStore, api] = create() is deprecated and will be removed in v4');\n            _context.next = 3;\n            return useStore;\n\n          case 3:\n            _context.next = 5;\n            return api;\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  });\n  return useStore;\n}\n\nexport default create$1;","import { Color, LinearFilter, MathUtils, Matrix4, Mesh, PerspectiveCamera, Plane, RGBFormat, ShaderMaterial, UniformsUtils, Vector3, Vector4, WebGLRenderTarget } from \"../../../build/three.module.js\";\n\nvar Reflector = function Reflector(geometry, options) {\n  Mesh.call(this, geometry);\n  this.type = 'Reflector';\n  var scope = this;\n  options = options || {};\n  var color = options.color !== undefined ? new Color(options.color) : new Color(0x7F7F7F);\n  var textureWidth = options.textureWidth || 512;\n  var textureHeight = options.textureHeight || 512;\n  var clipBias = options.clipBias || 0;\n  var shader = options.shader || Reflector.ReflectorShader; //\n\n  var reflectorPlane = new Plane();\n  var normal = new Vector3();\n  var reflectorWorldPosition = new Vector3();\n  var cameraWorldPosition = new Vector3();\n  var rotationMatrix = new Matrix4();\n  var lookAtPosition = new Vector3(0, 0, -1);\n  var clipPlane = new Vector4();\n  var view = new Vector3();\n  var target = new Vector3();\n  var q = new Vector4();\n  var textureMatrix = new Matrix4();\n  var virtualCamera = new PerspectiveCamera();\n  var parameters = {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBFormat\n  };\n  var renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, parameters);\n\n  if (!MathUtils.isPowerOfTwo(textureWidth) || !MathUtils.isPowerOfTwo(textureHeight)) {\n    renderTarget.texture.generateMipmaps = false;\n  }\n\n  var material = new ShaderMaterial({\n    uniforms: UniformsUtils.clone(shader.uniforms),\n    fragmentShader: shader.fragmentShader,\n    vertexShader: shader.vertexShader\n  });\n  material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n  material.uniforms[\"color\"].value = color;\n  material.uniforms[\"textureMatrix\"].value = textureMatrix;\n  this.material = material;\n\n  this.onBeforeRender = function (renderer, scene, camera) {\n    reflectorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n    cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n    rotationMatrix.extractRotation(scope.matrixWorld);\n    normal.set(0, 0, 1);\n    normal.applyMatrix4(rotationMatrix);\n    view.subVectors(reflectorWorldPosition, cameraWorldPosition); // Avoid rendering when reflector is facing away\n\n    if (view.dot(normal) > 0) return;\n    view.reflect(normal).negate();\n    view.add(reflectorWorldPosition);\n    rotationMatrix.extractRotation(camera.matrixWorld);\n    lookAtPosition.set(0, 0, -1);\n    lookAtPosition.applyMatrix4(rotationMatrix);\n    lookAtPosition.add(cameraWorldPosition);\n    target.subVectors(reflectorWorldPosition, lookAtPosition);\n    target.reflect(normal).negate();\n    target.add(reflectorWorldPosition);\n    virtualCamera.position.copy(view);\n    virtualCamera.up.set(0, 1, 0);\n    virtualCamera.up.applyMatrix4(rotationMatrix);\n    virtualCamera.up.reflect(normal);\n    virtualCamera.lookAt(target);\n    virtualCamera.far = camera.far; // Used in WebGLBackground\n\n    virtualCamera.updateMatrixWorld();\n    virtualCamera.projectionMatrix.copy(camera.projectionMatrix); // Update the texture matrix\n\n    textureMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n    textureMatrix.multiply(virtualCamera.projectionMatrix);\n    textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n    textureMatrix.multiply(scope.matrixWorld); // Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n    // Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n\n    reflectorPlane.setFromNormalAndCoplanarPoint(normal, reflectorWorldPosition);\n    reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n    clipPlane.set(reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant);\n    var projectionMatrix = virtualCamera.projectionMatrix;\n    q.x = (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n    q.y = (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n    q.z = -1.0;\n    q.w = (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14]; // Calculate the scaled plane vector\n\n    clipPlane.multiplyScalar(2.0 / clipPlane.dot(q)); // Replacing the third row of the projection matrix\n\n    projectionMatrix.elements[2] = clipPlane.x;\n    projectionMatrix.elements[6] = clipPlane.y;\n    projectionMatrix.elements[10] = clipPlane.z + 1.0 - clipBias;\n    projectionMatrix.elements[14] = clipPlane.w; // Render\n\n    renderTarget.texture.encoding = renderer.outputEncoding;\n    scope.visible = false;\n    var currentRenderTarget = renderer.getRenderTarget();\n    var currentXrEnabled = renderer.xr.enabled;\n    var currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n    renderer.xr.enabled = false; // Avoid camera modification\n\n    renderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\n\n    renderer.setRenderTarget(renderTarget);\n    renderer.state.buffers.depth.setMask(true); // make sure the depth buffer is writable so it can be properly cleared, see #18897\n\n    if (renderer.autoClear === false) renderer.clear();\n    renderer.render(scene, virtualCamera);\n    renderer.xr.enabled = currentXrEnabled;\n    renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n    renderer.setRenderTarget(currentRenderTarget); // Restore viewport\n\n    var viewport = camera.viewport;\n\n    if (viewport !== undefined) {\n      renderer.state.viewport(viewport);\n    }\n\n    scope.visible = true;\n  };\n\n  this.getRenderTarget = function () {\n    return renderTarget;\n  };\n};\n\nReflector.prototype = Object.create(Mesh.prototype);\nReflector.prototype.constructor = Reflector;\nReflector.ReflectorShader = {\n  uniforms: {\n    'color': {\n      value: null\n    },\n    'tDiffuse': {\n      value: null\n    },\n    'textureMatrix': {\n      value: null\n    }\n  },\n  vertexShader: ['uniform mat4 textureMatrix;', 'varying vec4 vUv;', 'void main() {', '\tvUv = textureMatrix * vec4( position, 1.0 );', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform vec3 color;', 'uniform sampler2D tDiffuse;', 'varying vec4 vUv;', 'float blendOverlay( float base, float blend ) {', '\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );', '}', 'vec3 blendOverlay( vec3 base, vec3 blend ) {', '\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );', '}', 'void main() {', '\tvec4 base = texture2DProj( tDiffuse, vUv );', '\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );', '}'].join('\\n')\n};\nexport { Reflector };","import { BufferGeometry, Float32BufferAttribute, Geometry, Vector3 } from \"../../../build/three.module.js\";\n/**\n *\tSimplification Geometry Modifier\n *    - based on code and technique\n *\t  - by Stan Melax in 1998\n *\t  - Progressive Mesh type Polygon Reduction Algorithm\n *    - http://www.melax.com/polychop/\n */\n\nvar SimplifyModifier = function SimplifyModifier() {};\n\n(function () {\n  var cb = new Vector3(),\n      ab = new Vector3();\n\n  function pushIfUnique(array, object) {\n    if (array.indexOf(object) === -1) array.push(object);\n  }\n\n  function removeFromArray(array, object) {\n    var k = array.indexOf(object);\n    if (k > -1) array.splice(k, 1);\n  }\n\n  function computeEdgeCollapseCost(u, v) {\n    // if we collapse edge uv by moving u to v then how\n    // much different will the model change, i.e. the \"error\".\n    var edgelength = v.position.distanceTo(u.position);\n    var curvature = 0;\n    var sideFaces = [];\n    var i,\n        il = u.faces.length,\n        face,\n        sideFace; // find the \"sides\" triangles that are on the edge uv\n\n    for (i = 0; i < il; i++) {\n      face = u.faces[i];\n\n      if (face.hasVertex(v)) {\n        sideFaces.push(face);\n      }\n    } // use the triangle facing most away from the sides\n    // to determine our curvature term\n\n\n    for (i = 0; i < il; i++) {\n      var minCurvature = 1;\n      face = u.faces[i];\n\n      for (var j = 0; j < sideFaces.length; j++) {\n        sideFace = sideFaces[j]; // use dot product of face normals.\n\n        var dotProd = face.normal.dot(sideFace.normal);\n        minCurvature = Math.min(minCurvature, (1.001 - dotProd) / 2);\n      }\n\n      curvature = Math.max(curvature, minCurvature);\n    } // crude approach in attempt to preserve borders\n    // though it seems not to be totally correct\n\n\n    var borders = 0;\n\n    if (sideFaces.length < 2) {\n      // we add some arbitrary cost for borders,\n      // borders += 10;\n      curvature = 1;\n    }\n\n    var amt = edgelength * curvature + borders;\n    return amt;\n  }\n\n  function computeEdgeCostAtVertex(v) {\n    // compute the edge collapse cost for all edges that start\n    // from vertex v.  Since we are only interested in reducing\n    // the object by selecting the min cost edge at each step, we\n    // only cache the cost of the least cost edge at this vertex\n    // (in member variable collapse) as well as the value of the\n    // cost (in member variable collapseCost).\n    if (v.neighbors.length === 0) {\n      // collapse if no neighbors.\n      v.collapseNeighbor = null;\n      v.collapseCost = -0.01;\n      return;\n    }\n\n    v.collapseCost = 100000;\n    v.collapseNeighbor = null; // search all neighboring edges for \"least cost\" edge\n\n    for (var i = 0; i < v.neighbors.length; i++) {\n      var collapseCost = computeEdgeCollapseCost(v, v.neighbors[i]);\n\n      if (!v.collapseNeighbor) {\n        v.collapseNeighbor = v.neighbors[i];\n        v.collapseCost = collapseCost;\n        v.minCost = collapseCost;\n        v.totalCost = 0;\n        v.costCount = 0;\n      }\n\n      v.costCount++;\n      v.totalCost += collapseCost;\n\n      if (collapseCost < v.minCost) {\n        v.collapseNeighbor = v.neighbors[i];\n        v.minCost = collapseCost;\n      }\n    } // we average the cost of collapsing at this vertex\n\n\n    v.collapseCost = v.totalCost / v.costCount; // v.collapseCost = v.minCost;\n  }\n\n  function removeVertex(v, vertices) {\n    console.assert(v.faces.length === 0);\n\n    while (v.neighbors.length) {\n      var n = v.neighbors.pop();\n      removeFromArray(n.neighbors, v);\n    }\n\n    removeFromArray(vertices, v);\n  }\n\n  function removeFace(f, faces) {\n    removeFromArray(faces, f);\n    if (f.v1) removeFromArray(f.v1.faces, f);\n    if (f.v2) removeFromArray(f.v2.faces, f);\n    if (f.v3) removeFromArray(f.v3.faces, f); // TODO optimize this!\n\n    var vs = [f.v1, f.v2, f.v3];\n    var v1, v2;\n\n    for (var i = 0; i < 3; i++) {\n      v1 = vs[i];\n      v2 = vs[(i + 1) % 3];\n      if (!v1 || !v2) continue;\n      v1.removeIfNonNeighbor(v2);\n      v2.removeIfNonNeighbor(v1);\n    }\n  }\n\n  function collapse(vertices, faces, u, v) {\n    // u and v are pointers to vertices of an edge\n    // Collapse the edge uv by moving vertex u onto v\n    if (!v) {\n      // u is a vertex all by itself so just delete it..\n      removeVertex(u, vertices);\n      return;\n    }\n\n    var i;\n    var tmpVertices = [];\n\n    for (i = 0; i < u.neighbors.length; i++) {\n      tmpVertices.push(u.neighbors[i]);\n    } // delete triangles on edge uv:\n\n\n    for (i = u.faces.length - 1; i >= 0; i--) {\n      if (u.faces[i].hasVertex(v)) {\n        removeFace(u.faces[i], faces);\n      }\n    } // update remaining triangles to have v instead of u\n\n\n    for (i = u.faces.length - 1; i >= 0; i--) {\n      u.faces[i].replaceVertex(u, v);\n    }\n\n    removeVertex(u, vertices); // recompute the edge collapse costs in neighborhood\n\n    for (i = 0; i < tmpVertices.length; i++) {\n      computeEdgeCostAtVertex(tmpVertices[i]);\n    }\n  }\n\n  function minimumCostEdge(vertices) {\n    // O(n * n) approach. TODO optimize this\n    var least = vertices[0];\n\n    for (var i = 0; i < vertices.length; i++) {\n      if (vertices[i].collapseCost < least.collapseCost) {\n        least = vertices[i];\n      }\n    }\n\n    return least;\n  } // we use a triangle class to represent structure of face slightly differently\n\n\n  function Triangle(v1, v2, v3, a, b, c) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n    this.normal = new Vector3();\n    this.computeNormal();\n    v1.faces.push(this);\n    v1.addUniqueNeighbor(v2);\n    v1.addUniqueNeighbor(v3);\n    v2.faces.push(this);\n    v2.addUniqueNeighbor(v1);\n    v2.addUniqueNeighbor(v3);\n    v3.faces.push(this);\n    v3.addUniqueNeighbor(v1);\n    v3.addUniqueNeighbor(v2);\n  }\n\n  Triangle.prototype.computeNormal = function () {\n    var vA = this.v1.position;\n    var vB = this.v2.position;\n    var vC = this.v3.position;\n    cb.subVectors(vC, vB);\n    ab.subVectors(vA, vB);\n    cb.cross(ab).normalize();\n    this.normal.copy(cb);\n  };\n\n  Triangle.prototype.hasVertex = function (v) {\n    return v === this.v1 || v === this.v2 || v === this.v3;\n  };\n\n  Triangle.prototype.replaceVertex = function (oldv, newv) {\n    if (oldv === this.v1) this.v1 = newv;else if (oldv === this.v2) this.v2 = newv;else if (oldv === this.v3) this.v3 = newv;\n    removeFromArray(oldv.faces, this);\n    newv.faces.push(this);\n    oldv.removeIfNonNeighbor(this.v1);\n    this.v1.removeIfNonNeighbor(oldv);\n    oldv.removeIfNonNeighbor(this.v2);\n    this.v2.removeIfNonNeighbor(oldv);\n    oldv.removeIfNonNeighbor(this.v3);\n    this.v3.removeIfNonNeighbor(oldv);\n    this.v1.addUniqueNeighbor(this.v2);\n    this.v1.addUniqueNeighbor(this.v3);\n    this.v2.addUniqueNeighbor(this.v1);\n    this.v2.addUniqueNeighbor(this.v3);\n    this.v3.addUniqueNeighbor(this.v1);\n    this.v3.addUniqueNeighbor(this.v2);\n    this.computeNormal();\n  };\n\n  function Vertex(v, id) {\n    this.position = v;\n    this.id = id; // old index id\n\n    this.faces = []; // faces vertex is connected\n\n    this.neighbors = []; // neighbouring vertices aka \"adjacentVertices\"\n    // these will be computed in computeEdgeCostAtVertex()\n\n    this.collapseCost = 0; // cost of collapsing this vertex, the less the better. aka objdist\n\n    this.collapseNeighbor = null; // best candinate for collapsing\n  }\n\n  Vertex.prototype.addUniqueNeighbor = function (vertex) {\n    pushIfUnique(this.neighbors, vertex);\n  };\n\n  Vertex.prototype.removeIfNonNeighbor = function (n) {\n    var neighbors = this.neighbors;\n    var faces = this.faces;\n    var offset = neighbors.indexOf(n);\n    if (offset === -1) return;\n\n    for (var i = 0; i < faces.length; i++) {\n      if (faces[i].hasVertex(n)) return;\n    }\n\n    neighbors.splice(offset, 1);\n  };\n\n  SimplifyModifier.prototype.modify = function (geometry, count) {\n    if (geometry.isBufferGeometry) {\n      geometry = new Geometry().fromBufferGeometry(geometry);\n    }\n\n    geometry.mergeVertices();\n    var oldVertices = geometry.vertices; // Three Position\n\n    var oldFaces = geometry.faces; // Three Face\n    // conversion\n\n    var vertices = [];\n    var faces = [];\n    var i, il; //\n    // put data of original geometry in different data structures\n    //\n    // add vertices\n\n    for (i = 0, il = oldVertices.length; i < il; i++) {\n      var vertex = new Vertex(oldVertices[i], i);\n      vertices.push(vertex);\n    } // add faces\n\n\n    for (i = 0, il = oldFaces.length; i < il; i++) {\n      var face = oldFaces[i];\n      var a = face.a;\n      var b = face.b;\n      var c = face.c;\n      var triangle = new Triangle(vertices[a], vertices[b], vertices[c], a, b, c);\n      faces.push(triangle);\n    } // compute all edge collapse costs\n\n\n    for (i = 0, il = vertices.length; i < il; i++) {\n      computeEdgeCostAtVertex(vertices[i]);\n    }\n\n    var nextVertex;\n    var z = count;\n\n    while (z--) {\n      nextVertex = minimumCostEdge(vertices);\n\n      if (!nextVertex) {\n        console.log('THREE.SimplifyModifier: No next vertex');\n        break;\n      }\n\n      collapse(vertices, faces, nextVertex, nextVertex.collapseNeighbor);\n    } //\n\n\n    var simplifiedGeometry = new BufferGeometry();\n    var position = [];\n    var index = []; //\n\n    for (i = 0; i < vertices.length; i++) {\n      var vertex = vertices[i].position;\n      position.push(vertex.x, vertex.y, vertex.z);\n    } //\n\n\n    for (i = 0; i < faces.length; i++) {\n      var face = faces[i];\n      var a = vertices.indexOf(face.v1);\n      var b = vertices.indexOf(face.v2);\n      var c = vertices.indexOf(face.v3);\n      index.push(a, b, c);\n    } //\n\n\n    simplifiedGeometry.setAttribute('position', new Float32BufferAttribute(position, 3));\n    simplifiedGeometry.setIndex(index);\n    return simplifiedGeometry;\n  };\n})();\n\nexport { SimplifyModifier };","import { Face3, Geometry, Vector2, Vector3 } from \"../../../build/three.module.js\";\n/**\n *\tSubdivision Geometry Modifier\n *\t\tusing Loop Subdivision Scheme\n *\n *\tReferences:\n *\t\thttp://graphics.stanford.edu/~mdfisher/subdivision.html\n *\t\thttp://www.holmes3d.net/graphics/subdivision/\n *\t\thttp://www.cs.rutgers.edu/~decarlo/readings/subdiv-sg00c.pdf\n *\n *\tKnown Issues:\n *\t\t- currently doesn't handle \"Sharp Edges\"\n */\n\nvar SubdivisionModifier = function SubdivisionModifier(subdivisions) {\n  this.subdivisions = subdivisions === undefined ? 1 : subdivisions;\n}; // Applies the \"modify\" pattern\n\n\nSubdivisionModifier.prototype.modify = function (geometry) {\n  if (geometry.isBufferGeometry) {\n    geometry = new Geometry().fromBufferGeometry(geometry);\n  } else {\n    geometry = geometry.clone();\n  }\n\n  geometry.mergeVertices();\n  var repeats = this.subdivisions;\n\n  while (repeats-- > 0) {\n    this.smooth(geometry);\n  }\n\n  geometry.computeFaceNormals();\n  geometry.computeVertexNormals();\n  return geometry;\n};\n\n(function () {\n  // Some constants\n  var ABC = ['a', 'b', 'c'];\n\n  function getEdge(a, b, map) {\n    var vertexIndexA = Math.min(a, b);\n    var vertexIndexB = Math.max(a, b);\n    var key = vertexIndexA + \"_\" + vertexIndexB;\n    return map[key];\n  }\n\n  function processEdge(a, b, vertices, map, face, metaVertices) {\n    var vertexIndexA = Math.min(a, b);\n    var vertexIndexB = Math.max(a, b);\n    var key = vertexIndexA + \"_\" + vertexIndexB;\n    var edge;\n\n    if (key in map) {\n      edge = map[key];\n    } else {\n      var vertexA = vertices[vertexIndexA];\n      var vertexB = vertices[vertexIndexB];\n      edge = {\n        a: vertexA,\n        // pointer reference\n        b: vertexB,\n        newEdge: null,\n        // aIndex: a, // numbered reference\n        // bIndex: b,\n        faces: [] // pointers to face\n\n      };\n      map[key] = edge;\n    }\n\n    edge.faces.push(face);\n    metaVertices[a].edges.push(edge);\n    metaVertices[b].edges.push(edge);\n  }\n\n  function generateLookups(vertices, faces, metaVertices, edges) {\n    var i, il, face;\n\n    for (i = 0, il = vertices.length; i < il; i++) {\n      metaVertices[i] = {\n        edges: []\n      };\n    }\n\n    for (i = 0, il = faces.length; i < il; i++) {\n      face = faces[i];\n      processEdge(face.a, face.b, vertices, edges, face, metaVertices);\n      processEdge(face.b, face.c, vertices, edges, face, metaVertices);\n      processEdge(face.c, face.a, vertices, edges, face, metaVertices);\n    }\n  }\n\n  function newFace(newFaces, a, b, c, materialIndex) {\n    newFaces.push(new Face3(a, b, c, undefined, undefined, materialIndex));\n  }\n\n  function midpoint(a, b) {\n    return Math.abs(b - a) / 2 + Math.min(a, b);\n  }\n\n  function newUv(newUvs, a, b, c) {\n    newUvs.push([a.clone(), b.clone(), c.clone()]);\n  } /////////////////////////////\n  // Performs one iteration of Subdivision\n\n\n  SubdivisionModifier.prototype.smooth = function (geometry) {\n    var tmp = new Vector3();\n    var oldVertices, oldFaces, oldUvs;\n    var newVertices,\n        newFaces,\n        newUVs = [];\n    var n, i, il, j, k;\n    var metaVertices, sourceEdges; // new stuff.\n\n    var sourceEdges, newEdgeVertices, newSourceVertices;\n    oldVertices = geometry.vertices; // { x, y, z}\n\n    oldFaces = geometry.faces; // { a: oldVertex1, b: oldVertex2, c: oldVertex3 }\n\n    oldUvs = geometry.faceVertexUvs;\n    var hasUvs = oldUvs[0] !== undefined && oldUvs[0].length > 0;\n\n    if (hasUvs) {\n      for (var j = 0; j < oldUvs.length; j++) {\n        newUVs.push([]);\n      }\n    }\n    /******************************************************\n     *\n     * Step 0: Preprocess Geometry to Generate edges Lookup\n     *\n     *******************************************************/\n\n\n    metaVertices = new Array(oldVertices.length);\n    sourceEdges = {}; // Edge => { oldVertex1, oldVertex2, faces[]  }\n\n    generateLookups(oldVertices, oldFaces, metaVertices, sourceEdges);\n    /******************************************************\n     *\n     *\tStep 1.\n     *\tFor each edge, create a new Edge Vertex,\n     *\tthen position it.\n     *\n     *******************************************************/\n\n    newEdgeVertices = [];\n    var other, currentEdge, newEdge, face;\n    var edgeVertexWeight, adjacentVertexWeight, connectedFaces;\n\n    for (i in sourceEdges) {\n      currentEdge = sourceEdges[i];\n      newEdge = new Vector3();\n      edgeVertexWeight = 3 / 8;\n      adjacentVertexWeight = 1 / 8;\n      connectedFaces = currentEdge.faces.length; // check how many linked faces. 2 should be correct.\n\n      if (connectedFaces != 2) {\n        // if length is not 2, handle condition\n        edgeVertexWeight = 0.5;\n        adjacentVertexWeight = 0;\n\n        if (connectedFaces != 1) {// console.warn( 'Subdivision Modifier: Number of connected faces != 2, is: ', connectedFaces, currentEdge );\n        }\n      }\n\n      newEdge.addVectors(currentEdge.a, currentEdge.b).multiplyScalar(edgeVertexWeight);\n      tmp.set(0, 0, 0);\n\n      for (j = 0; j < connectedFaces; j++) {\n        face = currentEdge.faces[j];\n\n        for (k = 0; k < 3; k++) {\n          other = oldVertices[face[ABC[k]]];\n          if (other !== currentEdge.a && other !== currentEdge.b) break;\n        }\n\n        tmp.add(other);\n      }\n\n      tmp.multiplyScalar(adjacentVertexWeight);\n      newEdge.add(tmp);\n      currentEdge.newEdge = newEdgeVertices.length;\n      newEdgeVertices.push(newEdge); // console.log(currentEdge, newEdge);\n    }\n    /******************************************************\n     *\n     *\tStep 2.\n     *\tReposition each source vertices.\n     *\n     *******************************************************/\n\n\n    var beta, sourceVertexWeight, connectingVertexWeight;\n    var connectingEdge, connectingEdges, oldVertex, newSourceVertex;\n    newSourceVertices = [];\n\n    for (i = 0, il = oldVertices.length; i < il; i++) {\n      oldVertex = oldVertices[i]; // find all connecting edges (using lookupTable)\n\n      connectingEdges = metaVertices[i].edges;\n      n = connectingEdges.length;\n\n      if (n == 3) {\n        beta = 3 / 16;\n      } else if (n > 3) {\n        beta = 3 / (8 * n); // Warren's modified formula\n      } // Loop's original beta formula\n      // beta = 1 / n * ( 5/8 - Math.pow( 3/8 + 1/4 * Math.cos( 2 * Math. PI / n ), 2) );\n\n\n      sourceVertexWeight = 1 - n * beta;\n      connectingVertexWeight = beta;\n\n      if (n <= 2) {\n        // crease and boundary rules\n        // console.warn('crease and boundary rules');\n        if (n == 2) {\n          // console.warn( '2 connecting edges', connectingEdges );\n          sourceVertexWeight = 3 / 4;\n          connectingVertexWeight = 1 / 8; // sourceVertexWeight = 1;\n          // connectingVertexWeight = 0;\n        } else if (n == 1) {// console.warn( 'only 1 connecting edge' );\n        } else if (n == 0) {// console.warn( '0 connecting edges' );\n        }\n      }\n\n      newSourceVertex = oldVertex.clone().multiplyScalar(sourceVertexWeight);\n      tmp.set(0, 0, 0);\n\n      for (j = 0; j < n; j++) {\n        connectingEdge = connectingEdges[j];\n        other = connectingEdge.a !== oldVertex ? connectingEdge.a : connectingEdge.b;\n        tmp.add(other);\n      }\n\n      tmp.multiplyScalar(connectingVertexWeight);\n      newSourceVertex.add(tmp);\n      newSourceVertices.push(newSourceVertex);\n    }\n    /******************************************************\n     *\n     *\tStep 3.\n     *\tGenerate Faces between source vertices\n     *\tand edge vertices.\n     *\n     *******************************************************/\n\n\n    newVertices = newSourceVertices.concat(newEdgeVertices);\n    var sl = newSourceVertices.length,\n        edge1,\n        edge2,\n        edge3;\n    newFaces = [];\n    var uv, x0, x1, x2;\n    var x3 = new Vector2();\n    var x4 = new Vector2();\n    var x5 = new Vector2();\n\n    for (i = 0, il = oldFaces.length; i < il; i++) {\n      face = oldFaces[i]; // find the 3 new edges vertex of each old face\n\n      edge1 = getEdge(face.a, face.b, sourceEdges).newEdge + sl;\n      edge2 = getEdge(face.b, face.c, sourceEdges).newEdge + sl;\n      edge3 = getEdge(face.c, face.a, sourceEdges).newEdge + sl; // create 4 faces.\n\n      newFace(newFaces, edge1, edge2, edge3, face.materialIndex);\n      newFace(newFaces, face.a, edge1, edge3, face.materialIndex);\n      newFace(newFaces, face.b, edge2, edge1, face.materialIndex);\n      newFace(newFaces, face.c, edge3, edge2, face.materialIndex); // create 4 new uv's\n\n      if (hasUvs) {\n        for (var j = 0; j < oldUvs.length; j++) {\n          uv = oldUvs[j][i];\n          x0 = uv[0];\n          x1 = uv[1];\n          x2 = uv[2];\n          x3.set(midpoint(x0.x, x1.x), midpoint(x0.y, x1.y));\n          x4.set(midpoint(x1.x, x2.x), midpoint(x1.y, x2.y));\n          x5.set(midpoint(x0.x, x2.x), midpoint(x0.y, x2.y));\n          newUv(newUVs[j], x3, x4, x5);\n          newUv(newUVs[j], x0, x3, x5);\n          newUv(newUVs[j], x1, x4, x3);\n          newUv(newUVs[j], x2, x5, x4);\n        }\n      }\n    } // Overwrite old arrays\n\n\n    geometry.vertices = newVertices;\n    geometry.faces = newFaces;\n    if (hasUvs) geometry.faceVertexUvs = newUVs; // console.log('done');\n  };\n})();\n\nexport { SubdivisionModifier };","import { Face3 } from \"../../../build/three.module.js\";\n/**\n * Break faces with edges longer than maxEdgeLength\n * - not recursive\n */\n\nvar TessellateModifier = function TessellateModifier(maxEdgeLength) {\n  this.maxEdgeLength = maxEdgeLength;\n};\n\nTessellateModifier.prototype.modify = function (geometry) {\n  var edge;\n  var faces = [];\n  var faceVertexUvs = [];\n  var maxEdgeLengthSquared = this.maxEdgeLength * this.maxEdgeLength;\n\n  for (var i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {\n    faceVertexUvs[i] = [];\n  }\n\n  for (var i = 0, il = geometry.faces.length; i < il; i++) {\n    var face = geometry.faces[i];\n\n    if (face instanceof Face3) {\n      var a = face.a;\n      var b = face.b;\n      var c = face.c;\n      var va = geometry.vertices[a];\n      var vb = geometry.vertices[b];\n      var vc = geometry.vertices[c];\n      var dab = va.distanceToSquared(vb);\n      var dbc = vb.distanceToSquared(vc);\n      var dac = va.distanceToSquared(vc);\n\n      if (dab > maxEdgeLengthSquared || dbc > maxEdgeLengthSquared || dac > maxEdgeLengthSquared) {\n        var m = geometry.vertices.length;\n        var triA = face.clone();\n        var triB = face.clone();\n\n        if (dab >= dbc && dab >= dac) {\n          var vm = va.clone();\n          vm.lerp(vb, 0.5);\n          triA.a = a;\n          triA.b = m;\n          triA.c = c;\n          triB.a = m;\n          triB.b = b;\n          triB.c = c;\n\n          if (face.vertexNormals.length === 3) {\n            var vnm = face.vertexNormals[0].clone();\n            vnm.lerp(face.vertexNormals[1], 0.5);\n            triA.vertexNormals[1].copy(vnm);\n            triB.vertexNormals[0].copy(vnm);\n          }\n\n          if (face.vertexColors.length === 3) {\n            var vcm = face.vertexColors[0].clone();\n            vcm.lerp(face.vertexColors[1], 0.5);\n            triA.vertexColors[1].copy(vcm);\n            triB.vertexColors[0].copy(vcm);\n          }\n\n          edge = 0;\n        } else if (dbc >= dab && dbc >= dac) {\n          var vm = vb.clone();\n          vm.lerp(vc, 0.5);\n          triA.a = a;\n          triA.b = b;\n          triA.c = m;\n          triB.a = m;\n          triB.b = c;\n          triB.c = a;\n\n          if (face.vertexNormals.length === 3) {\n            var vnm = face.vertexNormals[1].clone();\n            vnm.lerp(face.vertexNormals[2], 0.5);\n            triA.vertexNormals[2].copy(vnm);\n            triB.vertexNormals[0].copy(vnm);\n            triB.vertexNormals[1].copy(face.vertexNormals[2]);\n            triB.vertexNormals[2].copy(face.vertexNormals[0]);\n          }\n\n          if (face.vertexColors.length === 3) {\n            var vcm = face.vertexColors[1].clone();\n            vcm.lerp(face.vertexColors[2], 0.5);\n            triA.vertexColors[2].copy(vcm);\n            triB.vertexColors[0].copy(vcm);\n            triB.vertexColors[1].copy(face.vertexColors[2]);\n            triB.vertexColors[2].copy(face.vertexColors[0]);\n          }\n\n          edge = 1;\n        } else {\n          var vm = va.clone();\n          vm.lerp(vc, 0.5);\n          triA.a = a;\n          triA.b = b;\n          triA.c = m;\n          triB.a = m;\n          triB.b = b;\n          triB.c = c;\n\n          if (face.vertexNormals.length === 3) {\n            var vnm = face.vertexNormals[0].clone();\n            vnm.lerp(face.vertexNormals[2], 0.5);\n            triA.vertexNormals[2].copy(vnm);\n            triB.vertexNormals[0].copy(vnm);\n          }\n\n          if (face.vertexColors.length === 3) {\n            var vcm = face.vertexColors[0].clone();\n            vcm.lerp(face.vertexColors[2], 0.5);\n            triA.vertexColors[2].copy(vcm);\n            triB.vertexColors[0].copy(vcm);\n          }\n\n          edge = 2;\n        }\n\n        faces.push(triA, triB);\n        geometry.vertices.push(vm);\n\n        for (var j = 0, jl = geometry.faceVertexUvs.length; j < jl; j++) {\n          if (geometry.faceVertexUvs[j].length) {\n            var uvs = geometry.faceVertexUvs[j][i];\n            var uvA = uvs[0];\n            var uvB = uvs[1];\n            var uvC = uvs[2]; // AB\n\n            if (edge === 0) {\n              var uvM = uvA.clone();\n              uvM.lerp(uvB, 0.5);\n              var uvsTriA = [uvA.clone(), uvM.clone(), uvC.clone()];\n              var uvsTriB = [uvM.clone(), uvB.clone(), uvC.clone()]; // BC\n            } else if (edge === 1) {\n              var uvM = uvB.clone();\n              uvM.lerp(uvC, 0.5);\n              var uvsTriA = [uvA.clone(), uvB.clone(), uvM.clone()];\n              var uvsTriB = [uvM.clone(), uvC.clone(), uvA.clone()]; // AC\n            } else {\n              var uvM = uvA.clone();\n              uvM.lerp(uvC, 0.5);\n              var uvsTriA = [uvA.clone(), uvB.clone(), uvM.clone()];\n              var uvsTriB = [uvM.clone(), uvB.clone(), uvC.clone()];\n            }\n\n            faceVertexUvs[j].push(uvsTriA, uvsTriB);\n          }\n        }\n      } else {\n        faces.push(face);\n\n        for (var j = 0, jl = geometry.faceVertexUvs.length; j < jl; j++) {\n          faceVertexUvs[j].push(geometry.faceVertexUvs[j][i]);\n        }\n      }\n    }\n  }\n\n  geometry.faces = faces;\n  geometry.faceVertexUvs = faceVertexUvs;\n};\n\nexport { TessellateModifier };","import { BackSide, BoxBufferGeometry, Mesh, ShaderMaterial, UniformsUtils, Vector3 } from \"../../../build/three.module.js\";\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://www.simonwallner.at/projects/atmospheric-scattering\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nvar Sky = function Sky() {\n  var shader = Sky.SkyShader;\n  var material = new ShaderMaterial({\n    name: 'SkyShader',\n    fragmentShader: shader.fragmentShader,\n    vertexShader: shader.vertexShader,\n    uniforms: UniformsUtils.clone(shader.uniforms),\n    side: BackSide,\n    depthWrite: false\n  });\n  Mesh.call(this, new BoxBufferGeometry(1, 1, 1), material);\n};\n\nSky.prototype = Object.create(Mesh.prototype);\nSky.SkyShader = {\n  uniforms: {\n    \"turbidity\": {\n      value: 2\n    },\n    \"rayleigh\": {\n      value: 1\n    },\n    \"mieCoefficient\": {\n      value: 0.005\n    },\n    \"mieDirectionalG\": {\n      value: 0.8\n    },\n    \"sunPosition\": {\n      value: new Vector3()\n    },\n    \"up\": {\n      value: new Vector3(0, 1, 0)\n    }\n  },\n  vertexShader: ['uniform vec3 sunPosition;', 'uniform float rayleigh;', 'uniform float turbidity;', 'uniform float mieCoefficient;', 'uniform vec3 up;', 'varying vec3 vWorldPosition;', 'varying vec3 vSunDirection;', 'varying float vSunfade;', 'varying vec3 vBetaR;', 'varying vec3 vBetaM;', 'varying float vSunE;', // constants for atmospheric scattering\n  'const float e = 2.71828182845904523536028747135266249775724709369995957;', 'const float pi = 3.141592653589793238462643383279502884197169;', // wavelength of used primaries, according to preetham\n  'const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );', // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n  // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n  'const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );', // mie stuff\n  // K coefficient for the primaries\n  'const float v = 4.0;', 'const vec3 K = vec3( 0.686, 0.678, 0.666 );', // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n  'const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );', // earth shadow hack\n  // cutoffAngle = pi / 1.95;\n  'const float cutoffAngle = 1.6110731556870734;', 'const float steepness = 1.5;', 'const float EE = 1000.0;', 'float sunIntensity( float zenithAngleCos ) {', '\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );', '\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );', '}', 'vec3 totalMie( float T ) {', '\tfloat c = ( 0.2 * T ) * 10E-18;', '\treturn 0.434 * c * MieConst;', '}', 'void main() {', '\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );', '\tvWorldPosition = worldPosition.xyz;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '\tgl_Position.z = gl_Position.w;', // set z to camera.far\n  '\tvSunDirection = normalize( sunPosition );', '\tvSunE = sunIntensity( dot( vSunDirection, up ) );', '\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );', '\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );', // extinction (absorbtion + out scattering)\n  // rayleigh coefficients\n  '\tvBetaR = totalRayleigh * rayleighCoefficient;', // mie coefficients\n  '\tvBetaM = totalMie( turbidity ) * mieCoefficient;', '}'].join('\\n'),\n  fragmentShader: ['varying vec3 vWorldPosition;', 'varying vec3 vSunDirection;', 'varying float vSunfade;', 'varying vec3 vBetaR;', 'varying vec3 vBetaM;', 'varying float vSunE;', 'uniform float mieDirectionalG;', 'uniform vec3 up;', 'const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );', // constants for atmospheric scattering\n  'const float pi = 3.141592653589793238462643383279502884197169;', 'const float n = 1.0003;', // refractive index of air\n  'const float N = 2.545E25;', // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n  // optical length at zenith for molecules\n  'const float rayleighZenithLength = 8.4E3;', 'const float mieZenithLength = 1.25E3;', // 66 arc seconds -> degrees, and the cosine of that\n  'const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;', // 3.0 / ( 16.0 * pi )\n  'const float THREE_OVER_SIXTEENPI = 0.05968310365946075;', // 1.0 / ( 4.0 * pi )\n  'const float ONE_OVER_FOURPI = 0.07957747154594767;', 'float rayleighPhase( float cosTheta ) {', '\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );', '}', 'float hgPhase( float cosTheta, float g ) {', '\tfloat g2 = pow( g, 2.0 );', '\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );', '\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );', '}', 'void main() {', '\tvec3 direction = normalize( vWorldPosition - cameraPos );', // optical length\n  // cutoff angle at 90 to avoid singularity in next formula.\n  '\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );', '\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );', '\tfloat sR = rayleighZenithLength * inverse;', '\tfloat sM = mieZenithLength * inverse;', // combined extinction factor\n  '\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );', // in scattering\n  '\tfloat cosTheta = dot( direction, vSunDirection );', '\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );', '\tvec3 betaRTheta = vBetaR * rPhase;', '\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );', '\tvec3 betaMTheta = vBetaM * mPhase;', '\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );', '\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );', // nightsky\n  '\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]', '\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]', '\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );', '\tvec3 L0 = vec3( 0.1 ) * Fex;', // composition + solar disc\n  '\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );', '\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;', '\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );', '\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );', '\tgl_FragColor = vec4( retColor, 1.0 );', '#include <tonemapping_fragment>', '#include <encodings_fragment>', '}'].join('\\n')\n};\nexport { Sky };","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nvar HorizontalBlurShader = {\n  uniforms: {\n    \"tDiffuse\": {\n      value: null\n    },\n    \"h\": {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"\tvUv = uv;\", \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform float h;\", \"varying vec2 vUv;\", \"void main() {\", \"\tvec4 sum = vec4( 0.0 );\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\", \"\tgl_FragColor = sum;\", \"}\"].join(\"\\n\")\n};\nexport { HorizontalBlurShader };","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nvar VerticalBlurShader = {\n  uniforms: {\n    \"tDiffuse\": {\n      value: null\n    },\n    \"v\": {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"\tvUv = uv;\", \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform float v;\", \"varying vec2 vUv;\", \"void main() {\", \"\tvec4 sum = vec4( 0.0 );\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\", \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\", \"\tgl_FragColor = sum;\", \"}\"].join(\"\\n\")\n};\nexport { VerticalBlurShader };","import \"core-js/modules/es.array.flat\";\nimport \"core-js/modules/es.array.unscopables.flat\";\nimport _defineProperty2 from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _construct from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/construct\";\nimport _toConsumableArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport React, { forwardRef, useRef, useState, useMemo, useEffect, useLayoutEffect, Children, createElement } from 'react';\nimport { useFrame, useUpdate, useThree, useLoader, addEffect, addAfterEffect, applyProps } from 'react-three-fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { Vector2, AudioListener, AudioLoader, CubeTextureLoader, DefaultLoadingManager, TextureLoader, Vector3, PerspectiveCamera as PerspectiveCamera$1, OrthographicCamera as OrthographicCamera$1, Matrix4, Ray, Sphere as Sphere$1, Color, Raycaster, Camera, BufferGeometry, Geometry, MeshPhysicalMaterial, MeshStandardMaterial, ShaderMaterial, ShaderChunk, Spherical, AdditiveBlending, WebGLRenderTarget, PlaneBufferGeometry, Mesh, MeshDepthMaterial, Shape, RepeatWrapping } from 'three';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial';\nimport { Line2 } from 'three/examples/jsm/lines/Line2';\nimport { Text as Text$1 } from 'r3f-troika';\nimport { DeviceOrientationControls as DeviceOrientationControls$1 } from 'three/examples/jsm/controls/DeviceOrientationControls';\nimport { FlyControls as FlyControls$1 } from 'three/examples/jsm/controls/FlyControls';\nimport { MapControls as MapControls$1, OrbitControls as OrbitControls$1 } from 'three/examples/jsm/controls/OrbitControls';\nimport { TrackballControls as TrackballControls$1 } from 'three/examples/jsm/controls/TrackballControls';\nimport { TransformControls as TransformControls$1 } from 'three/examples/jsm/controls/TransformControls';\nimport pick from 'lodash.pick';\nimport omit from 'lodash.omit';\nimport { PointerLockControls as PointerLockControls$1 } from 'three/examples/jsm/controls/PointerLockControls';\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport create$1 from 'zustand';\nimport ReactDOM from 'react-dom';\nimport { Reflector as Reflector$1 } from 'three/examples/jsm/objects/Reflector';\nimport * as StatsImpl from 'three/examples/js/libs/stats.min';\nimport { getGPUTier } from 'detect-gpu';\nimport { SimplifyModifier } from 'three/examples/jsm/modifiers/SimplifyModifier';\nimport { SubdivisionModifier } from 'three/examples/jsm/modifiers/SubdivisionModifier';\nimport { TessellateModifier } from 'three/examples/jsm/modifiers/TessellateModifier';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Sky as Sky$1 } from 'three/examples/jsm/objects/Sky';\nimport { HorizontalBlurShader } from 'three/examples/jsm/shaders/HorizontalBlurShader';\nimport { VerticalBlurShader } from 'three/examples/jsm/shaders/VerticalBlurShader';\nimport { useTransition, a } from '@react-spring/web';\n\nfunction create(type) {\n  var El = type + 'BufferGeometry';\n  return /*#__PURE__*/forwardRef(function (_ref, ref) {\n    var args = _ref.args,\n        children = _ref.children,\n        props = _objectWithoutPropertiesLoose(_ref, [\"args\", \"children\"]);\n\n    return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      ref: ref\n    }, props), /*#__PURE__*/React.createElement(El, {\n      attach: \"geometry\",\n      args: args\n    }), children);\n  });\n}\n\nvar Box = create('box');\nvar Circle = create('circle');\nvar Cone = create('cone');\nvar Cylinder = create('cylinder');\nvar Sphere = create('sphere');\nvar Plane = create('plane');\nvar Tube = create('tube');\nvar Torus = create('torus');\nvar TorusKnot = create('torusKnot');\nvar Tetrahedron = create('tetrahedron');\nvar Ring = create('ring');\nvar Polyhedron = create('polyhedron');\nvar Icosahedron = create('icosahedron');\nvar Octahedron = create('octahedron');\nvar Dodecahedron = create('dodecahedron');\nvar Extrude = create('extrude');\nvar Lathe = create('lathe');\nvar Parametric = create('parametric');\nvar Billboard = /*#__PURE__*/forwardRef(function Billboard(_ref, ref) {\n  var _ref$follow = _ref.follow,\n      follow = _ref$follow === void 0 ? true : _ref$follow,\n      _ref$lockX = _ref.lockX,\n      lockX = _ref$lockX === void 0 ? false : _ref$lockX,\n      _ref$lockY = _ref.lockY,\n      lockY = _ref$lockY === void 0 ? false : _ref$lockY,\n      _ref$lockZ = _ref.lockZ,\n      lockZ = _ref$lockZ === void 0 ? false : _ref$lockZ,\n      props = _objectWithoutPropertiesLoose(_ref, [\"follow\", \"lockX\", \"lockY\", \"lockZ\"]);\n\n  var localRef = useRef();\n  useFrame(function (_ref2) {\n    var camera = _ref2.camera;\n    if (!follow) return;\n\n    if (localRef.current) {\n      var prev = {\n        x: localRef.current.rotation.x,\n        y: localRef.current.rotation.y,\n        z: localRef.current.rotation.z\n      };\n      localRef.current.lookAt(camera.position); // readjust any axis that is locked\n\n      if (lockX) localRef.current.rotation.x = prev.x;\n      if (lockY) localRef.current.rotation.y = prev.y;\n      if (lockZ) localRef.current.rotation.z = prev.z;\n    }\n  });\n  return /*#__PURE__*/React.createElement(Plane, _extends({\n    ref: mergeRefs([localRef, ref])\n  }, props));\n});\nvar Detailed = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      distances = _ref.distances,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"distances\"]);\n\n  var lod = useUpdate(function (lod) {\n    lod.levels.length = 0;\n    lod.children.forEach(function (object, index) {\n      return lod.levels.push({\n        object: object,\n        distance: distances[index]\n      });\n    });\n  }, []);\n  useFrame(function (state) {\n    var _lod$current;\n\n    return (_lod$current = lod.current) == null ? void 0 : _lod$current.update(state.camera);\n  });\n  return /*#__PURE__*/React.createElement(\"lOD\", _extends({\n    ref: mergeRefs([lod, ref])\n  }, props), children);\n});\nvar Line = /*#__PURE__*/React.forwardRef(function Line(_ref, ref) {\n  var points = _ref.points,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'black' : _ref$color,\n      vertexColors = _ref.vertexColors,\n      lineWidth = _ref.lineWidth,\n      dashed = _ref.dashed,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"points\", \"color\", \"vertexColors\", \"lineWidth\", \"dashed\"]);\n\n  var _useState = useState(function () {\n    return new Line2();\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      line2 = _useState2[0];\n\n  var _useState3 = useState(function () {\n    return new LineGeometry();\n  }),\n      _useState4 = _slicedToArray(_useState3, 1),\n      lineGeometry = _useState4[0];\n\n  var _useState5 = useState(function () {\n    return new LineMaterial();\n  }),\n      _useState6 = _slicedToArray(_useState5, 1),\n      lineMaterial = _useState6[0];\n\n  var resolution = useMemo(function () {\n    return new Vector2(512, 512);\n  }, []);\n  useEffect(function () {\n    lineGeometry.setPositions(points.flat());\n    if (vertexColors) lineGeometry.setColors(vertexColors.flat());\n    line2.computeLineDistances();\n  }, [points, vertexColors, line2, lineGeometry]);\n  useLayoutEffect(function () {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    dispose: null,\n    object: lineGeometry,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nvar PositionalAudio = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var url = _ref.url,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 1 : _ref$distance,\n      _ref$loop = _ref.loop,\n      loop = _ref$loop === void 0 ? true : _ref$loop,\n      props = _objectWithoutPropertiesLoose(_ref, [\"url\", \"distance\", \"loop\"]);\n\n  var sound = useRef();\n\n  var _useThree = useThree(),\n      camera = _useThree.camera;\n\n  var _useState7 = useState(function () {\n    return new AudioListener();\n  }),\n      _useState8 = _slicedToArray(_useState7, 1),\n      listener = _useState8[0];\n\n  var buffer = useLoader(AudioLoader, url);\n  useEffect(function () {\n    var _sound = sound.current;\n\n    if (_sound) {\n      _sound.setBuffer(buffer);\n\n      _sound.setRefDistance(distance);\n\n      _sound.setLoop(loop);\n\n      _sound.play();\n    }\n\n    camera.add(listener);\n    return function () {\n      camera.remove(listener);\n\n      if (_sound) {\n        _sound.stop();\n\n        _sound.disconnect();\n      }\n    };\n  }, [buffer, camera, distance, listener, loop]);\n  return /*#__PURE__*/React.createElement(\"positionalAudio\", _extends({\n    ref: mergeRefs([sound, ref]),\n    args: [listener]\n  }, props));\n});\nvar Text = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$anchorX = _ref.anchorX,\n      anchorX = _ref$anchorX === void 0 ? 'center' : _ref$anchorX,\n      _ref$anchorY = _ref.anchorY,\n      anchorY = _ref$anchorY === void 0 ? 'middle' : _ref$anchorY,\n      children = _ref.children,\n      onSync = _ref.onSync,\n      props = _objectWithoutPropertiesLoose(_ref, [\"anchorX\", \"anchorY\", \"children\", \"onSync\"]);\n\n  var _useThree2 = useThree(),\n      invalidate = _useThree2.invalidate;\n\n  var _useState9 = useState(function () {\n    return new Text$1();\n  }),\n      _useState10 = _slicedToArray(_useState9, 1),\n      troikaMesh = _useState10[0];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      baseMtl = _useState12[0],\n      setBaseMtl = _useState12[1];\n\n  var _useMemo = useMemo(function () {\n    var n = [];\n    var t = '';\n    Children.forEach(children, function (child, index) {\n      if (typeof child === 'string') {\n        t += child;\n      } else if (child && typeof child === 'object' && child.props.attach === 'material') {\n        // Instantiate the base material and grab a reference to it, but don't assign any\n        // props, and assign it as the `material`, which Troika will replace behind the scenes.\n        n.push( /*#__PURE__*/createElement(child.type, {\n          ref: setBaseMtl,\n          attach: 'material',\n          key: index\n        })); // Once the base material has been assigned, grab the resulting upgraded material,\n        // and apply the original material props to that.\n\n        if (baseMtl) {\n          n.push( /*#__PURE__*/React.createElement(\"primitive\", _extends({\n            dispose: null,\n            object: troikaMesh.material\n          }, child.props, {\n            key: \"baseMtl:\" + index,\n            attach: null\n          })));\n        }\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children, baseMtl, troikaMesh.material]),\n      _useMemo2 = _slicedToArray(_useMemo, 2),\n      nodes = _useMemo2[0],\n      text = _useMemo2[1];\n\n  useLayoutEffect(function () {\n    return void troikaMesh.sync(function () {\n      invalidate();\n      if (onSync) onSync(troikaMesh);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: troikaMesh,\n    ref: ref,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY\n  }, props), nodes);\n});\nvar OrthographicCamera = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      _ref$makeDefault = _ref.makeDefault,\n      makeDefault = _ref$makeDefault === void 0 ? false : _ref$makeDefault,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"makeDefault\"]);\n\n  var _useThree3 = useThree(),\n      setDefaultCamera = _useThree3.setDefaultCamera,\n      camera = _useThree3.camera,\n      size = _useThree3.size;\n\n  var cameraRef = useUpdate(function (cam) {\n    return cam.updateProjectionMatrix();\n  }, [size, props]);\n  useLayoutEffect(function () {\n    if (makeDefault && cameraRef.current) {\n      var oldCam = camera;\n      setDefaultCamera(cameraRef.current);\n      return function () {\n        return setDefaultCamera(oldCam);\n      };\n    }\n  }, [camera, cameraRef, makeDefault, setDefaultCamera]);\n  return /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: mergeRefs([cameraRef, ref])\n  }, props), children);\n});\nvar PerspectiveCamera = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$makeDefault2 = _ref.makeDefault,\n      makeDefault = _ref$makeDefault2 === void 0 ? false : _ref$makeDefault2,\n      props = _objectWithoutPropertiesLoose(_ref, [\"makeDefault\"]);\n\n  var _useThree4 = useThree(),\n      setDefaultCamera = _useThree4.setDefaultCamera,\n      camera = _useThree4.camera,\n      size = _useThree4.size;\n\n  var cameraRef = useUpdate(function (cam) {\n    cam.aspect = size.width / size.height;\n    cam.updateProjectionMatrix();\n  }, [size, props]);\n  useLayoutEffect(function () {\n    if (makeDefault && cameraRef.current) {\n      var oldCam = camera;\n      setDefaultCamera(cameraRef.current);\n      return function () {\n        return setDefaultCamera(oldCam);\n      };\n    }\n  }, [camera, cameraRef, makeDefault, setDefaultCamera]);\n  return /*#__PURE__*/React.createElement(\"perspectiveCamera\", _extends({\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\nvar DeviceOrientationControls = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useThree5 = useThree(),\n      camera = _useThree5.camera,\n      invalidate = _useThree5.invalidate;\n\n  var controls = useMemo(function () {\n    return new DeviceOrientationControls$1(camera);\n  }, [camera]);\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  useFrame(function () {\n    return controls.update();\n  });\n  useEffect(function () {\n    var current = controls;\n    current.connect();\n    return function () {\n      return current.dispose();\n    };\n  }, [controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref\n  }, props));\n});\nvar FlyControls = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useThree6 = useThree(),\n      camera = _useThree6.camera,\n      gl = _useThree6.gl,\n      invalidate = _useThree6.invalidate;\n\n  var controls = useMemo(function () {\n    return new FlyControls$1(camera, gl.domElement);\n  }, [camera, gl.domElement]);\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  useFrame(function (_, delta) {\n    return controls.update(delta);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref\n  }, props));\n});\nvar MapControls = /*#__PURE__*/forwardRef(function () {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    enableDamping: true\n  };\n  var ref = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _useThree7 = useThree(),\n      camera = _useThree7.camera,\n      gl = _useThree7.gl,\n      invalidate = _useThree7.invalidate;\n\n  var controls = useMemo(function () {\n    return new MapControls$1(camera, gl.domElement);\n  }, [camera, gl]);\n  useFrame(function () {\n    return controls.update();\n  });\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref,\n    enableDamping: true\n  }, props));\n});\nvar OrbitControls = /*#__PURE__*/forwardRef(function () {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    enableDamping: true\n  };\n  var ref = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _useThree8 = useThree(),\n      camera = _useThree8.camera,\n      gl = _useThree8.gl,\n      invalidate = _useThree8.invalidate;\n\n  var controls = useMemo(function () {\n    return new OrbitControls$1(camera, gl.domElement);\n  }, [camera, gl]);\n  useFrame(function () {\n    controls.update();\n  });\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref,\n    enableDamping: true\n  }, props));\n});\nvar TrackballControls = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useThree9 = useThree(),\n      camera = _useThree9.camera,\n      gl = _useThree9.gl,\n      invalidate = _useThree9.invalidate;\n\n  var controls = useMemo(function () {\n    return new TrackballControls$1(camera, gl.domElement);\n  }, [camera, gl]);\n  useFrame(function () {\n    return controls.update();\n  });\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref\n  }, props));\n});\nvar TransformControls = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  var transformOnlyPropNames = ['enabled', 'axis', 'mode', 'translationSnap', 'rotationSnap', 'scaleSnap', 'space', 'size', 'dragging', 'showX', 'showY', 'showZ'];\n  var transformProps = pick(props, transformOnlyPropNames);\n  var objectProps = omit(props, transformOnlyPropNames);\n\n  var _useThree10 = useThree(),\n      camera = _useThree10.camera,\n      gl = _useThree10.gl,\n      invalidate = _useThree10.invalidate;\n\n  var controls = useMemo(function () {\n    return new TransformControls$1(camera, gl.domElement);\n  }, [camera, gl.domElement]);\n  var group = useRef();\n  useLayoutEffect(function () {\n    return void controls.attach(group.current);\n  }, [children, controls]);\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref\n  }, transformProps)), /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, objectProps), children));\n});\nvar PointerLockControls = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useThree11 = useThree(),\n      camera = _useThree11.camera,\n      gl = _useThree11.gl,\n      invalidate = _useThree11.invalidate;\n\n  var controls = useMemo(function () {\n    return new PointerLockControls$1(camera, gl.domElement);\n  }, [camera, gl.domElement]);\n  useEffect(function () {\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', invalidate);\n    return function () {\n      return controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', invalidate);\n    };\n  }, [controls, invalidate]);\n  useEffect(function () {\n    var handler = function handler() {\n      return controls.lock();\n    };\n\n    document.addEventListener('click', handler);\n    return function () {\n      return document.removeEventListener('click', handler);\n    };\n  }, [controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: controls,\n    ref: ref\n  }, props));\n});\n\nfunction draco() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'https://www.gstatic.com/draco/v1/decoders/';\n  return function (loader) {\n    var dracoLoader = new DRACOLoader();\n    dracoLoader.setDecoderPath(url);\n    loader.setDRACOLoader(dracoLoader);\n  };\n}\n\nfunction useCubeTextureLoader(files, _ref3) {\n  var path = _ref3.path;\n\n  // @ts-ignore\n  var _useLoader = useLoader( // @ts-ignore\n  CubeTextureLoader, [files], function (loader) {\n    return loader.setPath(path);\n  }),\n      _useLoader2 = _slicedToArray(_useLoader, 1),\n      cubeTexture = _useLoader2[0];\n\n  return cubeTexture;\n}\n\nfunction useFBXLoader(path) {\n  return useLoader(FBXLoader, path);\n}\n\nfunction useGLTFLoader(path, useDraco) {\n  var gltf = useLoader(GLTFLoader, path, useDraco ? draco(typeof useDraco === 'string' ? useDraco : undefined) : undefined);\n  return gltf;\n}\n\nvar useProgress = create$1(function (set) {\n  DefaultLoadingManager.onStart = function (item, loaded, total) {\n    return set({\n      active: true,\n      item: item,\n      loaded: loaded,\n      total: total,\n      progress: loaded / total * 100\n    });\n  };\n\n  DefaultLoadingManager.onLoad = function () {\n    return set({\n      active: false\n    });\n  };\n\n  DefaultLoadingManager.onError = function (item) {\n    return set(function (state) {\n      return {\n        errors: [].concat(_toConsumableArray(state.errors), [item])\n      };\n    });\n  };\n\n  DefaultLoadingManager.onProgress = function (item, loaded, total) {\n    return set({\n      item: item,\n      loaded: loaded,\n      total: total,\n      progress: loaded / total * 100\n    });\n  };\n\n  return {\n    errors: [],\n    active: false,\n    progress: 0,\n    item: '',\n    loaded: 0,\n    total: 0\n  };\n});\n\nfunction useTextureLoader(url) {\n  return useLoader(TextureLoader, url);\n}\n\nvar v1 = new Vector3();\nvar v2 = new Vector3();\nvar v3 = new Vector3();\n\nfunction calculatePosition(el, camera, size) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  var widthHalf = size.width / 2;\n  var heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var deltaCamObj = objectPos.sub(cameraPos);\n  var camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof PerspectiveCamera$1) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var vFOV = camera.fov * Math.PI / 180;\n    var dist = objectPos.distanceTo(cameraPos);\n    return 1 / (2 * Math.tan(vFOV / 2) * dist);\n  }\n\n  if (camera instanceof OrthographicCamera$1) return camera.zoom;\n  return 1;\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera$1 || camera instanceof OrthographicCamera$1) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var dist = objectPos.distanceTo(cameraPos);\n    var A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    var B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nvar Html = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _portal$current;\n\n  var children = _ref.children,\n      _ref$eps = _ref.eps,\n      eps = _ref$eps === void 0 ? 0.001 : _ref$eps,\n      style = _ref.style,\n      className = _ref.className,\n      prepend = _ref.prepend,\n      center = _ref.center,\n      fullscreen = _ref.fullscreen,\n      portal = _ref.portal,\n      scaleFactor = _ref.scaleFactor,\n      _ref$zIndexRange = _ref.zIndexRange,\n      zIndexRange = _ref$zIndexRange === void 0 ? [16777271, 0] : _ref$zIndexRange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"scaleFactor\", \"zIndexRange\"]);\n\n  var _useThree12 = useThree(),\n      gl = _useThree12.gl,\n      scene = _useThree12.scene,\n      camera = _useThree12.camera,\n      size = _useThree12.size;\n\n  var _useState13 = useState(function () {\n    return document.createElement('div');\n  }),\n      _useState14 = _slicedToArray(_useState13, 1),\n      el = _useState14[0];\n\n  var group = useRef(null);\n  var old = useRef([0, 0]);\n  var target = (_portal$current = portal == null ? void 0 : portal.current) != null ? _portal$current : gl.domElement.parentNode;\n  useEffect(function () {\n    if (group.current) {\n      scene.updateMatrixWorld();\n      var vec = calculatePosition(group.current, camera, size);\n      el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0);transform-origin:0 0;\";\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return function () {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target]);\n  var styles = useMemo(function () {\n    return _extends({\n      position: 'absolute',\n      transform: center ? 'translate3d(-50%,-50%,0)' : 'none'\n    }, fullscreen && {\n      top: -size.height / 2,\n      left: -size.width / 2,\n      width: size.width,\n      height: size.height\n    }, style);\n  }, [style, center, fullscreen, size]);\n  useEffect(function () {\n    return void ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref,\n      style: styles,\n      className: className,\n      children: children\n    }), el);\n  });\n  useFrame(function () {\n    if (group.current) {\n      var vec = calculatePosition(group.current, camera, size);\n\n      if (Math.abs(old.current[0] - vec[0]) > eps || Math.abs(old.current[1] - vec[1]) > eps) {\n        el.style.display = !isObjectBehindCamera(group.current, camera) ? 'block' : 'none';\n        var scale = scaleFactor === undefined ? 1 : objectScale(group.current, camera) * scaleFactor;\n        el.style.transform = \"translate3d(\" + vec[0] + \"px,\" + vec[1] + \"px,0) scale(\" + scale + \")\";\n        el.style.zIndex = \"\" + objectZIndex(group.current, camera, zIndexRange);\n      }\n\n      old.current = vec;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nvar HTML = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  useEffect(function () {\n    return void console.warn('The <HTML> component was renamed to <Html>');\n  }, []);\n  return /*#__PURE__*/React.createElement(Html, _extends({}, props, {\n    ref: ref\n  }));\n});\n\nvar _inverseMatrix = new Matrix4();\n\nvar _ray = new Ray();\n\nvar _sphere = new Sphere$1();\n\nvar _vA = new Vector3();\n\nfunction meshBounds(raycaster, intersects) {\n  var geometry = this.geometry;\n  var material = this.material;\n  var matrixWorld = this.matrixWorld;\n  if (material === undefined) return; // Checking boundingSphere distance to ray\n\n  if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n  _sphere.copy(geometry.boundingSphere);\n\n  _sphere.applyMatrix4(matrixWorld);\n\n  if (raycaster.ray.intersectsSphere(_sphere) === false) return;\n\n  _inverseMatrix.getInverse(matrixWorld);\n\n  _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix); // Check boundingBox before continuing\n\n\n  if (geometry.boundingBox !== null && _ray.intersectBox(geometry.boundingBox, _vA) === null) return;\n  intersects.push({\n    distance: _vA.distanceTo(raycaster.ray.origin),\n    point: _vA.clone(),\n    object: this\n  });\n}\n\nvar Reflector = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      color = _ref.color,\n      textureWidth = _ref.textureWidth,\n      textureHeight = _ref.textureHeight,\n      clipBias = _ref.clipBias,\n      shader = _ref.shader,\n      encoding = _ref.encoding,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"color\", \"textureWidth\", \"textureHeight\", \"clipBias\", \"shader\", \"encoding\"]);\n\n  var reflector = useMemo(function () {\n    return new Reflector$1(undefined, {\n      color: color,\n      textureWidth: textureWidth,\n      textureHeight: textureHeight,\n      clipBias: clipBias,\n      shader: shader,\n      encoding: encoding\n    });\n  }, [clipBias, color, encoding, shader, textureHeight, textureWidth]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: reflector,\n    ref: ref\n  }, props), React.Children.only(children));\n});\nvar Shadow = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$fog = _ref.fog,\n      fog = _ref$fog === void 0 ? false : _ref$fog,\n      _ref$colorStop = _ref.colorStop,\n      colorStop = _ref$colorStop === void 0 ? 0.0 : _ref$colorStop,\n      _ref$color2 = _ref.color,\n      color = _ref$color2 === void 0 ? 'black' : _ref$color2,\n      _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 0.5 : _ref$opacity,\n      props = _objectWithoutPropertiesLoose(_ref, [\"fog\", \"colorStop\", \"color\", \"opacity\"]);\n\n  var canvas = useMemo(function () {\n    var canvas = document.createElement('canvas');\n    canvas.width = 128;\n    canvas.height = 128;\n    var context = canvas.getContext('2d');\n    var gradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);\n    gradient.addColorStop(colorStop, new Color(color).getStyle());\n    gradient.addColorStop(1, 'rgba(0,0,0,0)');\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    return canvas;\n  }, [color, colorStop]);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"planeBufferGeometry\", {\n    attach: \"geometry\",\n    args: [1, 1]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    attach: \"material\",\n    transparent: true,\n    opacity: opacity,\n    fog: fog\n  }, /*#__PURE__*/React.createElement(\"canvasTexture\", {\n    attach: \"map\",\n    args: [canvas]\n  })));\n});\n\nfunction Stats(_ref4) {\n  var _ref4$showPanel = _ref4.showPanel,\n      showPanel = _ref4$showPanel === void 0 ? 0 : _ref4$showPanel,\n      className = _ref4.className,\n      parent = _ref4.parent;\n\n  var _useState15 = useState(function () {\n    return new StatsImpl();\n  }),\n      _useState16 = _slicedToArray(_useState15, 1),\n      stats = _useState16[0];\n\n  useEffect(function () {\n    var node = parent && parent.current || document.body;\n    stats.showPanel(showPanel);\n    node == null ? void 0 : node.appendChild(stats.dom);\n    if (className) stats.dom.classList.add(className);\n    var begin = addEffect(function () {\n      return stats.begin();\n    });\n    var end = addAfterEffect(function () {\n      return stats.end();\n    });\n    return function () {\n      node == null ? void 0 : node.removeChild(stats.dom);\n      begin();\n      end();\n    };\n  }, [parent]);\n  return null;\n}\n\nfunction useAspect(type, width, height) {\n  var factor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  var _useThree13 = useThree(),\n      v = _useThree13.viewport,\n      aspect = _useThree13.aspect;\n\n  var adaptedHeight = height * (aspect > width / height ? v.width / width : v.height / height);\n  var adaptedWidth = width * (aspect > width / height ? v.width / width : v.height / height);\n  return [adaptedWidth * factor, adaptedHeight * factor, 1];\n}\n\nfunction useCamera(camera, props) {\n  var _useThree14 = useThree(),\n      mouse = _useThree14.mouse;\n\n  var _useState17 = useState(function () {\n    var raycaster = new Raycaster();\n    if (props) applyProps(raycaster, props, {});\n    return function (_, intersects) {\n      raycaster.setFromCamera(mouse, camera instanceof Camera ? camera : camera.current);\n      var rc = this.constructor.prototype.raycast.bind(this);\n      if (rc) rc(raycaster, intersects);\n    };\n  }),\n      _useState18 = _slicedToArray(_useState17, 1),\n      raycast = _useState18[0];\n\n  return raycast;\n}\n\nfunction useDetectGPU(props) {\n  var GPUTier = useMemo(function () {\n    var GPUTier = getGPUTier(props);\n    return {\n      isDesktop: GPUTier.tier.indexOf('DESKTOP') > -1,\n      isMobile: GPUTier.tier.indexOf('MOBILE') > -1,\n      tier: GPUTier.tier.split('_').pop(),\n      type: GPUTier.type\n    };\n  }, [props]);\n  return GPUTier;\n}\n\nfunction useHelper(object3D, proto) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var helper = React.useRef();\n\n  var _useThree15 = useThree(),\n      scene = _useThree15.scene;\n\n  useEffect(function () {\n    if (proto && object3D.current) {\n      helper.current = _construct(proto, [object3D.current].concat(args));\n\n      if (helper.current) {\n        scene.add(helper.current);\n      }\n    }\n\n    return function () {\n      if (helper.current) {\n        scene.remove(helper.current);\n      }\n    };\n  }, [scene, proto, object3D, args]);\n  useFrame(function () {\n    if (helper.current) {\n      helper.current.update();\n    }\n  });\n  return helper;\n}\n/* eslint-disable react-hooks/rules-of-hooks */\n\n\nfunction useContextBridge() {\n  for (var _len2 = arguments.length, contexts = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    contexts[_key2] = arguments[_key2];\n  }\n\n  var cRef = useRef([]);\n  cRef.current = contexts.map(function (context) {\n    return React.useContext(context);\n  });\n  return useMemo(function () {\n    return function (_ref5) {\n      var children = _ref5.children;\n      return contexts.reduceRight(function (acc, Context, i) {\n        return /*#__PURE__*/React.createElement(Context.Provider, {\n          value: cRef.current[i],\n          children: acc\n        });\n      }, children);\n    };\n  }, []);\n}\n\nfunction useSimplification(simplePercent) {\n  var ref = useRef();\n  var original = useRef();\n  var modifier = useRef();\n  useEffect(function () {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SimplifyModifier();\n    }\n  }, []);\n  useEffect(function () {\n    if (original.current && ref.current) {\n      var geometry = new BufferGeometry();\n\n      if (original.current instanceof BufferGeometry) {\n        geometry = original.current.clone();\n      } else {\n        geometry = geometry.fromGeometry(original.current);\n      }\n\n      var count = Math.floor(geometry.attributes.position.count * simplePercent); // number of vertices to remove\n\n      ref.current.geometry = modifier.current.modify(geometry, count);\n    }\n  }, [simplePercent]);\n  return ref;\n}\n\nfunction useSubdivision(subdivisions) {\n  var ref = useRef();\n  var original = useRef();\n  var modifier = useRef();\n  useEffect(function () {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SubdivisionModifier(parseInt(subdivisions));\n    }\n  }, [subdivisions]);\n  useEffect(function () {\n    modifier.current.subdivisions = subdivisions;\n  }, [subdivisions]);\n  useEffect(function () {\n    if (original.current && ref.current) {\n      var bufferGeometry = new BufferGeometry();\n      var subdivided = bufferGeometry.fromGeometry(modifier.current.modify(original.current));\n      ref.current.geometry = subdivided;\n    }\n  }, [subdivisions]);\n  return ref;\n}\n\nfunction useTessellation() {\n  var passes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n  var maxEdgeLength = arguments.length > 1 ? arguments[1] : undefined;\n  var ref = useRef();\n  var original = useRef();\n  var modifier = useRef();\n  useEffect(function () {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new TessellateModifier(parseInt(maxEdgeLength));\n    }\n  }, [maxEdgeLength]);\n  useEffect(function () {\n    modifier.current.maxEdgeLength = maxEdgeLength;\n  }, [maxEdgeLength]);\n  useEffect(function () {\n    if (original.current && ref.current) {\n      var geometry = new Geometry();\n\n      if (original.current instanceof BufferGeometry) {\n        geometry.fromBufferGeometry(original.current);\n      } else {\n        geometry = original.current.clone();\n      }\n\n      var bufferGeometry = new BufferGeometry();\n\n      for (var i = 0; i < passes; i++) {\n        modifier.current.modify(geometry);\n      }\n\n      var tessellated = bufferGeometry.fromGeometry(geometry);\n      ref.current.geometry = tessellated;\n    }\n  }, [maxEdgeLength, passes]);\n  return ref;\n}\n\nvar distort = \"#define GLSLIFY 1\\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\"; // eslint-disable-line\n\nvar DistortMaterialImpl = /*#__PURE__*/function (_MeshPhysicalMaterial) {\n  _inherits(DistortMaterialImpl, _MeshPhysicalMaterial);\n\n  var _super = _createSuper(DistortMaterialImpl);\n\n  function DistortMaterialImpl() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DistortMaterialImpl);\n\n    _this = _super.call(this, parameters);\n\n    _defineProperty(_assertThisInitialized(_this), \"_time\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_distort\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_radius\", void 0);\n\n    _this.setValues(parameters);\n\n    _this._time = {\n      value: 0\n    };\n    _this._distort = {\n      value: 0.4\n    };\n    _this._radius = {\n      value: 1\n    };\n    return _this;\n  }\n\n  _createClass(DistortMaterialImpl, [{\n    key: \"onBeforeCompile\",\n    value: function onBeforeCompile(shader) {\n      shader.uniforms.time = this._time;\n      shader.uniforms.radius = this._radius;\n      shader.uniforms.distort = this._distort;\n      shader.vertexShader = \"\\n      uniform float time;\\n      uniform float radius;\\n      uniform float distort;\\n      \" + distort + \"\\n      \" + shader.vertexShader + \"\\n    \";\n      shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', \"\\n        float updateTime = time / 50.0;\\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\\n        \");\n    }\n  }, {\n    key: \"time\",\n    get: function get() {\n      return this._time.value;\n    },\n    set: function set(v) {\n      this._time.value = v;\n    }\n  }, {\n    key: \"distort\",\n    get: function get() {\n      return this._distort.value;\n    },\n    set: function set(v) {\n      this._distort.value = v;\n    }\n  }, {\n    key: \"radius\",\n    get: function get() {\n      return this._radius.value;\n    },\n    set: function set(v) {\n      this._radius.value = v;\n    }\n  }]);\n\n  return DistortMaterialImpl;\n}(MeshPhysicalMaterial);\n\nvar MeshDistortMaterial = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$speed = _ref.speed,\n      speed = _ref$speed === void 0 ? 1 : _ref$speed,\n      props = _objectWithoutPropertiesLoose(_ref, [\"speed\"]);\n\n  var material = useMemo(function () {\n    return new DistortMaterialImpl();\n  }, []);\n  useFrame(function (state) {\n    return material && (material.time = state.clock.getElapsedTime() * speed);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }, props));\n});\n\nvar WobbleMaterialImpl = /*#__PURE__*/function (_MeshStandardMaterial) {\n  _inherits(WobbleMaterialImpl, _MeshStandardMaterial);\n\n  var _super2 = _createSuper(WobbleMaterialImpl);\n\n  function WobbleMaterialImpl() {\n    var _this2;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, WobbleMaterialImpl);\n\n    _this2 = _super2.call(this, parameters);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_time\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_factor\", void 0);\n\n    _this2.setValues(parameters);\n\n    _this2._time = {\n      value: 0\n    };\n    _this2._factor = {\n      value: 1\n    };\n    return _this2;\n  }\n\n  _createClass(WobbleMaterialImpl, [{\n    key: \"onBeforeCompile\",\n    value: function onBeforeCompile(shader) {\n      shader.uniforms.time = this._time;\n      shader.uniforms.factor = this._factor;\n      shader.vertexShader = \"\\n      uniform float time;\\n      uniform float factor;\\n      \" + shader.vertexShader + \"\\n    \";\n      shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', \"float theta = sin( time + position.y ) / 2.0 * factor;\\n        float c = cos( theta );\\n        float s = sin( theta );\\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\\n        vec3 transformed = vec3( position ) * m;\\n        vNormal = vNormal * m;\");\n    }\n  }, {\n    key: \"time\",\n    get: function get() {\n      return this._time.value;\n    },\n    set: function set(v) {\n      this._time.value = v;\n    }\n  }, {\n    key: \"factor\",\n    get: function get() {\n      return this._factor.value;\n    },\n    set: function set(v) {\n      this._factor.value = v;\n    }\n  }]);\n\n  return WobbleMaterialImpl;\n}(MeshStandardMaterial);\n\nvar MeshWobbleMaterial = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$speed2 = _ref.speed,\n      speed = _ref$speed2 === void 0 ? 1 : _ref$speed2,\n      props = _objectWithoutPropertiesLoose(_ref, [\"speed\"]);\n\n  var material = useMemo(function () {\n    return new WobbleMaterialImpl();\n  }, []);\n  useFrame(function (state) {\n    return material && (material.time = state.clock.getElapsedTime() * speed);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    dispose: null,\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }, props));\n});\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  return /*#__PURE__*/function (_ShaderMaterial) {\n    _inherits(_class, _ShaderMaterial);\n\n    var _super3 = _createSuper(_class);\n\n    function _class() {\n      var _this3;\n\n      _classCallCheck(this, _class);\n\n      var entries = Object.entries(uniforms); // Create unforms and shaders\n\n      _this3 = _super3.call(this, {\n        uniforms: entries.reduce(function (acc, _ref6) {\n          var _ref7 = _slicedToArray(_ref6, 2),\n              name = _ref7[0],\n              value = _ref7[1];\n\n          return _extends({}, acc, _defineProperty2({}, name, {\n            value: value\n          }));\n        }, {}),\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader\n      }); // Create getter/setters\n\n      entries.forEach(function (_ref8) {\n        var _ref9 = _slicedToArray(_ref8, 1),\n            name = _ref9[0];\n\n        return Object.defineProperty(_assertThisInitialized(_this3), name, {\n          get: function get() {\n            return _this3.uniforms[name].value;\n          },\n          set: function set(v) {\n            return _this3.uniforms[name].value = v;\n          }\n        });\n      });\n      if (onInit) onInit(_assertThisInitialized(_this3));\n      return _this3;\n    }\n\n    return _class;\n  }(ShaderMaterial);\n}\n\nvar Sky = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$distance2 = _ref.distance,\n      distance = _ref$distance2 === void 0 ? 100 : _ref$distance2,\n      _ref$mieCoefficient = _ref.mieCoefficient,\n      mieCoefficient = _ref$mieCoefficient === void 0 ? 0.005 : _ref$mieCoefficient,\n      _ref$mieDirectionalG = _ref.mieDirectionalG,\n      mieDirectionalG = _ref$mieDirectionalG === void 0 ? 0.8 : _ref$mieDirectionalG,\n      _ref$rayleigh = _ref.rayleigh,\n      rayleigh = _ref$rayleigh === void 0 ? 1 : _ref$rayleigh,\n      _ref$turbidity = _ref.turbidity,\n      turbidity = _ref$turbidity === void 0 ? 2 : _ref$turbidity,\n      _ref$sunPosition = _ref.sunPosition,\n      sunPosition = _ref$sunPosition === void 0 ? [0, Math.PI, 0] : _ref$sunPosition,\n      props = _objectWithoutPropertiesLoose(_ref, [\"distance\", \"mieCoefficient\", \"mieDirectionalG\", \"rayleigh\", \"turbidity\", \"sunPosition\"]);\n\n  var scale = useMemo(function () {\n    return new Vector3().setScalar(distance);\n  }, [distance]);\n  var sky = useMemo(function () {\n    return new Sky$1();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: sky,\n    ref: ref,\n    \"material-uniforms-mieCoefficient-value\": mieCoefficient,\n    \"material-uniforms-mieDirectionalG-value\": mieDirectionalG,\n    \"material-uniforms-rayleigh-value\": rayleigh,\n    \"material-uniforms-sunPosition-value\": sunPosition,\n    \"material-uniforms-turbidity-value\": turbidity,\n    scale: scale\n  }, props));\n});\n\nvar pcss = function pcss() {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref10$frustrum = _ref10.frustrum,\n      frustrum = _ref10$frustrum === void 0 ? 3.75 : _ref10$frustrum,\n      _ref10$size = _ref10.size,\n      size = _ref10$size === void 0 ? 0.005 : _ref10$size,\n      _ref10$near = _ref10.near,\n      near = _ref10$near === void 0 ? 9.5 : _ref10$near,\n      _ref10$samples = _ref10.samples,\n      samples = _ref10$samples === void 0 ? 17 : _ref10$samples,\n      _ref10$rings = _ref10.rings,\n      rings = _ref10$rings === void 0 ? 11 : _ref10$rings;\n\n  return \"#define LIGHT_WORLD_SIZE \" + size + \"\\n#define LIGHT_FRUSTUM_WIDTH \" + frustrum + \"\\n#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\\n#define NEAR_PLANE \" + near + \"\\n\\n#define NUM_SAMPLES \" + samples + \"\\n#define NUM_RINGS \" + rings + \"\\n#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\\n#define PCF_NUM_SAMPLES NUM_SAMPLES\\n\\nvec2 poissonDisk[NUM_SAMPLES];\\n\\nvoid initPoissonSamples(const in vec2 randomSeed) {\\n\\tfloat ANGLE_STEP = PI2 * float(NUM_RINGS) / float(NUM_SAMPLES);\\n\\tfloat INV_NUM_SAMPLES = 1.0 / float(NUM_SAMPLES);\\n\\tfloat angle = rand(randomSeed) * PI2;\\n\\tfloat radius = INV_NUM_SAMPLES;\\n\\tfloat radiusStep = radius;\\n\\tfor (int i = 0; i < NUM_SAMPLES; i++) {\\n\\t\\tpoissonDisk[i] = vec2(cos(angle), sin(angle)) * pow(radius, 0.75);\\n\\t\\tradius += radiusStep;\\n\\t\\tangle += ANGLE_STEP;\\n\\t}\\n}\\n\\nfloat penumbraSize(const in float zReceiver, const in float zBlocker) { // Parallel plane estimation\\n\\treturn (zReceiver - zBlocker) / zBlocker;\\n}\\n\\nfloat findBlocker(sampler2D shadowMap, const in vec2 uv, const in float zReceiver) {\\n\\tfloat searchRadius = LIGHT_SIZE_UV * (zReceiver - NEAR_PLANE) / zReceiver;\\n\\tfloat blockerDepthSum = 0.0;\\n\\tint numBlockers = 0;\\n\\tfor (int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++) {\\n\\t\\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\\n\\t\\tif (shadowMapDepth < zReceiver) {\\n\\t\\t\\tblockerDepthSum += shadowMapDepth;\\n\\t\\t\\tnumBlockers++;\\n\\t\\t}\\n\\t}\\n\\tif (numBlockers == 0) return -1.0;\\n\\treturn blockerDepthSum / float(numBlockers);\\n}\\n\\nfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius) {\\n\\tfloat sum = 0.0;\\n\\tfor (int i = 0; i < PCF_NUM_SAMPLES; i++) {\\n\\t\\tfloat depth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[ i ] * filterRadius));\\n\\t\\tif (zReceiver <= depth) sum += 1.0;\\n\\t}\\n\\tfor (int i = 0; i < PCF_NUM_SAMPLES; i++) {\\n\\t\\tfloat depth = unpackRGBAToDepth(texture2D(shadowMap, uv + -poissonDisk[ i ].yx * filterRadius));\\n\\t\\tif (zReceiver <= depth) sum += 1.0;\\n\\t}\\n\\treturn sum / (2.0 * float(PCF_NUM_SAMPLES));\\n}\\n\\nfloat PCSS(sampler2D shadowMap, vec4 coords) {\\n\\tvec2 uv = coords.xy;\\n\\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\\n\\tinitPoissonSamples(uv);\\n\\tfloat avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver);\\n\\tif (avgBlockerDepth == -1.0) return 1.0;\\n\\tfloat penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\\n\\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\\n\\treturn PCF_Filter(shadowMap, uv, zReceiver, filterRadius);\\n}\";\n};\n\nvar deployed = false;\n\nvar softShadows = function softShadows(props) {\n  // Avoid adding the effect twice, which may happen in HMR scenarios\n  if (!deployed) {\n    deployed = true;\n    var shader = ShaderChunk.shadowmap_pars_fragment;\n    shader = shader.replace('#ifdef USE_SHADOWMAP', '#ifdef USE_SHADOWMAP\\n' + pcss(_extends({}, props)));\n    shader = shader.replace('#if defined( SHADOWMAP_TYPE_PCF )', '\\nreturn PCSS(shadowMap, shadowCoord);\\n#if defined( SHADOWMAP_TYPE_PCF )');\n    ShaderChunk.shadowmap_pars_fragment = shader;\n  }\n};\n\nvar StarfieldMaterial = /*#__PURE__*/function (_ShaderMaterial2) {\n  _inherits(StarfieldMaterial, _ShaderMaterial2);\n\n  var _super4 = _createSuper(StarfieldMaterial);\n\n  function StarfieldMaterial() {\n    _classCallCheck(this, StarfieldMaterial);\n\n    return _super4.call(this, {\n      uniforms: {\n        time: {\n          value: 0.0\n        },\n        fade: {\n          value: 1.0\n        }\n      },\n      vertexShader: \"uniform float time;\\n      attribute float size;\\n      varying vec3 vColor;\\n      void main() {\\n        vColor = color;\\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\\n        gl_Position = projectionMatrix * mvPosition;\\n      }\",\n      fragmentShader: \"uniform sampler2D pointTexture;\\n      uniform float fade;\\n      varying vec3 vColor;\\n      void main() {\\n        float opacity = 1.0;\\n        if (fade == 1.0) {\\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\\n        }\\n        gl_FragColor = vec4(vColor, opacity);\\n      }\"\n    });\n  }\n\n  return StarfieldMaterial;\n}(ShaderMaterial);\n\nvar genStar = function genStar(r) {\n  return new Vector3().setFromSpherical(new Spherical(r, Math.acos(1 - Math.random() * 2), Math.random() * 2 * Math.PI));\n};\n\nvar Stars = /*#__PURE__*/forwardRef(function (_ref11, ref) {\n  var _ref11$radius = _ref11.radius,\n      radius = _ref11$radius === void 0 ? 100 : _ref11$radius,\n      _ref11$depth = _ref11.depth,\n      depth = _ref11$depth === void 0 ? 50 : _ref11$depth,\n      _ref11$count = _ref11.count,\n      count = _ref11$count === void 0 ? 5000 : _ref11$count,\n      _ref11$saturation = _ref11.saturation,\n      saturation = _ref11$saturation === void 0 ? 0 : _ref11$saturation,\n      _ref11$factor = _ref11.factor,\n      factor = _ref11$factor === void 0 ? 4 : _ref11$factor,\n      _ref11$fade = _ref11.fade,\n      fade = _ref11$fade === void 0 ? false : _ref11$fade;\n  var material = useRef();\n\n  var _useMemo3 = useMemo(function () {\n    var positions = [];\n    var colors = [];\n    var sizes = Array.from({\n      length: count\n    }, function () {\n      return (0.5 + 0.5 * Math.random()) * factor;\n    });\n    var color = new Color();\n    var r = radius + depth;\n    var increment = depth / count;\n\n    for (var i = 0; i < count; i++) {\n      r -= increment * Math.random();\n      positions.push.apply(positions, _toConsumableArray(genStar(r).toArray()));\n      color.setHSL(i / count, saturation, 0.9);\n      colors.push(color.r, color.g, color.b);\n    }\n\n    return [new Float32Array(positions), new Float32Array(colors), new Float32Array(sizes)];\n  }, [count, depth, factor, radius, saturation]),\n      _useMemo4 = _slicedToArray(_useMemo3, 3),\n      position = _useMemo4[0],\n      color = _useMemo4[1],\n      size = _useMemo4[2];\n\n  useFrame(function (state) {\n    return material.current && (material.current.uniforms.time.value = state.clock.getElapsedTime());\n  });\n  var starfieldMaterial = useMemo(function () {\n    return new StarfieldMaterial();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"points\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", {\n    attach: \"geometry\"\n  }, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    args: [position, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    args: [color, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    args: [size, 1]\n  })), /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: material,\n    object: starfieldMaterial,\n    attach: \"material\",\n    blending: AdditiveBlending,\n    \"uniforms-fade-value\": fade,\n    transparent: true,\n    vertexColors: true\n  }));\n});\nvar ContactShadows = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$opacity2 = _ref.opacity,\n      opacity = _ref$opacity2 === void 0 ? 1 : _ref$opacity2,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 1 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 1 : _ref$height,\n      _ref$blur = _ref.blur,\n      blur = _ref$blur === void 0 ? 1 : _ref$blur,\n      _ref$far = _ref.far,\n      far = _ref$far === void 0 ? 10 : _ref$far,\n      _ref$resolution = _ref.resolution,\n      resolution = _ref$resolution === void 0 ? 256 : _ref$resolution,\n      props = _objectWithoutPropertiesLoose(_ref, [\"opacity\", \"width\", \"height\", \"blur\", \"far\", \"resolution\"]);\n\n  var _useThree16 = useThree(),\n      scene = _useThree16.scene,\n      gl = _useThree16.gl;\n\n  var shadowCamera = useRef();\n\n  var _useMemo5 = useMemo(function () {\n    var renderTarget = new WebGLRenderTarget(resolution, resolution);\n    var renderTargetBlur = new WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    var planeGeometry = new PlaneBufferGeometry(width, height).rotateX(Math.PI / 2);\n    var blurPlane = new Mesh(planeGeometry);\n    var depthMaterial = new MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n\n    depthMaterial.onBeforeCompile = function (shader) {\n      return shader.fragmentShader = shader.fragmentShader.replace('1.0 - fragCoordZ ), opacity );', '0.0 ), ( 1.0 - fragCoordZ ) * 1.0 );');\n    };\n\n    var horizontalBlurMaterial = new ShaderMaterial(HorizontalBlurShader);\n    var verticalBlurMaterial = new ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height]),\n      _useMemo6 = _slicedToArray(_useMemo5, 7),\n      renderTarget = _useMemo6[0],\n      planeGeometry = _useMemo6[1],\n      depthMaterial = _useMemo6[2],\n      blurPlane = _useMemo6[3],\n      horizontalBlurMaterial = _useMemo6[4],\n      verticalBlurMaterial = _useMemo6[5],\n      renderTargetBlur = _useMemo6[6];\n\n  useFrame(function () {\n    if (shadowCamera.current) {\n      var initialBackground = scene.background;\n      scene.background = null;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      scene.overrideMaterial = null;\n      blurPlane.material = horizontalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTarget.texture;\n      horizontalBlurMaterial.uniforms.h.value = blur / 256;\n      gl.setRenderTarget(renderTargetBlur);\n      gl.render(blurPlane, shadowCamera.current);\n      blurPlane.material = verticalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTargetBlur.texture;\n      verticalBlurMaterial.uniforms.v.value = blur / 256;\n      gl.setRenderTarget(renderTarget);\n      gl.render(blurPlane, shadowCamera.current);\n      gl.setRenderTarget(null);\n      scene.background = initialBackground;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    map: renderTarget.texture,\n    transparent: true,\n    opacity: opacity\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, 0, far]\n  }));\n});\nvar eps = 0.00001;\n\nfunction createShape(width, height, radius0) {\n  var shape = new Shape();\n  var radius = radius0 - eps;\n  shape.absarc(eps, eps, eps, -Math.PI / 2, -Math.PI, true);\n  shape.absarc(eps, height - radius * 2, eps, Math.PI, Math.PI / 2, true);\n  shape.absarc(width - radius * 2, height - radius * 2, eps, Math.PI / 2, 0, true);\n  shape.absarc(width - radius * 2, eps, eps, 0, -Math.PI / 2, true);\n  return shape;\n}\n\nvar RoundedBox = /*#__PURE__*/forwardRef(function RoundedBox(_ref, ref) {\n  var _ref$args = _ref.args;\n  _ref$args = _ref$args === void 0 ? [] : _ref$args;\n\n  var _ref$args2 = _slicedToArray(_ref$args, 3),\n      _ref$args2$ = _ref$args2[0],\n      width = _ref$args2$ === void 0 ? 1 : _ref$args2$,\n      _ref$args2$2 = _ref$args2[1],\n      height = _ref$args2$2 === void 0 ? 1 : _ref$args2$2,\n      _ref$args2$3 = _ref$args2[2],\n      depth = _ref$args2$3 === void 0 ? 1 : _ref$args2$3,\n      _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 0.05 : _ref$radius,\n      _ref$smoothness = _ref.smoothness,\n      smoothness = _ref$smoothness === void 0 ? 4 : _ref$smoothness,\n      children = _ref.children,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"args\", \"radius\", \"smoothness\", \"children\"]);\n\n  var shape = useMemo(function () {\n    return createShape(width, height, radius);\n  }, [width, height, radius]);\n  var params = useMemo(function () {\n    return {\n      depth: depth - radius * 2,\n      bevelEnabled: true,\n      bevelSegments: smoothness * 2,\n      steps: 1,\n      bevelSize: radius - eps,\n      bevelThickness: radius,\n      curveSegments: smoothness\n    };\n  }, [depth, radius, smoothness]);\n  var geomRef = useUpdate(function (geometry) {\n    return void geometry.center();\n  }, [shape, params]);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"extrudeBufferGeometry\", {\n    attach: \"geometry\",\n    ref: geomRef,\n    args: [shape, params]\n  }), children);\n});\nvar styles = {\n  container: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: '#171717',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1000\n  },\n  inner: {\n    width: 100,\n    height: 3,\n    background: '#272727',\n    textAlign: 'center'\n  },\n  bar: {\n    height: 3,\n    width: '100%',\n    background: 'white',\n    transformOrigin: 'left center'\n  },\n  data: {\n    display: 'inline-block',\n    position: 'relative',\n    fontVariantNumeric: 'tabular-nums',\n    marginTop: '0.8em',\n    color: '#f0f0f0',\n    fontSize: '0.6em',\n    fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Inter\\\", \\\"Segoe UI\\\", \\\"Helvetica Neue\\\", Helvetica, Arial, Roboto, Ubuntu, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\n    whiteSpace: 'nowrap'\n  }\n};\n\nfunction Loader(_ref12) {\n  var containerStyles = _ref12.containerStyles,\n      innerStyles = _ref12.innerStyles,\n      barStyles = _ref12.barStyles,\n      dataStyles = _ref12.dataStyles,\n      _ref12$dataInterpolat = _ref12.dataInterpolation,\n      dataInterpolation = _ref12$dataInterpolat === void 0 ? function (p) {\n    return \"Loading \" + p.toFixed(2) + \"%\";\n  } : _ref12$dataInterpolat,\n      _ref12$initialState = _ref12.initialState,\n      initialState = _ref12$initialState === void 0 ? function (active) {\n    return active;\n  } : _ref12$initialState;\n\n  var _useProgress = useProgress(),\n      active = _useProgress.active,\n      progress = _useProgress.progress;\n\n  var transition = useTransition(initialState(active), {\n    from: {\n      opacity: 1,\n      progress: 0\n    },\n    leave: {\n      opacity: 0\n    },\n    update: {\n      progress: progress / 100\n    }\n  });\n  return transition(function (_ref13, active) {\n    var progress = _ref13.progress,\n        opacity = _ref13.opacity;\n    return active && /*#__PURE__*/React.createElement(a.div, {\n      style: _extends({}, styles.container, {\n        opacity: opacity\n      }, containerStyles)\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: _extends({}, styles.inner, innerStyles)\n    }, /*#__PURE__*/React.createElement(a.div, {\n      style: _extends({}, styles.bar, {\n        scaleX: progress\n      }, barStyles)\n    }), /*#__PURE__*/React.createElement(a.span, {\n      style: _extends({}, styles.data, dataStyles)\n    }, progress.to(dataInterpolation)))));\n  });\n}\n\nvar matcapList = {\n  \"0\": \"0404E8_0404B5_0404CB_3333FC\",\n  \"1\": \"045C5C_0DBDBD_049393_04A4A4\",\n  \"2\": \"046363_0CC3C3_049B9B_04ACAC\",\n  \"3\": \"0489C5_0DDDF9_04C3EE_04AFE1\",\n  \"4\": \"04989A_0CE3E4_04D2D5_04C7C8\",\n  \"5\": \"04C455_0EFABC_04F097_04E17A\",\n  \"6\": \"04CC77_0CF7CA_04E9A7_04AB54\",\n  \"7\": \"04E804_04B504_04CB04_33FC33\",\n  \"8\": \"04E8E8_04B5B5_04CCCC_33FCFC\",\n  \"9\": \"050505_747474_4C4C4C_333333\",\n  \"10\": \"070B0C_B2C7CE_728FA3_5B748B\",\n  \"11\": \"090909_9C9C9C_555555_7C7C7C\",\n  \"12\": \"0A0A0A_A9A9A9_525252_747474\",\n  \"13\": \"0C0CC3_04049F_040483_04045C\",\n  \"14\": \"0C430C_257D25_439A43_3C683C\",\n  \"15\": \"0D0DBD_040497_04047B_040455\",\n  \"16\": \"0D0DE3_040486_0404AF_0404CF\",\n  \"17\": \"0DBD0D_049704_047B04_045504\",\n  \"18\": \"0F0F0F_4B4B4B_1C1C1C_2C2C2C\",\n  \"19\": \"0F990F_047B04_044604_046704\",\n  \"20\": \"15100F_241D1B_292424_2C2C27\",\n  \"21\": \"161B1F_C7E0EC_90A5B3_7B8C9B\",\n  \"22\": \"167E76_36D6D2_23B2AC_27C1BE\",\n  \"23\": \"17395A_7EBCC7_4D8B9F_65A1B5\",\n  \"24\": \"181F1F_475057_616566_525C62\",\n  \"25\": \"191514_6D5145_4E3324_3B564D\",\n  \"26\": \"1A2461_3D70DB_2C3C8F_2C6CAC\",\n  \"27\": \"1B1B1B_515151_7E7E7E_6C6C6C\",\n  \"28\": \"1B1B1B_999999_575757_747474\",\n  \"29\": \"1B1C19_5F615D_4B4E4C_3F403D\",\n  \"30\": \"1C1810_352F23_2B2C1C_2B2C24\",\n  \"31\": \"1C70C6_09294C_0F3F73_52B3F6\",\n  \"32\": \"1D2424_565F66_4E555A_646C6E\",\n  \"33\": \"1D2A21_43443B_655B54_545C54\",\n  \"34\": \"1D3FCC_051B5F_81A0F2_5579E9\",\n  \"35\": \"221917_928380_5F504D_7C746C\",\n  \"36\": \"232014_908B78_5E5743_747460\",\n  \"37\": \"242733_333A4D_3E4554_3C3B43\",\n  \"38\": \"245642_3D8168_3D6858_417364\",\n  \"39\": \"253C3C_528181_406C6C_385F5F\",\n  \"40\": \"254FB0_99AFF0_6587D8_1D3279\",\n  \"41\": \"27222B_677491_484F6A_5D657A\",\n  \"42\": \"281813_604233_4B3426_442B22\",\n  \"43\": \"28292A_D3DAE5_A3ACB8_818183\",\n  \"44\": \"291912_473531_3C2C25_3A2424\",\n  \"45\": \"293534_B2BFC5_738289_8A9AA7\",\n  \"46\": \"293D21_ABC692_73B255_667C5C\",\n  \"47\": \"2A2A2A_B3B3B3_6D6D6D_848C8C\",\n  \"48\": \"2A2A2A_DBDBDB_6A6A6A_949494\",\n  \"49\": \"2A2D21_555742_898974_6C745B\",\n  \"50\": \"2A4BA7_1B2D44_1F3768_233C81\",\n  \"51\": \"2A6276_041218_739BA6_042941\",\n  \"52\": \"2B2828_7B796F_534F4A_616464\",\n  \"53\": \"2B2B22_3C3C30_464538_121210\",\n  \"54\": \"2D2D2A_74716E_8F8C8C_92958E\",\n  \"55\": \"2D2D2F_C6C2C5_727176_94949B\",\n  \"56\": \"2D8753_5CD6A5_45BB82_4CC494\",\n  \"57\": \"2E2E2D_7D7C76_A3A39F_949C94\",\n  \"58\": \"2E763A_78A0B7_B3D1CF_14F209\",\n  \"59\": \"2EAC9E_61EBE3_4DDDD1_43D1C6\",\n  \"60\": \"2F2FAA_1E1E87_10104E_1C1C70\",\n  \"61\": \"2F3747_6A7C9E_54637F_62748B\",\n  \"62\": \"300706_888576_822821_876E79\",\n  \"63\": \"302721_CAC1BB_7A706A_91959B\",\n  \"64\": \"304FB1_69A1EF_5081DF_5C8CE6\",\n  \"65\": \"312C34_A2AAB3_61656A_808494\",\n  \"66\": \"312D20_80675C_8B8C8B_85848C\",\n  \"67\": \"313131_BBBBBB_878787_A3A4A4\",\n  \"68\": \"320455_720DBE_560496_47047B\",\n  \"69\": \"32201D_613C3C_563533_8C655F\",\n  \"70\": \"32302B_4C4842_121211_1C1C14\",\n  \"71\": \"323C4D_B79039_7C6A44_605C48\",\n  \"72\": \"326666_66CBC9_C0B8AE_52B3B4\",\n  \"73\": \"331A0B_B17038_7D4E28_5B351A\",\n  \"74\": \"336EB3_152578_A4C5E2_74AED9\",\n  \"75\": \"34352A_718184_50605E_6E6761\",\n  \"76\": \"346088_6ABED7_56A0C5_4E91B8\",\n  \"77\": \"34A09C_6EE5E3_5CD7D3_4EC9C6\",\n  \"78\": \"34AB94_36DFC1_19F9EB_6C6E62\",\n  \"79\": \"353535_CFCFCF_828282_A4A4A4\",\n  \"80\": \"36220C_C6C391_8C844A_8B7B4C\",\n  \"81\": \"36312E_726461_59504D_645C5C\",\n  \"82\": \"365123_C6E5A3_A8D18D_8EB16C\",\n  \"83\": \"36C8FA_176ACB_24A7EF_1D93EC\",\n  \"84\": \"37C337_279F27_186018_248824\",\n  \"85\": \"385264_A1D3E2_86ADC1_6E94A8\",\n  \"86\": \"385862_6D8B8D_647B80_1A2E2F\",\n  \"87\": \"386169_A9CFDB_153C23_7CA3AC\",\n  \"88\": \"38925D_142B23_1D4835_2A6449\",\n  \"89\": \"392307_B3AE7D_6D5618_847C42\",\n  \"90\": \"39433A_65866E_86BF8B_BFF8D8\",\n  \"91\": \"394641_B1A67E_75BEBE_7D7256\",\n  \"92\": \"3A2412_A78B5F_705434_836C47\",\n  \"93\": \"3A3329_C9B090_928069_A9957A\",\n  \"94\": \"3A3D37_7E7F75_BCBFB6_9C9C94\",\n  \"95\": \"3B3B3B_C7C7C7_878787_A4A4A4\",\n  \"96\": \"3B3C3F_DAD9D5_929290_ABACA8\",\n  \"97\": \"3B4235_7B9395_5B716C_70847B\",\n  \"98\": \"3B6E10_E3F2C3_88AC2E_99CE51\",\n  \"99\": \"3D1F12_653821_070404_22130B\",\n  \"100\": \"3E2335_D36A1B_8E4A2E_2842A5\",\n  \"101\": \"3E3D39_D6CEAF_91BAC1_897966\",\n  \"102\": \"3E3E36_72726D_63645D_0E0F0C\",\n  \"103\": \"3E3E3E_AEAEAE_848484_777777\",\n  \"104\": \"3E95CC_65D9F1_A2E2F6_679BD4\",\n  \"105\": \"3F3A2F_91D0A5_7D876A_94977B\",\n  \"106\": \"3F3D52_CCCED9_AFB0C6_8D8CAC\",\n  \"107\": \"3F4441_D1D7D6_888F87_A2ADA1\",\n  \"108\": \"403A34_B0936E_7F979C_7E6956\",\n  \"109\": \"415325_83A24E_678239_748C3C\",\n  \"110\": \"416BA7_A5B8D0_0D2549_65ABEB\",\n  \"111\": \"422509_C89536_824512_0A0604\",\n  \"112\": \"422A1E_716767_685D59_5E4F4A\",\n  \"113\": \"424244_BDBBBE_8A898E_A3A4A9\",\n  \"114\": \"425F84_1C2939_2A3F57_24344C\",\n  \"115\": \"430404_BD9295_7E1E21_94544C\",\n  \"116\": \"432322_5E3839_170C0B_543433\",\n  \"117\": \"433D3F_A58D7D_786760_8C7C6D\",\n  \"118\": \"434240_D3D3CF_898784_A4A49F\",\n  \"119\": \"434343_9E9E9E_8C8C8C_848484\",\n  \"120\": \"434C32_62704C_546244_2F3220\",\n  \"121\": \"442C27_A79E90_847066_8D837C\",\n  \"122\": \"447072_8ACACB_65A4A5_74B3B3\",\n  \"123\": \"45432C_808361_B8C8BC_A5A27A\",\n  \"124\": \"454447_908E9A_181716_7C7C7B\",\n  \"125\": \"456A73_779B9E_173A46_154C5D\",\n  \"126\": \"463F37_ACCFBB_818B78_91A494\",\n  \"127\": \"464445_D2D0CB_919196_A8ADB0\",\n  \"128\": \"464543_D1CFC1_8E8C83_A4AC9C\",\n  \"129\": \"46804D_CBE9AC_90B57C_95D38F\",\n  \"130\": \"468126_C1DDB5_8AC460_A1D07C\",\n  \"131\": \"47392E_997E69_7C6553_8B745F\",\n  \"132\": \"474444_7B7575_9E9899_8C8C8B\",\n  \"133\": \"474643_696F7D_A9ABB8_8B8C93\",\n  \"134\": \"474843_CECEC4_898883_A3A3A4\",\n  \"135\": \"48270F_C4723B_9B5728_7B431B\",\n  \"136\": \"482908_894E0D_FBDB52_CA7420\",\n  \"137\": \"487FC9_A8E7F8_88CCF2_70AFDE\",\n  \"138\": \"489B7A_A0E7D9_6DC5AC_87DAC7\",\n  \"139\": \"48C381_226640_369F64_3CAC74\",\n  \"140\": \"49200B_C6926C_9C642B_A45C26\",\n  \"141\": \"495CA6_CCD2E6_A5B1D8_1E2852\",\n  \"142\": \"495E48_0D100D_9D9C87_9ECC9C\",\n  \"143\": \"496DBA_94C9F2_72A7E2_84B4EC\",\n  \"144\": \"4A6442_D0AB75_81CD94_181B12\",\n  \"145\": \"4B362C_715A4F_211913_644C44\",\n  \"146\": \"4B4A3A_94A3A4_68766F_988475\",\n  \"147\": \"4B5455_BBBFC4_97A0A6_838C90\",\n  \"148\": \"4C240E_A5613B_895134_734C44\",\n  \"149\": \"4C342A_7B584B_271912_6B4C44\",\n  \"150\": \"4C462E_6D876C_9AAC8F_9AABA6\",\n  \"151\": \"4C4C4C_D2D2D2_8F8F8F_ACACAC\",\n  \"152\": \"4D595E_858D87_596F84_748480\",\n  \"153\": \"4E4C42_B8C4C5_898E89_A3ACA4\",\n  \"154\": \"4E4D40_979786_AEAEA1_878678\",\n  \"155\": \"4E5150_9FA3A3_848C8A_82848C\",\n  \"156\": \"4F251B_381710_43241B_602F23\",\n  \"157\": \"4F439F_A28BE5_8570D6_7765C9\",\n  \"158\": \"4F4742_B7B1AA_847E79_969294\",\n  \"159\": \"4F4C45_A7AEAA_7A8575_9D97A2\",\n  \"160\": \"4F4F4F_9C9C9C_121212_7C7C7C\",\n  \"161\": \"4F4F4F_A1A1A1_8C8C8C_848484\",\n  \"162\": \"4F5246_8C8D84_7B7C74_131611\",\n  \"163\": \"4FE34F_2BB02B_3CD03C_1C861C\",\n  \"164\": \"50332C_D98D79_955F52_AA7C6C\",\n  \"165\": \"503522_C38254_9F6B45_845838\",\n  \"166\": \"504D3C_979C9D_81837D_9C998A\",\n  \"167\": \"513A11_CDBEB5_C8811C_9A733F\",\n  \"168\": \"51462B_DFCA7E_948050_A49874\",\n  \"169\": \"515151_DCDCDC_B7B7B7_9B9B9B\",\n  \"170\": \"515341_9A9C86_16180D_838474\",\n  \"171\": \"517919_659623_34460C_3E5813\",\n  \"172\": \"519C8D_83DAC7_9DEDE0_2B5B4C\",\n  \"173\": \"522221_91343B_7F6F6B_744960\",\n  \"174\": \"522A1A_94543A_C3896F_AB7D66\",\n  \"175\": \"525050_D4D3D3_959393_ACACAC\",\n  \"176\": \"533B33_AF9998_866965_9C7E7B\",\n  \"177\": \"535A2F_CDCA91_91915B_A4AC6F\",\n  \"178\": \"535F6B_A6BDC8_8FA3B4_7F91A2\",\n  \"179\": \"537387_75BBB9_152E5B_0E85E8\",\n  \"180\": \"54584E_B1BAC5_818B91_A7ACA3\",\n  \"181\": \"545B4D_D8DDC8_A0A792_B2C1A3\",\n  \"182\": \"54C104_BBFA0F_97EF04_7AE104\",\n  \"183\": \"55382F_78554E_271A16_6C4C44\",\n  \"184\": \"555555_C8C8C8_8B8B8B_A4A4A4\",\n  \"185\": \"556F42_112817_81927F_223E24\",\n  \"186\": \"55C404_BCFA0E_97F004_7AE104\",\n  \"187\": \"562D2A_2E1615_7E4945_703C3C\",\n  \"188\": \"56352F_1E110F_311C19_3C231C\",\n  \"189\": \"57553F_C6C3AF_8C8768_868C8C\",\n  \"190\": \"57583E_969788_292920_848474\",\n  \"191\": \"579241_B5D25D_0E1D2D_97C284\",\n  \"192\": \"582410_83381A_1F0C04_30140A\",\n  \"193\": \"583629_2E1810_765648_3C1C14\",\n  \"194\": \"584F3A_BEC3BD_C5A57D_A39073\",\n  \"195\": \"586A51_CCD5AA_8C9675_8DBBB7\",\n  \"196\": \"593E2C_E5D8A9_BC9F79_9F8A68\",\n  \"197\": \"595356_CDBFC6_AA9DA3_BBB3BC\",\n  \"198\": \"59554F_171716_847C74_2C2C24\",\n  \"199\": \"596773_B3C6CE_98AFB9_879AA8\",\n  \"200\": \"597C3F_254319_6C9668_7C9B53\",\n  \"201\": \"5A492B_DEC583_987D4D_AC9C74\",\n  \"202\": \"5A643B_454D2C_393F25_202315\",\n  \"203\": \"5B4CBC_B59AF2_9B84EB_8F78E4\",\n  \"204\": \"5B5428_C5A052_A28B46_ADA752\",\n  \"205\": \"5B574E_586967_807C6F_6A746C\",\n  \"206\": \"5C045C_BD0DBD_930493_A404A4\",\n  \"207\": \"5C2E0C_C36924_9F4F14_834114\",\n  \"208\": \"5C4E41_CCCDD6_9B979B_B1AFB0\",\n  \"209\": \"5C5743_262418_393727_342C20\",\n  \"210\": \"5C5C04_BDBD0D_939304_A4A404\",\n  \"211\": \"5C5C5C_A2A2A2_8C8C8C_848484\",\n  \"212\": \"5D5854_1A1714_373330_2C2424\",\n  \"213\": \"5D5D5D_CDCDCD_232323_ACACAC\",\n  \"214\": \"5D5E5A_A1A29B_2A2927_8B948C\",\n  \"215\": \"5E423A_8C6E69_382416_745D64\",\n  \"216\": \"5E5049_CDC2BE_9C8E88_B7ACA4\",\n  \"217\": \"5E5855_C6C4CD_C89B67_8F8E98\",\n  \"218\": \"5E5F62_A7B2BE_211C17_939CA3\",\n  \"219\": \"5ECBA4_BCFAE7_92EED0_A1F4DC\",\n  \"220\": \"5F1827_9B4A60_1F0404_340406\",\n  \"221\": \"5F4C4B_A07C7D_A8AFBF_868185\",\n  \"222\": \"5F4F50_A18E8E_8C7C7B_211A1A\",\n  \"223\": \"5F5F5F_BDBDBD_A4A4A4_9C9C9C\",\n  \"224\": \"604A30_DC9065_212C14_AC9C92\",\n  \"225\": \"60534A_211813_9B948E_8E837D\",\n  \"226\": \"605352_E9CCC5_C7A8A3_A89291\",\n  \"227\": \"606857_9BA894_8C9C83_8C9483\",\n  \"228\": \"613F04_D68C04_A45F04_1F0F04\",\n  \"229\": \"61583E_252314_928972_342C1C\",\n  \"230\": \"617586_23304C_1B1E30_4988CF\",\n  \"231\": \"622F19_885934_9A7748_94603A\",\n  \"232\": \"623622_A1756F_986353_89645B\",\n  \"233\": \"624541_FCD0C6_E4A19A_FCBCB4\",\n  \"234\": \"626262_9E9E9E_848484_262626\",\n  \"235\": \"626262_A8A8A8_949494_1F1F1F\",\n  \"236\": \"626A57_3B3F33_7D8973_444C3C\",\n  \"237\": \"626D5C_B8C2BB_1B230F_A4ACA3\",\n  \"238\": \"627D72_A6CAAA_202C28_B4D4B4\",\n  \"239\": \"630463_C30CC3_9B049B_AC04AC\",\n  \"240\": \"63533B_AA9472_1C1108_9B8C68\",\n  \"241\": \"63584B_E6E0D6_A8A092_BFB6A8\",\n  \"242\": \"635D52_A9BCC0_B1AEA0_819598\",\n  \"243\": \"636363_AAAAAA_949494_252525\",\n  \"244\": \"636D6C_D4E7ED_ABBCC4_9BA4A8\",\n  \"245\": \"637598_B7C4D3_22293A_9BACBF\",\n  \"246\": \"64554D_D1C9C1_ABADA0_0E0C0A\",\n  \"247\": \"64686F_BDC0C4_161718_A4A7AB\",\n  \"248\": \"647171_1F3349_2A475C_87A5AD\",\n  \"249\": \"647686_23292E_333C44_404B55\",\n  \"250\": \"656662_9B9B99_393B31_8B8C8C\",\n  \"251\": \"657274_2A2F30_A0A7B0_363C44\",\n  \"252\": \"65A0BA_C3E4F1_A7D5E6_97CADF\",\n  \"253\": \"65A0C7_C3E4F8_A7D5EF_97CAE9\",\n  \"254\": \"660505_F2B090_DD4D37_AA1914\",\n  \"255\": \"66605E_939198_2E261F_3C332A\",\n  \"256\": \"666864_B3B4AB_2F2F2C_9CA49B\",\n  \"257\": \"673B2A_99735C_99593A_3A160E\",\n  \"258\": \"677E93_36444D_99A9BA_435464\",\n  \"259\": \"678E67_C4D9C4_ACC8AC_98B898\",\n  \"260\": \"68049F_C90DE6_A404CF_B304DC\",\n  \"261\": \"683F2D_9F736D_431D06_966152\",\n  \"262\": \"68493E_B2AAA9_978C8C_130907\",\n  \"263\": \"684C40_776E69_9B7765_758D96\",\n  \"264\": \"685B57_BEB1B1_9B99A4_1E1D1D\",\n  \"265\": \"686464_CCCAC7_A4A19F_BCB4B4\",\n  \"266\": \"686B73_2A2B2D_D5D9DD_B0B3BC\",\n  \"267\": \"686E55_353C2F_869B7F_444434\",\n  \"268\": \"696347_98B0A2_28261E_362B22\",\n  \"269\": \"696969_A0A0A0_949494_8C8C8C\",\n  \"270\": \"6A3C15_EFC898_D59D59_B38346\",\n  \"271\": \"6A5338_1C120B_C5975F_96886C\",\n  \"272\": \"6A8287_405153_839EBE_424C5C\",\n  \"273\": \"6B3822_A65D48_824E48_401E0C\",\n  \"274\": \"6BBD6B_C8F3C8_A3E2A3_B4ECB4\",\n  \"275\": \"6C52AA_C9A6EA_A681D6_B494E2\",\n  \"276\": \"6C5DC3_352D66_5C4CAB_544CA5\",\n  \"277\": \"6C6F76_CBD1D7_B2BDC7_A6B0BF\",\n  \"278\": \"6C8996_14223F_B9DEDD_2E445C\",\n  \"279\": \"6D1616_E6CDBA_DE2B24_230F0F\",\n  \"280\": \"6D3B1C_895638_502A0D_844C31\",\n  \"281\": \"6D6050_C8C2B9_A2998E_B4AA9F\",\n  \"282\": \"6D6D6D_3E3E3E_C0C0C0_949494\",\n  \"283\": \"6E2E36_D3A1A0_BD7175_C78C8B\",\n  \"284\": \"6E5137_E8CA90_271912_B99C74\",\n  \"285\": \"6E524D_8496C5_AF6624_100B11\",\n  \"286\": \"6E6D69_D0ECE9_AAC7C6_200C0C\",\n  \"287\": \"6E7181_D1CFDF_ABAFC7_B4BCCE\",\n  \"288\": \"6E8C48_B8CDA7_344018_A8BC94\",\n  \"289\": \"6EC66E_C9F8C9_A3E8A3_B4F1B4\",\n  \"290\": \"6F503E_D59A70_221812_B0A899\",\n  \"291\": \"705B4B_312821_AF927B_44342C\",\n  \"292\": \"706962_24211E_BCB6AF_ACA494\",\n  \"293\": \"713A28_A87661_3A160D_9B6454\",\n  \"294\": \"714C30_EAD7C5_CC9265_E2B48F\",\n  \"295\": \"716049_D1C8B9_3F160C_BAA6A9\",\n  \"296\": \"71623B_ECDE8C_30250A_ABA69A\",\n  \"297\": \"72625B_F0DFD0_D9BAA5_C3A595\",\n  \"298\": \"726F5B_A09C88_8B8C7B_94907C\",\n  \"299\": \"727167_2F2F2B_A3A6A2_44443C\",\n  \"300\": \"728473_534C40_7BCEC8_7BB9B6\",\n  \"301\": \"736655_D9D8D5_2F281F_B1AEAB\",\n  \"302\": \"745359_BFAEA8_9B8384_AC9392\",\n  \"303\": \"746761_291C19_AB9385_3C2B27\",\n  \"304\": \"747A6F_292E2A_ACA79F_45453B\",\n  \"305\": \"74A192_041B0D_194C33_235B4C\",\n  \"306\": \"75322B_96463F_51201A_3D1814\",\n  \"307\": \"75723E_C0C3A0_2A1E0E_AFAE77\",\n  \"308\": \"75746F_333330_A2A1A9_444444\",\n  \"309\": \"758391_BAC2CA_435263_A1ACBC\",\n  \"310\": \"763B28_D0BDB8_ADA39E_1E1D1D\",\n  \"311\": \"763C39_431510_210504_55241C\",\n  \"312\": \"764739_D0917B_2A1611_B37C68\",\n  \"313\": \"765938_1F1009_A59C7C_C9A382\",\n  \"314\": \"766554_C1BEBB_2A1A0E_B4ABAC\",\n  \"315\": \"76787C_2F3031_A5A9B8_444446\",\n  \"316\": \"767989_323437_B6C4EE_343C44\",\n  \"317\": \"771A1F_D2939E_B6595D_9D4B54\",\n  \"318\": \"773012_AE5124_4D1908_340F04\",\n  \"319\": \"776045_D2CCC3_281910_BBB5AA\",\n  \"320\": \"776A5C_BA9A89_302C26_443C34\",\n  \"321\": \"776C62_292622_474039_3C342C\",\n  \"322\": \"777C61_333727_BABFA1_A5AC8C\",\n  \"323\": \"777D7D_BDCAD2_3E3C2E_B1B8B6\",\n  \"324\": \"787165_DAD9CD_9DC0CE_36302A\",\n  \"325\": \"7877EE_D87FC5_75D9C7_1C78C0\",\n  \"326\": \"794E40_361612_4C2A21_441B1B\",\n  \"327\": \"795038_C2856B_533320_AC7C61\",\n  \"328\": \"796D6B_DED3CB_C6BAB1_ADA09B\",\n  \"329\": \"796F52_36413A_C9B48C_B6A77F\",\n  \"330\": \"797367_302E29_ABA3A0_443C35\",\n  \"331\": \"7A6959_2D271D_C1B5A9_B4A393\",\n  \"332\": \"7A736F_463F33_575046_4B463D\",\n  \"333\": \"7A7A7A_D0D0D0_BCBCBC_B4B4B4\",\n  \"334\": \"7A7A7A_D9D9D9_BCBCBC_B4B4B4\",\n  \"335\": \"7A7C63_625531_665B3F_5B4B29\",\n  \"336\": \"7A9196_485C64_425459_C1E4E7\",\n  \"337\": \"7B5254_E9DCC7_B19986_C8AC91\",\n  \"338\": \"7B6857_383028_BCA38F_4C3C34\",\n  \"339\": \"7B6E5B_C5CACC_B1B2AE_322415\",\n  \"340\": \"7B7E82_343536_A0B1C8_44444C\",\n  \"341\": \"7C584C_27140D_B3765C_3D2318\",\n  \"342\": \"7C7C71_353630_ADAFAF_444444\",\n  \"343\": \"7D6651_F8E3BF_CEA987_E7C29C\",\n  \"344\": \"7D7673_353230_AEA7B0_4C4444\",\n  \"345\": \"7DA1BA_A4CCE8_5D7A8B_5E7C94\",\n  \"346\": \"7E5344_22120E_CCAB9C_8D919D\",\n  \"347\": \"7E5E57_AD9794_612D1D_C9997D\",\n  \"348\": \"7E8174_39444D_CECAA7_B3B49B\",\n  \"349\": \"7F5134_22120A_452110_9F7D5F\",\n  \"350\": \"7F8896_3B3936_BBCFE9_4B4B4D\",\n  \"351\": \"803537_310F10_C35A5D_D89093\",\n  \"352\": \"807068_C3B0AB_443E3B_AC9C94\",\n  \"353\": \"80726C_DCDBD7_9AA6C2_B7BFCA\",\n  \"354\": \"808A5B_E0E1D4_2C4304_C5C7B0\",\n  \"355\": \"80A6B4_D5E9EF_B2D0D9_C1DCE4\",\n  \"356\": \"80CA23_B7EE37_D5FA4C_A3E434\",\n  \"357\": \"812828_521818_C94141_AB3737\",\n  \"358\": \"812E39_551C24_381117_9E3C49\",\n  \"359\": \"815C41_F6C99A_D39F77_BB9474\",\n  \"360\": \"815F54_DECBC6_301813_C5A8A0\",\n  \"361\": \"8194AB_D6DFEB_C0CEDE_B0BFD1\",\n  \"362\": \"81ADB3_D6ECEE_BFDEE1_AFD1D7\",\n  \"363\": \"81BABA_D5F3F3_BBE4E4_ABDCDC\",\n  \"364\": \"825C4D_A08175_97746C_613B2F\",\n  \"365\": \"826A59_E0C9B9_CBAD99_3D2615\",\n  \"366\": \"827C87_4F3937_605457_534C4E\",\n  \"367\": \"834741_4C281D_BE8F8C_AE6A65\",\n  \"368\": \"835984_39273A_4C334C_593D5A\",\n  \"369\": \"837667_DCD4C8_C5BAAC_3C2E22\",\n  \"370\": \"846556_503E33_61493D_5C4434\",\n  \"371\": \"848679_363630_AABBB7_4B4B44\",\n  \"372\": \"855D08_DAC31B_BF9B0C_AF860C\",\n  \"373\": \"85694C_D1A67A_3C2F22_EBBF8F\",\n  \"374\": \"857B61_ACE5D4_593D28_5B4334\",\n  \"375\": \"858362_9F9F80_9C9673_70714B\",\n  \"376\": \"85B9D3_C9EAF9_417277_528789\",\n  \"377\": \"866C5B_544237_B29B8C_AC8F7C\",\n  \"378\": \"872F2D_AB403E_682421_581F1C\",\n  \"379\": \"877B70_34302B_CBB3A4_524C44\",\n  \"380\": \"877C72_B6ACBB_36322D_4C443B\",\n  \"381\": \"878787_4C4C4C_646464_5C5C5C\",\n  \"382\": \"887153_E5C188_433729_C1A484\",\n  \"383\": \"888D8F_515454_646A6C_6C6C6D\",\n  \"384\": \"89204B_17080D_DA4377_F780B5\",\n  \"385\": \"8955D0_744CC4_EA4AEF_954DA4\",\n  \"386\": \"8A3B3D_DA5F62_461F20_BC7F81\",\n  \"387\": \"8A3DA1_D77CE4_C263D4_B75AC9\",\n  \"388\": \"8A5B34_F3BD7C_DA9758_BE7E45\",\n  \"389\": \"8A6565_2E214D_D48A5F_ADA59C\",\n  \"390\": \"8A7666_3C332C_C6AEA2_54443C\",\n  \"391\": \"8A7968_3C342D_C6B3A5_54443B\",\n  \"392\": \"8B7469_443E39_C7A797_544443\",\n  \"393\": \"8B795F_291504_EFE5D4_4A3518\",\n  \"394\": \"8B892C_D4E856_475E2D_47360A\",\n  \"395\": \"8C5945_D4C0B6_C3A49C_430504\",\n  \"396\": \"8CAEBC_3A4443_506463_DAEFEF\",\n  \"397\": \"8D553D_3C2419_5D3727_AA766C\",\n  \"398\": \"8D8D8D_DDDDDD_CCCCCC_B7B7B7\",\n  \"399\": \"8E6767_D9C4C4_C8ACAC_B89898\",\n  \"400\": \"8E7C67_E2C6A5_3B332A_C3AB94\",\n  \"401\": \"8E907C_B1B5A7_D7DBD0_CCCFBA\",\n  \"402\": \"8F4277_361530_BF538E_52274C\",\n  \"403\": \"8F4E20_E8B06B_391A08_CC8944\",\n  \"404\": \"8F5D3C_5B3B26_382416_70482E\",\n  \"405\": \"8F7B61_D6B892_4E4436_C3AC86\",\n  \"406\": \"8F894E_DAD79B_C9C384_C4BE7B\",\n  \"407\": \"903B2A_EC9888_D96747_58190D\",\n  \"408\": \"906867_C7B6BC_5D2E26_BEA4A3\",\n  \"409\": \"908887_3C3229_C7C6D0_554A45\",\n  \"410\": \"908E8E_292828_454444_595757\",\n  \"411\": \"909473_555D4B_C2CCA2_645B3C\",\n  \"412\": \"910E5A_E127C3_CF1CA3_C1158F\",\n  \"413\": \"926B48_4C2D0D_5F3913_AA8874\",\n  \"414\": \"927253_EECEA7_D8B792_C7A883\",\n  \"415\": \"935555_F6DAD9_D39393_593333\",\n  \"416\": \"936451_C29A8F_5F3A2B_361D14\",\n  \"417\": \"938C8D_403731_CECED8_554C4C\",\n  \"418\": \"942967_D292B5_C76E9E_551A4C\",\n  \"419\": \"945D43_E5AAA0_351F14_CC8B78\",\n  \"420\": \"94615B_DACED1_C3B9A4_CCABAA\",\n  \"421\": \"94624F_573529_24110C_733424\",\n  \"422\": \"9650CA_46236A_7239A6_633492\",\n  \"423\": \"965146_2B191D_DF7A5C_BFD6E1\",\n  \"424\": \"96785D_B8A398_63452C_6C5435\",\n  \"425\": \"975337_EEBE98_4B211C_D88659\",\n  \"426\": \"977970_E1D9D8_DAC8C1_C4B2AD\",\n  \"427\": \"98332E_4A100D_691A16_A85A5B\",\n  \"428\": \"989784_665542_BFECE5_6D644C\",\n  \"429\": \"9A5A55_31110D_582A24_703C34\",\n  \"430\": \"9A7467_D2C2BF_662D22_CCB2A5\",\n  \"431\": \"9AA8B6_313133_4E5055_D7EBF8\",\n  \"432\": \"9B4816_E8A138_CC7421_DC8827\",\n  \"433\": \"9B9994_E1E0DB_474643_544C4C\",\n  \"434\": \"9B9B9B_1E1E1E_5C5C5C_444444\",\n  \"435\": \"9C5B3B_49200A_E9C8AB_DDAB7D\",\n  \"436\": \"9CC338_4E671A_799F27_8CAC2C\",\n  \"437\": \"9D282A_38191D_DFC6CD_D6495A\",\n  \"438\": \"9D4343_E38989_D37474_CE6C6C\",\n  \"439\": \"9D602E_E4C363_D5A64F_C38A44\",\n  \"440\": \"9D7F6E_C6DAD4_6D4C4B_C6BBBC\",\n  \"441\": \"9D8F84_5D4544_D9D3C9_62555A\",\n  \"442\": \"9D9D9D_4E4E4E_646464_6C6C6C\",\n  \"443\": \"9E7C7E_DDCBD0_351D20_683B38\",\n  \"444\": \"9E9C77_6E6F4E_7C7C54_C7BF96\",\n  \"445\": \"9F1A27_F1AF7F_CD5845_D08441\",\n  \"446\": \"9F4738_CE958D_4F0C0A_C0837C\",\n  \"447\": \"9F7D30_B69F75_B9B7BE_CB9C4D\",\n  \"448\": \"9F886D_362F25_E8C9A4_5C4C3C\",\n  \"449\": \"9F9F9F_E4E4E4_D4D4D4_CCCCCC\",\n  \"450\": \"A05F31_D5C2BC_D9996F_42230E\",\n  \"451\": \"A0A8B0_424336_E7E9EF_545C5C\",\n  \"452\": \"A1824F_4A2A06_F7E29F_B3A598\",\n  \"453\": \"A27216_E9D036_D0AB24_DCB927\",\n  \"454\": \"A28766_E4D6C3_D6C4AA_CAB598\",\n  \"455\": \"A3B2A4_3B3E3D_676F6A_535C57\",\n  \"456\": \"A48DA4_E8DDE8_C9B7C9_D4C2D4\",\n  \"457\": \"A49994_695244_C4C2CF_76645C\",\n  \"458\": \"A67362_36150C_5E2E1E_F6C3BF\",\n  \"459\": \"A84337_611D18_3F110F_7C2A22\",\n  \"460\": \"A88C77_DAD2C7_623532_956229\",\n  \"461\": \"A95E4D_57261A_6E3223_773C24\",\n  \"462\": \"A971A9_E8CBE8_D4A8D4_DCB3DC\",\n  \"463\": \"A98D6A_F2D3AB_FBE6BE_695332\",\n  \"464\": \"A9A2A0_2F211C_544440_6D5E5A\",\n  \"465\": \"AA526C_EAA6C9_DC88AF_D17BA0\",\n  \"466\": \"AB2C2C_EBB4B3_561212_DE8484\",\n  \"467\": \"AB2D08_C35E5A_C75522_C56C70\",\n  \"468\": \"AB54A8_EBAAE9_DF8FDD_D37ED0\",\n  \"469\": \"AC171C_FA8593_E84854_D3464E\",\n  \"470\": \"AC725C_2E1610_663E31_E78F6B\",\n  \"471\": \"AC7F84_78463A_C4AABB_885454\",\n  \"472\": \"AC8942_432D19_6E4D27_5F3B1C\",\n  \"473\": \"AC8961_EBDAC3_D1B791_DCC2A0\",\n  \"474\": \"AD9E81_F1E5CE_6B5C3E_5A492A\",\n  \"475\": \"ADC2CD_DFF7FA_C9E6F5_C1DBEC\",\n  \"476\": \"AE9D99_29303B_585F70_875C33\",\n  \"477\": \"AF986F_CDB489_9C7C5B_7E6C4D\",\n  \"478\": \"AF987A_2F2416_523F27_6B5331\",\n  \"479\": \"AF9A72_504718_74652B_E2C2A2\",\n  \"480\": \"B06932_451B09_7B3E16_150804\",\n  \"481\": \"B09273_7A573D_C7AF97_84644C\",\n  \"482\": \"B0A2A8_866A63_E8E9F2_614C4F\",\n  \"483\": \"B0B0B0_6E6E6E_848484_8C8C8C\",\n  \"484\": \"B1A395_EFE6E1_635A47_786D5D\",\n  \"485\": \"B2674B_552913_7C442F_733919\",\n  \"486\": \"B26F52_4B2E2B_79493A_663B32\",\n  \"487\": \"B27744_5A2804_F6C488_EBB27D\",\n  \"488\": \"B38B76_40251D_745042_5F3A30\",\n  \"489\": \"B3AA93_F4EFD7_E1DDC2_DCD3BB\",\n  \"490\": \"B47A5B_301E14_704A31_633C23\",\n  \"491\": \"B4B29D_442D0D_604E2A_736542\",\n  \"492\": \"B5987E_F8E4DC_6F5939_E9CCBA\",\n  \"493\": \"B5BBB5_3B4026_6E745D_5C6147\",\n  \"494\": \"B62D33_E4868B_7E2D34_DD6469\",\n  \"495\": \"B66D59_F0C9B2_E5B49C_DAA084\",\n  \"496\": \"B67F6B_4B2E2A_6C3A34_F3DBC6\",\n  \"497\": \"B6B8B1_994A24_315C81_927963\",\n  \"498\": \"B76E5E_7F3A2F_EE938C_F8A5A1\",\n  \"499\": \"B7A763_E6E1CC_554A1E_6C6428\",\n  \"500\": \"B86137_FBCA6F_6F3C37_040404\",\n  \"501\": \"B9896A_5B341B_F4CAA3_6C4C2D\",\n  \"502\": \"B98A6D_7B4F38_D1A68F_8C5B43\",\n  \"503\": \"B9B37A_F1EED0_E5E4BA_DAD6A8\",\n  \"504\": \"B9CDD2_775339_958272_7F6A5E\",\n  \"505\": \"BA472D_CA6E67_C76150_CA6C59\",\n  \"506\": \"BA5DBA_F2BEF2_E69BE6_DC8CDC\",\n  \"507\": \"BA864A_5D381E_644422_FBE97A\",\n  \"508\": \"BA8979_DDCBCA_9A4726_892407\",\n  \"509\": \"BAADA8_ECE6E7_9A8378_E3DCD3\",\n  \"510\": \"BC5B43_95170B_EEAC92_DB8C7C\",\n  \"511\": \"BC928D_F9E2D6_654445_835A51\",\n  \"512\": \"BD0D0D_970404_7B0404_550404\",\n  \"513\": \"BD5345_460F11_732622_EDB7B1\",\n  \"514\": \"BDB466_F3EDC3_E3DD9F_ECE3AA\",\n  \"515\": \"BE5F5F_F4BDBD_ECA4A4_E29191\",\n  \"516\": \"BEE2E9_7E6A53_9AA09C_87837E\",\n  \"517\": \"BF7051_994C2D_E99A7B_DE8C74\",\n  \"518\": \"BF7745_F5D08E_E5AE6B_ECBC7C\",\n  \"519\": \"BF8E78_E5CCBF_753E32_4A261E\",\n  \"520\": \"BFAA83_F5EAD6_E1D0B1_EBDDC0\",\n  \"521\": \"BFB5A4_DEDCCB_D7D4CC_DCD3C2\",\n  \"522\": \"C05429_ED6129_94492A_834729\",\n  \"523\": \"C09E5C_DAD2B9_654429_81582D\",\n  \"524\": \"C1AA92_AD6E29_737889_CED1D7\",\n  \"525\": \"C1B3A1_F6EEE5_E1D7C7_ECE4D3\",\n  \"526\": \"C21338_920C24_E71C54_F34A7D\",\n  \"527\": \"C28E4E_845119_0B0805_713C0C\",\n  \"528\": \"C2A391_523728_785741_694836\",\n  \"529\": \"C2A584_363B41_71665B_8C7367\",\n  \"530\": \"C2AB7D_4A412E_7A6B4E_F9EDBE\",\n  \"531\": \"C30C0C_9F0404_830404_5C0404\",\n  \"532\": \"C33829_48171A_752523_942923\",\n  \"533\": \"C345EC_5F1DAA_9F31DB_872CCD\",\n  \"534\": \"C35C04_F9C30C_EE9F04_E08304\",\n  \"535\": \"C3CCD4_5F3B23_948A7B_A9A49A\",\n  \"536\": \"C47004_F9D00C_EDAF04_E09704\",\n  \"537\": \"C4A591_635448_F2D9D5_856D5B\",\n  \"538\": \"C4C6C6_4D5756_646463_7A8080\",\n  \"539\": \"C4DEDE_97B5B5_EAF9F9_ABC4C4\",\n  \"540\": \"C5A292_635247_F2D7D6_846A5B\",\n  \"541\": \"C5BBB6_F8F4F1_E2DAD6_ECE3DF\",\n  \"542\": \"C75F55_F8BDA9_EB9484_F4A494\",\n  \"543\": \"C7938D_E0DBE1_D1BBBC_D5CCCB\",\n  \"544\": \"C7B9A1_F8F1E4_EEE4D2_E4D8C4\",\n  \"545\": \"C7C0AC_2E181B_543B30_6B6270\",\n  \"546\": \"C7C7D7_4C4E5A_818393_6C6C74\",\n  \"547\": \"C87157_F8CBAE_E9A582_F2B394\",\n  \"548\": \"C88467_5B3333_875C5A_7A3822\",\n  \"549\": \"C8AF84_F9ECD7_EFDEBF_E6D1AF\",\n  \"550\": \"C8C8C8_3F3F3F_787878_5C5C5C\",\n  \"551\": \"C8D1DC_575B62_818892_6E747B\",\n  \"552\": \"C98D7F_3B0B0B_A97667_94433F\",\n  \"553\": \"C99A8B_491B0E_6E4136_8A4D28\",\n  \"554\": \"C9C7BE_55514B_888279_7B6E5F\",\n  \"555\": \"CA4FE1_6B2398_A337C7_9334BC\",\n  \"556\": \"CA8892_F9D7DC_EBB8C0_F3C4CC\",\n  \"557\": \"CAA094_875343_956255_EADEDC\",\n  \"558\": \"CAA78A_F9E7D7_EAD0B9_F3DCC3\",\n  \"559\": \"CAAC80_FAEBD5_F2DEBF_EAD1AF\",\n  \"560\": \"CAB094_F9ECDD_EFDEC8_E8D4BD\",\n  \"561\": \"CAB79D_F9F1E3_F1E5D1_E9DAC6\",\n  \"562\": \"CAE24E_6C9A23_A3C737_B3D43C\",\n  \"563\": \"CB4934_FB9971_F07554_F68464\",\n  \"564\": \"CB4E88_F99AD6_F384C3_ED75B9\",\n  \"565\": \"CB5E3B_FABC7A_EF965E_F4A46C\",\n  \"566\": \"CB7146_551D0F_7C270D_E5AB9C\",\n  \"567\": \"CB7846_753C22_AB5C32_B46C3C\",\n  \"568\": \"CB919B_F9DDE1_ECC0C8_F4CCD4\",\n  \"569\": \"CBCBCB_595959_8C8C8C_747474\",\n  \"570\": \"CC7C5F_A15436_B26346_AF5C3C\",\n  \"571\": \"CC9A7E_8A5249_C06A3E_DADADA\",\n  \"572\": \"CCC5C9_3B2B2B_67585B_7F7375\",\n  \"573\": \"CCF6FA_9DD9EB_82C5D9_ACD4E4\",\n  \"574\": \"CDC3B8_5A3F3C_67545A_8D7769\",\n  \"575\": \"CDCBC8_444342_696765_81807E\",\n  \"576\": \"CE8C15_EAC79B_DDAB57_F9C962\",\n  \"577\": \"CE8F3D_F0D2B0_F3C77D_E6B278\",\n  \"578\": \"CEB299_6B5C4C_887564_746355\",\n  \"579\": \"D04444_AF2F2F_8B2424_9B2C2C\",\n  \"580\": \"D07E3F_FBBD1F_8D2840_24120C\",\n  \"581\": \"D0CCCB_524D50_928891_727581\",\n  \"582\": \"D0D3BE_816854_998366_685146\",\n  \"583\": \"D1AC04_F8E50A_EDD004_B38D04\",\n  \"584\": \"D3CAAB_8C866E_C0B89A_AEA68A\",\n  \"585\": \"D4855F_92512D_AE6742_A75C2C\",\n  \"586\": \"D54C2B_5F1105_F39382_F08375\",\n  \"587\": \"D5B5B4_9E6C6F_F5E9EF_A57986\",\n  \"588\": \"D5D5D5_929292_ACACAC_B4B4B4\",\n  \"589\": \"D64480_E27497_EA9BB1_CD156F\",\n  \"590\": \"D7D7C3_AAAA92_F5F5EA_BCBCA4\",\n  \"591\": \"D7DFDB_AAB5AF_F5FAF7_BCC4C4\",\n  \"592\": \"D8388B_230A14_FCC8FC_FC71E1\",\n  \"593\": \"D8C949_F5F19E_6B7855_9A9858\",\n  \"594\": \"D8D8E5_9D9DAF_B4B4C4_B4B4CC\",\n  \"595\": \"DA5788_DE94BD_E078A3_DD83B4\",\n  \"596\": \"DBDBBB_F7F7E4_AFAF89_C4C49C\",\n  \"597\": \"DC3E04_B52604_FC7D20_F85F04\",\n  \"598\": \"DE9261_86361E_A85A37_944C2C\",\n  \"599\": \"DEDEC4_B5B597_F9F9EA_C4C4AB\",\n  \"600\": \"DEE3E8_A6AEB5_BCC4CC_BCC4C4\",\n  \"601\": \"DEE8DE_A6B5A6_BCCCBC_BCC4BC\",\n  \"602\": \"DEE8E8_A6B5B5_BCCCCC_BAC4C4\",\n  \"603\": \"DFD9C2_B5AE92_F9F7EA_C4C4A4\",\n  \"604\": \"DFDBB7_F9F8E3_B5AF86_BCBC8C\",\n  \"605\": \"DFDFCA_4D2D07_6B5224_857145\",\n  \"606\": \"DFDFD6_58544E_81766A_989288\",\n  \"607\": \"E1E1D4_777C7B_9FA19A_898F8D\",\n  \"608\": \"E1E1E0_363636_989897_747472\",\n  \"609\": \"E2D3BC_867255_B39E7F_96836C\",\n  \"610\": \"E2E2E7_AEAEB5_C4C4CC_C4C4C4\",\n  \"611\": \"E42E12_F35132_F86949_B71B0A\",\n  \"612\": \"E5DED7_AFA69D_C4BCB4_C3BAAB\",\n  \"613\": \"E6BF3C_5A4719_977726_FCFC82\",\n  \"614\": \"E6E3E3_B5AFAF_CCC4C4_C4C4C4\",\n  \"615\": \"E6E6E6_AAAAAA_C4C4C4_CCCCCC\",\n  \"616\": \"E7632F_FBA06B_BB2905_FB865E\",\n  \"617\": \"E7E2D8_B1AA9D_C9C2B3_BCB4AC\",\n  \"618\": \"E80404_B50404_CB0404_FC3333\",\n  \"619\": \"E804E8_B504B5_CC04CC_FC33FC\",\n  \"620\": \"E8DEE1_B5A6AA_CCBCC1_C4BBBC\",\n  \"621\": \"E8E5DE_B5AFA6_CCC5BC_C4C4BB\",\n  \"622\": \"E8E8DE_B5B5A6_CCCCBC_C4C4BA\",\n  \"623\": \"E9CCA1_A63106_DF8C3B_621304\",\n  \"624\": \"EA783E_6D4830_905837_FCDC6C\",\n  \"625\": \"EAD8D6_B59A97_CCB4B0_C9ABAB\",\n  \"626\": \"EAEAEA_B5B5B5_CCCCCC_D4D4D4\",\n  \"627\": \"EAEAEA_B6B6B6_CCCCCC_C4C4C4\",\n  \"628\": \"ED4630_791A0E_A42716_501009\",\n  \"629\": \"ED5087_FAC3D0_1C0B0C_FC84CC\",\n  \"630\": \"ED7F04_FCD60E_7E2D04_B73E04\",\n  \"631\": \"EDED06_B5B504_CCCC04_D4D404\",\n  \"632\": \"EE4128_FC8E82_9A0704_BF0F05\",\n  \"633\": \"EEECFB_BFB6D5_D0C8EB_CCC4DC\",\n  \"634\": \"F0D504_FBFAD3_B98609_CDA204\",\n  \"635\": \"F75F0B_461604_9A3004_FB9D2F\",\n  \"636\": \"F77777_FBE1E1_FAB2B2_FBC4C4\",\n  \"637\": \"F79686_FCCBD4_E76644_E76B56\",\n  \"638\": \"F9E6C7_FCF7DF_EDD3AA_F1D4B4\",\n  \"639\": \"FBB43F_FBE993_FB552E_FCDD65\",\n  \"640\": \"FBB82D_FBEDBF_FBDE7D_FB7E05\"\n};\n\nfunction getFormatString(format) {\n  switch (format) {\n    case 64:\n      return '-64px';\n\n    case 128:\n      return '-128px';\n\n    case 256:\n      return '-256px';\n\n    case 512:\n      return '-512px';\n\n    default:\n      return '';\n  }\n}\n\nvar MATCAP_ROOT = 'https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d';\nvar DEFAULT_MATCAP = matcapList[0];\n\nfunction useMatcapTexture() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1024;\n  var numTot = useMemo(function () {\n    return Object.keys(matcapList).length;\n  }, []);\n  var fileHash = useMemo(function () {\n    if (typeof id === 'string') {\n      return id;\n    } else if (typeof id === 'number') {\n      return matcapList[id];\n    }\n\n    return null;\n  }, [id]);\n  var fileName = \"\" + (fileHash || DEFAULT_MATCAP) + getFormatString(format) + \".png\";\n  var url = MATCAP_ROOT + \"/\" + format + \"/\" + fileName;\n  var matcapTexture = useTextureLoader(url);\n  return [matcapTexture, url, numTot];\n}\n\nvar normalsList = {\n  \"0\": \"151_norm.JPG\",\n  \"1\": \"152_norm.JPG\",\n  \"2\": \"153_norm.JPG\",\n  \"3\": \"154_norm.JPG\",\n  \"4\": \"155_norm.JPG\",\n  \"5\": \"156_norm.JPG\",\n  \"6\": \"157_norm.JPG\",\n  \"7\": \"158_norm.JPG\",\n  \"8\": \"159_norm.JPG\",\n  \"9\": \"160_norm.JPG\",\n  \"10\": \"161_norm.JPG\",\n  \"11\": \"162_norm.JPG\",\n  \"12\": \"163_norm.JPG\",\n  \"13\": \"164_norm.JPG\",\n  \"14\": \"165_norm.JPG\",\n  \"15\": \"166_norm.JPG\",\n  \"16\": \"167_norm.JPG\",\n  \"17\": \"168_norm.JPG\",\n  \"18\": \"169_norm.JPG\",\n  \"19\": \"170_norm.JPG\",\n  \"20\": \"171_norm.JPG\",\n  \"21\": \"172_norm.JPG\",\n  \"22\": \"173_norm.JPG\",\n  \"23\": \"174_norm.jpg\",\n  \"24\": \"175_norm.JPG\",\n  \"25\": \"176_norm.JPG\",\n  \"26\": \"177_norm.JPG\",\n  \"27\": \"178_norm.JPG\",\n  \"28\": \"179_norm.JPG\",\n  \"29\": \"180_norm.JPG\",\n  \"30\": \"181_norm.JPG\",\n  \"31\": \"182_norm.JPG\",\n  \"32\": \"183_norm.JPG\",\n  \"33\": \"184_norm.JPG\",\n  \"34\": \"185_norm.JPG\",\n  \"35\": \"186_norm.JPG\",\n  \"36\": \"187_norm.JPG\",\n  \"37\": \"188_norm.JPG\",\n  \"38\": \"189_norm.JPG\",\n  \"39\": \"190_norm.JPG\",\n  \"40\": \"191_norm.JPG\",\n  \"41\": \"192_norm.JPG\",\n  \"42\": \"193_norm.JPG\",\n  \"43\": \"194_norm.JPG\",\n  \"44\": \"195_norm.JPG\",\n  \"45\": \"196_norm.JPG\",\n  \"46\": \"197_norm.JPG\",\n  \"47\": \"198_norm.JPG\",\n  \"48\": \"199_norm.JPG\",\n  \"49\": \"200_norm.JPG\",\n  \"50\": \"201_norm.jpg\",\n  \"51\": \"202_norm.jpg\",\n  \"52\": \"203_norm.jpg\",\n  \"53\": \"204_norm.jpg\",\n  \"54\": \"205_norm.jpg\",\n  \"55\": \"206_norm.jpg\",\n  \"56\": \"207_norm.jpg\",\n  \"57\": \"208_norm.jpg\",\n  \"58\": \"209_norm.jpg\",\n  \"59\": \"210_norm.jpg\",\n  \"60\": \"211_norm.jpg\",\n  \"61\": \"212_norm.jpg\",\n  \"62\": \"213_norm.jpg\",\n  \"63\": \"214_norm.jpg\",\n  \"64\": \"215_norm.jpg\",\n  \"65\": \"216_norm.jpg\",\n  \"66\": \"217_norm.jpg\",\n  \"67\": \"218_norm.jpg\",\n  \"68\": \"219_norm.jpg\",\n  \"69\": \"220_norm.jpg\",\n  \"70\": \"221_norm.jpg\",\n  \"71\": \"222_norm.jpg\",\n  \"72\": \"223_norm.jpg\",\n  \"73\": \"224_norm.jpg\",\n  \"74\": \"225_norm.jpg\",\n  \"75\": \"226_norm.jpg\"\n};\nvar NORMAL_ROOT = 'https://rawcdn.githack.com/emmelleppi/normal-maps/f24c810fc1d86b5b1e5dfea914b668f70b5f2923';\nvar DEFAULT_NORMAL = normalsList[0];\n\nfunction useNormalTexture() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  var _ref14 = arguments.length > 1 ? arguments[1] : undefined,\n      _ref14$repeat = _ref14.repeat,\n      repeat = _ref14$repeat === void 0 ? [1, 1] : _ref14$repeat,\n      _ref14$anisotropy = _ref14.anisotropy,\n      anisotropy = _ref14$anisotropy === void 0 ? 1 : _ref14$anisotropy,\n      _ref14$offset = _ref14.offset,\n      offset = _ref14$offset === void 0 ? [0, 0] : _ref14$offset;\n\n  var numTot = useMemo(function () {\n    return Object.keys(normalsList).length;\n  }, []);\n  var imageName = normalsList[id] || DEFAULT_NORMAL;\n  var url = NORMAL_ROOT + \"/normals/\" + imageName; // @ts-expect-error\n\n  var normalTexture = useTextureLoader(url);\n  useEffect(function () {\n    if (!normalTexture) return;\n    normalTexture.wrapS = normalTexture.wrapT = RepeatWrapping;\n    normalTexture.repeat = new Vector2(repeat[0], repeat[1]);\n    normalTexture.offset = new Vector2(offset[0], offset[1]);\n    normalTexture.anisotropy = anisotropy;\n  }, [normalTexture, anisotropy, repeat, offset]);\n  return [normalTexture, url, numTot];\n}\n\nexport { Billboard, Box, Circle, Cone, ContactShadows, Cylinder, Detailed, DeviceOrientationControls, Dodecahedron, Extrude, FlyControls, HTML, Html, Icosahedron, Lathe, Line, Loader, MapControls, MeshDistortMaterial, MeshWobbleMaterial, Octahedron, OrbitControls, OrthographicCamera, Parametric, PerspectiveCamera, Plane, PointerLockControls, Polyhedron, PositionalAudio, Reflector, Ring, RoundedBox, Shadow, Sky, Sphere, Stars, Stats, Tetrahedron, Text, Torus, TorusKnot, TrackballControls, TransformControls, Tube, draco, meshBounds, shaderMaterial, softShadows, useAspect, useCamera, useContextBridge, useCubeTextureLoader, useDetectGPU, useFBXLoader, useGLTFLoader, useHelper, useMatcapTexture, useNormalTexture, useProgress, useSimplification, useSubdivision, useTessellation, useTextureLoader };","import React, { Suspense, useRef, useState } from 'react'\nimport { Canvas, useFrame, useLoader } from 'react-three-fiber'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { softShadows } from 'drei';\n\nimport logoModel from \"../assets/logo.glb\";\nimport \"../css/hero.css\";\n\nsoftShadows({ size: 0.005, frustrum: 2.75 });\n\nfunction Logo(props) {\n    const group = useRef();\n    const { nodes } = useLoader(GLTFLoader, logoModel)\n\n    const [hovered, setHover] = useState(false);\n    const [active, setActive] = useState(false);\n\n    useFrame(state => {\n        group.current.position.y = ((Math.sin(state.clock.getElapsedTime())) / 2)\n        group.current.rotation.z += 0.01\n    });\n\n    return (\n        <mesh\n            {...props}\n            ref={group}\n            castShadow\n            dispose={null}\n            geometry = {nodes.Curve001.geometry}\n            scale = {active ? [46, 46, 46] : [42, 42, 42]}\n            rotation={[Math.PI / 2, 0, 0]}\n            onClick = {(e) => setActive(!active)}\n            onPointerOver = {(e) => setHover(true)}\n            onPointerOut = {(e) => setHover(false)}\n        >\n            <meshStandardMaterial attach=\"material\" color={hovered? 'lightblue' : 'white'} />\n        </mesh>\n    )\n}\nfunction Hero() {\n    return(\n        <Canvas sRGB shadowMap camera={{ fov: 75 }}>\n            <ambientLight intensity={0.2} />\n            <pointLight position={[10, 10, 10]} />\n            <pointLight position={[-10, -10, -10]} intensity={0.5} />\n            <directionalLight\n                castShadow\n                position={[0, 10, -5]}\n                intensity={1.5}\n                shadow-mapSize-width={1024}\n                shadow-mapSize-height={1024}\n                shadow-camera-far={100}\n                shadow-camera-left={-10}\n                shadow-camera-right={10}\n                shadow-camera-top={10}\n                shadow-camera-bottom={-10}\n            />\n            <Suspense fallback={null}>\n                <Logo position = {[0, 0, 0]} />\n            </Suspense>\n            <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -2.3, 0]} receiveShadow>\n                <planeBufferGeometry attach=\"geometry\" args={[10, 10]} />\n                <shadowMaterial attach=\"material\" transparent opacity={0.5}/>\n            </mesh>\n        </Canvas>\n    )\n}\n\nexport default Hero","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\n// import Image from \"../components/image\"\n// import SEO from \"../components/seo\"\nimport Hero from \"../components/hero\"\n\nconst IndexPage = () => (\n  <Layout>\n    {/* <SEO title=\"Home\" /> */}\n    <Hero></Hero>\n    <h1>Hello World!</h1>\n    <p style={{ marginBottom: \"2000px\" }}>\n      This marks the start of the development on the website for UpVision.\n    </p>\n    {/* <div style={{ maxWidth: `300px`, marginBottom: `1.45rem` }}>\n      <Image />\n    </div> */}\n    <Link to=\"/page-2/\">Go to page 2</Link> <br />\n    {/* <Link to=\"/using-typescript/\">Go to \"Using TypeScript\"</Link> */}\n  </Layout>\n)\n\nexport default IndexPage\n","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _toConsumableArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport e from \"fast-deep-equal\";\nimport { useMemo as r } from \"react\";\n\nfunction n(r, n, o) {\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n\n  var _iterator = _createForOfIteratorHelper(n),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _r = _step.value;\n\n      if (e(o, _r.args)) {\n        if (_r.error) throw _r.error;\n        if (_r.response) return _r.response;\n        throw _r.promise;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var t = {\n    args: o,\n    promise: r.apply(void 0, _toConsumableArray(o)).then(function (e) {\n      return t.response = e;\n    }).catch(function (e) {\n      return t.error = e;\n    }).then(function () {\n      s > 0 && setTimeout(function () {\n        var e = n.indexOf(t);\n        -1 !== e && n.splice(e, 1);\n      }, s);\n    })\n  };\n  if (n.push(t), !i) throw t.promise;\n}\n\nfunction o(r) {\n  for (var _len = arguments.length, n = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    n[_key - 1] = arguments[_key];\n  }\n\n  if (void 0 === n) r.splice(0, r.length);else {\n    var _o = r.find(function (r) {\n      return e(n, r.args);\n    });\n\n    if (_o) {\n      var _e = r.indexOf(_o);\n\n      -1 !== _e && r.splice(_e, 1);\n    }\n  }\n}\n\nfunction s(r) {\n  var s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i = [];\n  return {\n    read: function read() {\n      for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        e[_key2] = arguments[_key2];\n      }\n\n      return n(r, i, e, s);\n    },\n    preload: function preload() {\n      for (var _len3 = arguments.length, e = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        e[_key3] = arguments[_key3];\n      }\n\n      n(r, i, e, s, !0);\n    },\n    clear: function clear() {\n      for (var _len4 = arguments.length, e = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        e[_key4] = arguments[_key4];\n      }\n\n      return o.apply(void 0, [i].concat(e));\n    },\n    peek: function peek() {\n      for (var _len5 = arguments.length, r = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        r[_key5] = arguments[_key5];\n      }\n\n      var n;\n      return null == (n = i.find(function (n) {\n        return e(r, n.args);\n      })) ? void 0 : n.response;\n    }\n  };\n}\n\nvar i = [];\n\nfunction t(e, o) {\n  return r(function () {\n    return n(e, i, o, t.lifespan);\n  }, o);\n}\n\nt.lifespan = 0, t.clear = function () {\n  for (var _len6 = arguments.length, e = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    e[_key6] = arguments[_key6];\n  }\n\n  return o.apply(void 0, [i].concat(e));\n}, t.preload = function (e) {\n  for (var _len7 = arguments.length, r = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n    r[_key7 - 1] = arguments[_key7];\n  }\n\n  n(e, i, r, t.lifespan, !0);\n}, t.peek = function () {\n  for (var _len8 = arguments.length, r = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n    r[_key8] = arguments[_key8];\n  }\n\n  var n;\n  return null == (n = i.find(function (n) {\n    return e(r, n.args);\n  })) ? void 0 : n.response;\n};\nexport { s as createAsset, t as useAsset };","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.troika_worker_utils = {}));\n})(this, function (exports) {\n  'use strict';\n  /**\n   * Lightweight thenable implementation that is entirely self-contained within a single\n   * function with no external dependencies so it can be easily shipped across to a WorkerModule.\n   *\n   * This implementation conforms fully to the Promises/A+ spec so it can safely interoperate\n   * with other thenable implementations. https://github.com/promises-aplus/promises-spec\n   *\n   * *However*, it is _not_ a full implementation of ES2015 Promises, e.g. it does not\n   * have the same constructor signature and does not expose a `catch` method or the static\n   * `resolve`/`reject`/`all`/`race` initializer methods. If you need to hand a Thenable\n   * instance off to consuming code that may expect a true Promise, you'll want to wrap it\n   * in a native-or-polyfilled Promise first.\n   *\n   * (Why yet another Promises/A+ implementation? Great question. We needed a polyfill-like\n   * thing that was (a) wrapped in a single function for easy serialization across to a Worker,\n   * and (b) was as small as possible -- at ~900B minified (~500B gzipped) this is the smallest\n   * implementation I've found. And also, exercises like this are challenging and fun.)\n   */\n\n  function BespokeThenable() {\n    var state = 0; // 0=pending, 1=fulfilled, -1=rejected\n\n    var queue = [];\n    var value;\n    var scheduled = 0;\n    var completeCalled = 0;\n\n    function then(onResolve, onReject) {\n      var nextThenable = BespokeThenable();\n\n      function handleNext() {\n        var cb = state > 0 ? onResolve : onReject;\n\n        if (isFn(cb)) {\n          try {\n            var result = cb(value);\n\n            if (result === nextThenable) {\n              recursiveError();\n            }\n\n            var resultThen = getThenableThen(result);\n\n            if (resultThen) {\n              resultThen.call(result, nextThenable.resolve, nextThenable.reject);\n            } else {\n              nextThenable.resolve(result);\n            }\n          } catch (err) {\n            nextThenable.reject(err);\n          }\n        } else {\n          nextThenable[state > 0 ? 'resolve' : 'reject'](value);\n        }\n      }\n\n      queue.push(handleNext);\n\n      if (state) {\n        scheduleQueueFlush();\n      }\n\n      return nextThenable;\n    }\n\n    var resolve = oneTime(function (val) {\n      if (!completeCalled) {\n        complete(1, val);\n      }\n    });\n    var reject = oneTime(function (reason) {\n      if (!completeCalled) {\n        complete(-1, reason);\n      }\n    });\n\n    function complete(st, val) {\n      completeCalled++;\n      var ignoreThrow = 0;\n\n      try {\n        if (val === thenableObj) {\n          recursiveError();\n        }\n\n        var valThen = st > 0 && getThenableThen(val);\n\n        if (valThen) {\n          valThen.call(val, oneTime(function (v) {\n            ignoreThrow++;\n            complete(1, v);\n          }), oneTime(function (v) {\n            ignoreThrow++;\n            complete(-1, v);\n          }));\n        } else {\n          state = st;\n          value = val;\n          scheduleQueueFlush();\n        }\n      } catch (e) {\n        if (!state && !ignoreThrow) {\n          complete(-1, e);\n        }\n      }\n    }\n\n    function scheduleQueueFlush() {\n      if (!scheduled) {\n        setTimeout(flushQueue, 0); //TODO setImmediate or postMessage approach if available?\n\n        scheduled = 1;\n      }\n    }\n\n    function flushQueue() {\n      var q = queue;\n      scheduled = 0;\n      queue = [];\n      q.forEach(callIt);\n    }\n\n    function callIt(fn) {\n      fn();\n    }\n\n    function getThenableThen(val) {\n      var valThen = val && (isFn(val) || typeof val === 'object') && val.then;\n      return isFn(valThen) && valThen;\n    }\n\n    function oneTime(fn) {\n      var called = 0;\n      return function () {\n        var args = [],\n            len = arguments.length;\n\n        while (len--) {\n          args[len] = arguments[len];\n        }\n\n        if (!called++) {\n          fn.apply(this, args);\n        }\n      };\n    }\n\n    function recursiveError() {\n      throw new TypeError('Chaining cycle detected');\n    }\n\n    var isFn = function isFn(v) {\n      return typeof v === 'function';\n    };\n\n    var thenableObj = {\n      then: then,\n      resolve: resolve,\n      reject: reject\n    };\n    return thenableObj;\n  }\n  /**\n   * Thenable implementation that uses a native Promise under the covers. This implementation\n   * is preferred if Promise is available, for better performance and dev tools integration.\n   * @constructor\n   */\n\n\n  function NativePromiseThenable() {\n    var resolve, reject;\n    var promise = new Promise(function (res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n    return {\n      then: promise.then.bind(promise),\n      resolve: resolve,\n      reject: reject\n    };\n  }\n  /**\n   * Promise.all() impl:\n   */\n\n\n  BespokeThenable.all = NativePromiseThenable.all = function (items) {\n    var resultCount = 0;\n    var results = [];\n    var out = DefaultThenable();\n\n    if (items.length === 0) {\n      out.resolve([]);\n    } else {\n      items.forEach(function (item, i) {\n        var itemThenable = DefaultThenable();\n        itemThenable.resolve(item);\n        itemThenable.then(function (res) {\n          resultCount++;\n          results[i] = res;\n\n          if (resultCount === items.length) {\n            out.resolve(results);\n          }\n        }, out.reject);\n      });\n    }\n\n    return out;\n  };\n  /**\n   * Choose the best Thenable implementation and export it as the default.\n   */\n\n\n  var DefaultThenable = typeof Promise === 'function' ? NativePromiseThenable : BespokeThenable;\n  /**\n   * Main content for the worker that handles the loading and execution of\n   * modules within it.\n   */\n\n  function workerBootstrap() {\n    var modules = Object.create(null); // Handle messages for registering a module\n\n    function registerModule(ref, callback) {\n      var id = ref.id;\n      var name = ref.name;\n      var dependencies = ref.dependencies;\n      if (dependencies === void 0) dependencies = [];\n      var init = ref.init;\n      if (init === void 0) init = function init() {};\n      var getTransferables = ref.getTransferables;\n      if (getTransferables === void 0) getTransferables = null; // Only register once\n\n      if (modules[id]) {\n        return;\n      }\n\n      try {\n        // If any dependencies are modules, ensure they're registered and grab their value\n        dependencies = dependencies.map(function (dep) {\n          if (dep && dep.isWorkerModule) {\n            registerModule(dep, function (depResult) {\n              if (depResult instanceof Error) {\n                throw depResult;\n              }\n            });\n            dep = modules[dep.id].value;\n          }\n\n          return dep;\n        }); // Rehydrate functions\n\n        init = rehydrate(\"<\" + name + \">.init\", init);\n\n        if (getTransferables) {\n          getTransferables = rehydrate(\"<\" + name + \">.getTransferables\", getTransferables);\n        } // Initialize the module and store its value\n\n\n        var value = null;\n\n        if (typeof init === 'function') {\n          value = init.apply(void 0, dependencies);\n        } else {\n          console.error('worker module init function failed to rehydrate');\n        }\n\n        modules[id] = {\n          id: id,\n          value: value,\n          getTransferables: getTransferables\n        };\n        callback(value);\n      } catch (err) {\n        if (!(err && err.noLog)) {\n          console.error(err);\n        }\n\n        callback(err);\n      }\n    } // Handle messages for calling a registered module's result function\n\n\n    function callModule(ref, callback) {\n      var ref$1;\n      var id = ref.id;\n      var args = ref.args;\n\n      if (!modules[id] || typeof modules[id].value !== 'function') {\n        callback(new Error(\"Worker module \" + id + \": not found or its 'init' did not return a function\"));\n      }\n\n      try {\n        var result = (ref$1 = modules[id]).value.apply(ref$1, args);\n\n        if (result && typeof result.then === 'function') {\n          result.then(handleResult, function (rej) {\n            return callback(rej instanceof Error ? rej : new Error('' + rej));\n          });\n        } else {\n          handleResult(result);\n        }\n      } catch (err) {\n        callback(err);\n      }\n\n      function handleResult(result) {\n        try {\n          var tx = modules[id].getTransferables && modules[id].getTransferables(result);\n\n          if (!tx || !Array.isArray(tx) || !tx.length) {\n            tx = undefined; //postMessage is very picky about not passing null or empty transferables\n          }\n\n          callback(result, tx);\n        } catch (err) {\n          console.error(err);\n          callback(err);\n        }\n      }\n    }\n\n    function rehydrate(name, str) {\n      var result = void 0;\n\n      self.troikaDefine = function (r) {\n        return result = r;\n      };\n\n      var url = URL.createObjectURL(new Blob([\"/** \" + name.replace(/\\*/g, '') + \" **/\\n\\ntroikaDefine(\\n\" + str + \"\\n)\"], {\n        type: 'application/javascript'\n      }));\n\n      try {\n        importScripts(url);\n      } catch (err) {\n        console.error(err);\n      }\n\n      URL.revokeObjectURL(url);\n      delete self.troikaDefine;\n      return result;\n    } // Handler for all messages within the worker\n\n\n    self.addEventListener('message', function (e) {\n      var ref = e.data;\n      var messageId = ref.messageId;\n      var action = ref.action;\n      var data = ref.data;\n\n      try {\n        // Module registration\n        if (action === 'registerModule') {\n          registerModule(data, function (result) {\n            if (result instanceof Error) {\n              postMessage({\n                messageId: messageId,\n                success: false,\n                error: result.message\n              });\n            } else {\n              postMessage({\n                messageId: messageId,\n                success: true,\n                result: {\n                  isCallable: typeof result === 'function'\n                }\n              });\n            }\n          });\n        } // Invocation\n\n\n        if (action === 'callModule') {\n          callModule(data, function (result, transferables) {\n            if (result instanceof Error) {\n              postMessage({\n                messageId: messageId,\n                success: false,\n                error: result.message\n              });\n            } else {\n              postMessage({\n                messageId: messageId,\n                success: true,\n                result: result\n              }, transferables || undefined);\n            }\n          });\n        }\n      } catch (err) {\n        postMessage({\n          messageId: messageId,\n          success: false,\n          error: err.stack\n        });\n      }\n    });\n  }\n  /**\n   * Fallback for `defineWorkerModule` that behaves identically but runs in the main\n   * thread, for when the execution environment doesn't support web workers or they\n   * are disallowed due to e.g. CSP security restrictions.\n   */\n\n\n  function defineMainThreadModule(options) {\n    var moduleFunc = function moduleFunc() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      return moduleFunc._getInitResult().then(function (initResult) {\n        if (typeof initResult === 'function') {\n          return initResult.apply(void 0, args);\n        } else {\n          throw new Error('Worker module function was called but `init` did not return a callable function');\n        }\n      });\n    };\n\n    moduleFunc._getInitResult = function () {\n      // We can ignore getTransferables in main thread. TODO workerId?\n      var dependencies = options.dependencies;\n      var init = options.init; // Resolve dependencies\n\n      dependencies = Array.isArray(dependencies) ? dependencies.map(function (dep) {\n        return dep && dep._getInitResult ? dep._getInitResult() : dep;\n      }) : []; // Invoke init with the resolved dependencies\n\n      var initThenable = DefaultThenable.all(dependencies).then(function (deps) {\n        return init.apply(null, deps);\n      }); // Cache the resolved promise for subsequent calls\n\n      moduleFunc._getInitResult = function () {\n        return initThenable;\n      };\n\n      return initThenable;\n    };\n\n    return moduleFunc;\n  }\n\n  var _supportsWorkers = function supportsWorkers() {\n    var supported = false; // Only attempt worker initialization in browsers; elsewhere it would just be\n    // noise e.g. loading into a Node environment for SSR.\n\n    if (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\n      try {\n        // TODO additional checks for things like importScripts within the worker?\n        //  Would need to be an async check.\n        var worker = new Worker(URL.createObjectURL(new Blob([''], {\n          type: 'application/javascript'\n        })));\n        worker.terminate();\n        supported = true;\n      } catch (err) {\n        console.log(\"Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: [\" + err.message + \"]\");\n      }\n    } // Cached result\n\n\n    _supportsWorkers = function supportsWorkers() {\n      return supported;\n    };\n\n    return supported;\n  };\n\n  var _workerModuleId = 0;\n  var _messageId = 0;\n  var _allowInitAsString = false;\n  var workers = Object.create(null);\n  var openRequests = Object.create(null);\n  openRequests._count = 0;\n  /**\n   * Define a module of code that will be executed with a web worker. This provides a simple\n   * interface for moving chunks of logic off the main thread, and managing their dependencies\n   * among one another.\n   *\n   * @param {object} options\n   * @param {function} options.init - The main function that initializes the module. This will be run\n   *        within the worker, and will be passed the resolved dependencies as arguments. Its\n   *        return value becomes the module's content, which can then be used by other modules\n   *        that depend on it. This function can perform any logic using those dependencies, but\n   *        must not depend on anything from its parent closures.\n   * @param {array} [options.dependencies] - Provides any dependencies required by the init function:\n   *        - Primitives like strings, numbers, booleans\n   *        - Raw functions; these will be stringified and rehydrated within the worker so they\n   *          must not depend on anything from their parent closures\n   *        - Other worker modules; these will be resolved within the worker, and therefore modules\n   *          that provide functions can be called without having to cross the worker/main thread\n   *          boundary.\n   * @param {function} [options.getTransferables] - An optional function that will be run in the worker\n   *        just before posting the response value from a module call back to the main thread.\n   *        It will be passed that response value, and if it returns an array then that will be\n   *        used as the \"transferables\" parameter to `postMessage`. Use this if there are values\n   *        in the response that can/should be transfered rather than cloned.\n   * @param {string} [options.name] - A descriptive name for this module; this can be useful for\n   *        debugging but is not currently used for anything else.\n   * @param {string} [options.workerId] - By default all modules will run in the same dedicated worker,\n   *        but if you want to use multiple workers you can pass a `workerId` to indicate a specific\n   *        worker to spawn. Note that each worker is completely standalone and no data or state will\n   *        be shared between them. If a worker module is used as a dependency by worker modules\n   *        using different `workerId`s, then that dependency will be re-registered in each worker.\n   * @return {function(...[*]): {then}}\n   */\n\n  function defineWorkerModule(options) {\n    if ((!options || typeof options.init !== 'function') && !_allowInitAsString) {\n      throw new Error('requires `options.init` function');\n    }\n\n    var dependencies = options.dependencies;\n    var init = options.init;\n    var getTransferables = options.getTransferables;\n    var workerId = options.workerId;\n\n    if (!_supportsWorkers()) {\n      return defineMainThreadModule(options);\n    }\n\n    if (workerId == null) {\n      workerId = '#default';\n    }\n\n    var id = \"workerModule\" + ++_workerModuleId;\n    var name = options.name || id;\n    var registrationThenable = null;\n    dependencies = dependencies && dependencies.map(function (dep) {\n      // Wrap raw functions as worker modules with no dependencies\n      if (typeof dep === 'function' && !dep.workerModuleData) {\n        _allowInitAsString = true;\n        dep = defineWorkerModule({\n          workerId: workerId,\n          name: \"<\" + name + \"> function dependency: \" + dep.name,\n          init: \"function(){return (\\n\" + stringifyFunction(dep) + \"\\n)}\"\n        });\n        _allowInitAsString = false;\n      } // Grab postable data for worker modules\n\n\n      if (dep && dep.workerModuleData) {\n        dep = dep.workerModuleData;\n      }\n\n      return dep;\n    });\n\n    function moduleFunc() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      } // Register this module if needed\n\n\n      if (!registrationThenable) {\n        registrationThenable = callWorker(workerId, 'registerModule', moduleFunc.workerModuleData);\n      } // Invoke the module, returning a thenable\n\n\n      return registrationThenable.then(function (ref) {\n        var isCallable = ref.isCallable;\n\n        if (isCallable) {\n          return callWorker(workerId, 'callModule', {\n            id: id,\n            args: args\n          });\n        } else {\n          throw new Error('Worker module function was called but `init` did not return a callable function');\n        }\n      });\n    }\n\n    moduleFunc.workerModuleData = {\n      isWorkerModule: true,\n      id: id,\n      name: name,\n      dependencies: dependencies,\n      init: stringifyFunction(init),\n      getTransferables: getTransferables && stringifyFunction(getTransferables)\n    };\n    return moduleFunc;\n  }\n  /**\n   * Stringifies a function into a form that can be deserialized in the worker\n   * @param fn\n   */\n\n\n  function stringifyFunction(fn) {\n    var str = fn.toString(); // If it was defined in object method/property format, it needs to be modified\n\n    if (!/^function/.test(str) && /^\\w+\\s*\\(/.test(str)) {\n      str = 'function ' + str;\n    }\n\n    return str;\n  }\n\n  function getWorker(workerId) {\n    var worker = workers[workerId];\n\n    if (!worker) {\n      // Bootstrap the worker's content\n      var bootstrap = stringifyFunction(workerBootstrap); // Create the worker from the bootstrap function content\n\n      worker = workers[workerId] = new Worker(URL.createObjectURL(new Blob([\"/** Worker Module Bootstrap: \" + workerId.replace(/\\*/g, '') + \" **/\\n\\n;(\" + bootstrap + \")()\"], {\n        type: 'application/javascript'\n      }))); // Single handler for response messages from the worker\n\n      worker.onmessage = function (e) {\n        var response = e.data;\n        var msgId = response.messageId;\n        var callback = openRequests[msgId];\n\n        if (!callback) {\n          throw new Error('WorkerModule response with empty or unknown messageId');\n        }\n\n        delete openRequests[msgId];\n        openRequests.count--;\n        callback(response);\n      };\n    }\n\n    return worker;\n  } // Issue a call to the worker with a callback to handle the response\n\n\n  function callWorker(workerId, action, data) {\n    var thenable = DefaultThenable();\n    var messageId = ++_messageId;\n\n    openRequests[messageId] = function (response) {\n      if (response.success) {\n        thenable.resolve(response.result);\n      } else {\n        thenable.reject(new Error(\"Error in worker \" + action + \" call: \" + response.error));\n      }\n    };\n\n    openRequests._count++;\n\n    if (openRequests.count > 1000) {\n      //detect leaks\n      console.warn('Large number of open WorkerModule requests, some may not be returning');\n    }\n\n    getWorker(workerId).postMessage({\n      messageId: messageId,\n      action: action,\n      data: data\n    });\n    return thenable;\n  }\n  /**\n   * Just the {@link Thenable} function wrapped as a worker module. If another worker\n   * module needs Thenable as a dependency, it's better to pass this module rather than\n   * the raw function in its `dependencies` array so it only gets registered once.\n   */\n\n\n  var ThenableWorkerModule = defineWorkerModule({\n    name: 'Thenable',\n    dependencies: [DefaultThenable],\n    init: function init(Thenable) {\n      return Thenable;\n    }\n  });\n  exports.Thenable = DefaultThenable;\n  exports.ThenableWorkerModule = ThenableWorkerModule;\n  exports.defineWorkerModule = defineWorkerModule;\n  exports.stringifyFunction = stringifyFunction;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","import * as Globals from './globals';\nexport { Globals };\nexport * from './types.util';\nexport * from './hooks';\nexport * from './helpers';\nexport * from './FrameLoop';\nexport * from './createInterpolator';\nexport * from 'fluids';","var _slicedToArray = require(\"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/slicedToArray\");\n\n!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? o(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], o) : o((e = \"undefined\" != typeof globalThis ? globalThis : e || self).DetectGPU = {});\n}(this, function (e) {\n  \"use strict\";\n\n  var o = [\"992 - Silicon Motion SM502\", \"991 - ATI Mobility 128 M3\", \"990 - VIA S3 Graphics ProSavage8\", \"989 - SIS Mirage M661FX \", \"988 - SIS Mirage 2 M760\", \"987 - VIA Castle Rock\", \"986 - VIA S3G UniChrome Pro\", \"985 - VIA S3G UniChrome Pro II\", \"984 - ATI Radeon IGP 320M\", \"983 - ATI Radeon IGP 340M\", \"982 - ATI Mobility Radeon 7000 IGP\", \"981 - Intel Extreme Graphics 2\", \"980 - VIA Chrome9 HC\", \"979 - ATI Mobility Radeon M6\", \"978 - ATI Mobility Radeon M7\", \"977 - ATI Mobility Radeon 9000 IGP\", \"976 - ATI Mobility Radeon 9100 IGP\", \"975 - NVIDIA GeForce 2 Go (200 / 100)\", \"974 - NVIDIA GeForce 3 Go\", \"965 - Intel Graphics Media Accelerator (GMA) 500\", \"963 - Intel Graphics Media Accelerator (GMA) 600\", \"952 - SIS Mirage 3 671MX\", \"951 - SIS Mirage 3+ 672MX\", \"950 - ATI Radeon Xpress 1100\", \"949 - ATI Radeon Xpress 200M\", \"948 - Intel Graphics Media Accelerator (GMA) 900\", \"947 - ATI Mobility FireGL 7800\", \"946 - ATI Mobility Radeon 7500\", \"934 - Intel Graphics Media Accelerator (GMA) 950\", \"933 - Intel Graphics Media Accelerator (GMA) 3150\", \"931 - NVIDIA GeForce 4 420 Go\", \"930 - NVIDIA GeForce 4 440 Go\", \"929 - NVIDIA GeForce 4 460 Go\", \"928 - NVIDIA GeForce 4 488 Go\", \"927 - ATI Mobility Radeon 9000\", \"926 - NVIDIA GeForce FX Go 5200\", \"925 - ATI Mobility FireGL 9000\", \"924 - ATI Mobility Radeon 9200\", \"923 - Intel Graphics Media Accelerator (GMA) 3600\", \"921 - NVIDIA GeForce 7000M\", \"920 - NVIDIA GeForce Go 6100\", \"919 - NVIDIA GeForce Go 6150\", \"918 - ATI Radeon Xpress 1150\", \"917 - NVIDIA GeForce 7150M\", \"916 - NVIDIA GeForce 7190M\", \"915 - Intel Graphics Media Accelerator (GMA) 3650\", \"904 - Intel Graphics Media Accelerator (GMA) X3100\", \"903 - ATI Radeon Xpress X1200\", \"902 - ATI Radeon Xpress 1250\", \"901 - ATI Radeon Xpress X1250\", \"900 - ATI Radeon Xpress X1270\", \"899 - NVIDIA GeForce FX Go 5600 / 5650\", \"898 - NVIDIA Quadro FX Go 1000\", \"897 - NVIDIA GeForce FX Go 5700\", \"896 - NVIDIA GeForce Go 6200\", \"895 - NVIDIA GeForce Go 6250\", \"894 - ATI Mobility Radeon X300\", \"893 - NVIDIA GeForce Go 6400\", \"892 - NVIDIA GeForce Go 7200\", \"891 - ATI Mobility Radeon 9550\", \"890 - ATI Mobility FireGL T2\", \"889 - ATI Mobility Radeon 9600\", \"888 - NVIDIA GeForce4 4200 Go\", \"887 - ATI Mobility Radeon X1300\", \"886 - ATI Mobility FireGL T2e\", \"885 - ATI Mobility Radeon 9700\", \"884 - ATI Mobility Radeon HD 2300\", \"883 - ATI Mobility Radeon X2300\", \"882 - ATI Mobility FireGL V3100\", \"881 - ATI Mobility FireGL V3200\", \"880 - ATI Mobility Radeon X600\", \"879 - NVIDIA Quadro NVS 110M\", \"874 - NVIDIA GeForce Go 7300\", \"873 - NVIDIA Quadro NVS 120M\", \"872 - NVIDIA Quadro FX 350M\", \"871 - NVIDIA GeForce Go 7400\", \"869 - Intel Graphics Media Accelerator (GMA) 4500M\", \"868 - Intel Graphics Media Accelerator (GMA) 4500MHD\", \"867 - Intel Graphics Media Accelerator (GMA) 4700MHD\", \"866 - NVIDIA GeForce 8200M G\", \"865 - NVIDIA Quadro NVS 130M\", \"862 - NVIDIA GeForce 8400M G\", \"861 - ATI Radeon HD 3100\", \"860 - ATI Mobility Radeon HD 3400\", \"851 - ATI Radeon HD 4100\", \"850 - ATI Radeon HD 4225\", \"849 - ATI Radeon HD 3200\", \"848 - ATI Mobility Radeon HD 2400\", \"847 - NVIDIA Quadro NVS 135M\", \"846 - NVIDIA GeForce 8400M GS\", \"845 - NVIDIA GeForce 9100M G\", \"844 - ATI Mobility Radeon X1400\", \"843 - ATI Mobility Radeon X1350\", \"842 - NVIDIA Quadro FX 360M\", \"841 - NVIDIA Quadro NVS 150M\", \"840 - AMD Radeon HD 6250\", \"839 - Intel Graphics Media Accelerator (GMA) HD Graphics\", \"838 - ATI Radeon HD 4200\", \"837 - ATI Radeon HD 4250\", \"836 - ATI Radeon HD 4270\", \"835 - ATI Mobility Radeon HD 2400 XT\", \"834 - ATI Mobility Radeon HD 3410\", \"833 - ATI Mobility Radeon HD 3430\", \"832 - ATI Mobility Radeon HD 3450\", \"831 - AMD Radeon HD 6290\", \"830 - AMD Radeon HD 7290\", \"829 - NVIDIA GeForce 9200M GS\", \"828 - NVIDIA Quadro NVS 160M\", \"827 - NVIDIA Quadro FX 370M\", \"826 - NVIDIA GeForce 9300M GS\", \"825 - NVIDIA ION 2\", \"824 - NVIDIA GeForce 9300M G\", \"823 - ATI Mobility Radeon HD 3470\", \"822 - NVIDIA GeForce 9400M GeForceBoost\", \"821 - ATI Mobility Radeon HD 3470 Hybrid X2\", \"820 - AMD Radeon HD 8180\", \"819 - AMD Radeon HD 6310\", \"818 - AMD Radeon HD 7310\", \"817 - AMD Radeon HD 6320\", \"816 - AMD Radeon HD 7340\", \"812 - Intel HD Graphics (Bay Trail)\", \"803 - Intel HD Graphics (Sandy Bridge)\", \"802 - NVIDIA GeForce 9400M (G) / ION (LE)\", \"801 - NVIDIA GeForce G 205M\", \"800 - NVIDIA GeForce G 102M\", \"799 - NVIDIA GeForce 9500M GE\", \"798 - NVIDIA GeForce G 103M\", \"797 - NVIDIA GeForce G 105M\", \"795 - Intel HD Graphics 2000\", \"794 - NVIDIA Quadro NVS 140M\", \"793 - NVIDIA GeForce 8400M GT\", \"792 - ATI Mobility Radeon HD 4330\", \"791 - AMD Radeon HD 6330M\", \"790 - NVIDIA GeForce G 110M\", \"789 - ATI Mobility FireGL V5000\", \"788 - ATI Mobility Radeon X700\", \"787 - ATI Mobility Radeon X1450\", \"786 - NVIDIA GeForce Go 6600\", \"785 - ATI Mobility Radeon 9800\", \"784 - ATI Mobility FireGL V5200\", \"783 - ATI Mobility Radeon X1600\", \"782 - ATI Mobility Radeon X800\", \"781 - NVIDIA Quadro NVS 300M\", \"780 - NVIDIA GeForce Go 7600\", \"779 - ATI Mobility Radeon X2500\", \"778 - ATI Mobility FireGL V5250\", \"777 - ATI Mobility Radeon X1700\", \"776 - NVIDIA GeForce 305M\", \"775 - ATI Mobility Radeon HD 530v\", \"774 - ATI Radeon HD 4350\", \"773 - ATI Mobility Radeon HD 4350\", \"772 - ATI Mobility Radeon HD 4530\", \"771 - AMD Radeon HD 6350M\", \"770 - AMD Radeon HD 7350M\", \"769 - Intel HD Graphics (Ivy Bridge)\", \"768 - Intel HD Graphics 2500\", \"767 - ATI Mobility Radeon HD 4550\", \"766 - ATI Mobility Radeon HD 540v\", \"765 - AMD Radeon HD 8210\", \"764 - ATI Mobility Radeon HD 5430\", \"763 - AMD Radeon HD 6380G\", \"762 - AMD Radeon HD 6430M\", \"761 - ATI Mobility Radeon X800XT\", \"760 - NVIDIA Quadro FX Go 1400\", \"759 - NVIDIA GeForce Go 6800\", \"758 - NVIDIA GeForce Go 7700\", \"757 - NVIDIA NVS 2100M\", \"756 - NVIDIA GeForce 8600M GS\", \"755 - NVIDIA GeForce 9500M G\", \"754 - NVIDIA GeForce Go 7600 GT\", \"753 - NVIDIA GeForce 315M\", \"752 - NVIDIA GeForce 405M\", \"751 - NVIDIA NVS 3100M\", \"750 - NVIDIA GeForce G210M\", \"749 - NVIDIA GeForce 310M\", \"748 - NVIDIA Quadro FX 380M\", \"747 - Intel HD Graphics 3000\", \"746 - ATI Mobility Radeon HD 2600\", \"745 - NVIDIA GeForce 8600M GT\", \"744 - ATI Mobility Radeon HD 5450\", \"743 - NVIDIA Quadro FX 570M\", \"742 - ATI Mobility Radeon HD 4570\", \"741 - Intel HD Graphics (Cherry Trail)\", \"740 - AMD Radeon HD 8250\", \"739 - AMD Radeon R6 (Mullins)\", \"738 - AMD Radeon HD 8240\", \"737 - ATI Mobility Radeon HD 545v\", \"736 - ATI Mobility Radeon HD 5145\", \"735 - ATI Mobility FireGL V5700\", \"734 - ATI Mobility Radeon HD 3650\", \"733 - AMD Radeon HD 7430M\", \"732 - AMD Radeon HD 6450M\", \"731 - ATI Mobility Radeon HD 5470\", \"730 - AMD Radeon HD 8280\", \"729 - AMD Radeon HD 6370M\", \"727 - AMD Radeon R2 (Mullins/Beema/Carrizo-L)\", \"723 - AMD Radeon HD 7370M\", \"722 - NVIDIA GeForce 410M\", \"721 - NVIDIA GeForce GT 415M\", \"720 - ATI Mobility Radeon HD 2700\", \"719 - AMD Radeon HD 6480G\", \"718 - AMD Radeon HD 7400G\", \"717 - NVIDIA GeForce 9500M GS\", \"716 - NVIDIA GeForce 9600M GS\", \"715 - NVIDIA GeForce Go 7800\", \"714 - NVIDIA GeForce Go 6800 Ultra\", \"713 - ATI Mobility Radeon X1800\", \"712 - ATI Mobility Radeon X1800XT\", \"711 - ATI Mobility Radeon X1900\", \"710 - ATI Mobility Radeon HD 2600 XT\", \"709 - NVIDIA GeForce GT 320M\", \"708 - NVIDIA GeForce 320M\", \"707 - AMD Radeon HD 8310G\", \"706 - AMD Radeon HD 6520G\", \"705 - Intel HD Graphics (Haswell)\", \"701 - ATI Mobility FireGL V5725\", \"700 - ATI Mobility Radeon HD 3670\", \"699 - AMD Radeon HD 7420G\", \"698 - NVIDIA GeForce GT 520M\", \"697 - AMD FirePro M3900\", \"696 - AMD Radeon HD 6470M\", \"695 - Intel HD Graphics 400 (Braswell)\", \"694 - Intel HD Graphics (Braswell)\", \"693 - Intel HD Graphics 405 (Braswell)\", \"690 - NVIDIA GeForce 705M\", \"689 - NVIDIA GeForce 610M\", \"688 - AMD Radeon HD 7450M\", \"687 - AMD Radeon HD 6510G2\", \"686 - NVIDIA GeForce GT 120M\", \"685 - NVIDIA Quadro FX 770M\", \"684 - NVIDIA GeForce GT 220M\", \"683 - NVIDIA GeForce 9600M GT\", \"682 - NVIDIA Quadro FX 1500M\", \"681 - NVIDIA Quadro NVS 320M\", \"680 - NVIDIA GeForce Go 7900 GS\", \"679 - NVIDIA GeForce Go 7800 GTX\", \"678 - NVIDIA Quadro FX 1600M\", \"677 - NVIDIA Quadro FX 1700M\", \"676 - NVIDIA GeForce 8700M GT\", \"675 - NVIDIA GeForce 9650M GT\", \"674 - NVIDIA GeForce 9650M GS\", \"673 - Intel HD Graphics 500\", \"672 - Intel UHD Graphics 600\", \"671 - AMD Radeon HD 8330\", \"670 - AMD Radeon HD 8350G\", \"669 - NVIDIA Quadro FX 2500M\", \"668 - NVIDIA GeForce Go 7900 GTX\", \"667 - NVIDIA NVS 4200M\", \"666 - NVIDIA GeForce GT 130M\", \"665 - NVIDIA GeForce Go 7900 GS SLI\", \"664 - NVIDIA GeForce 8600M GT SLI\", \"663 - NVIDIA GeForce Go 7800 GTX SLI\", \"662 - NVIDIA GeForce GT 325M\", \"661 - AMD Radeon HD 7520G\", \"660 - NVIDIA GeForce GT 520MX\", \"654 - AMD Radeon HD 8400\", \"653 - AMD Radeon HD 8410G\", \"652 - AMD Radeon HD 6490M\", \"651 - AMD Radeon HD 7470M\", \"650 - AMD Radeon HD 8450G\", \"649 - AMD Radeon HD 6515G2\", \"648 - AMD Radeon HD 6480G + HD 7450M Dual Graphics\", \"647 - AMD Radeon HD 7500G\", \"646 - AMD Radeon HD 6540G2\", \"645 - AMD Radeon HD 6520G + HD 7450M Dual Graphics\", \"644 - AMD Radeon HD 6545G2\", \"643 - AMD Radeon HD 6450 GDDR5\", \"642 - Intel HD Graphics (Skylake)\", \"641 - Intel HD Graphics 4200\", \"640 - Intel HD Graphics (Broadwell)\", \"639 - AMD Radeon R2 (Stoney Ridge)\", \"638 - AMD Radeon R3 (Mullins/Beema)\", \"637 - AMD Radeon R4 (Kaveri)\", \"636 - AMD Radeon R4 (Beema)\", \"635 - AMD Radeon R5 (Beema/Carrizo-L)\", \"633 - AMD Radeon R4 (Stoney Ridge)\", \"632 - AMD Radeon HD 6620G\", \"629 - Intel HD Graphics 4000\", \"628 - AMD Radeon HD 7480D\", \"627 - ATI Mobility Radeon HD 550v\", \"626 - NVIDIA GeForce GT 230M\", \"625 - NVIDIA GeForce 9700M GT\", \"624 - NVIDIA GeForce 8700M GT SLI\", \"623 - NVIDIA Quadro FX 3500M\", \"622 - NVIDIA GeForce Go 7950 GTX\", \"621 - AMD Radeon HD 7510M\", \"620 - Intel HD Graphics 5300\", \"619 - Intel HD Graphics 505\", \"618 - Intel UHD Graphics 605\", \"617 - AMD Radeon HD 7490M\", \"616 - NVIDIA GeForce GT 240M\", \"615 - NVIDIA Quadro NVS 5100M\", \"614 - NVIDIA Quadro FX 880M\", \"613 - NVIDIA GeForce GT 330M\", \"612 - ATI Mobility Radeon HD 3850\", \"611 - AMD Radeon HD 7530M\", \"610 - NVIDIA GeForce GT 420M\", \"609 - NVIDIA GeForce Go 7900 GTX SLI\", \"608 - NVIDIA GeForce GT 220\", \"607 - NVIDIA GeForce Go 7950 GTX SLI\", \"606 - ATI Mobility Radeon HD 4650\", \"605 - ATI Mobility Radeon HD 560v\", \"604 - ATI Mobility Radeon HD 5165\", \"603 - AMD Radeon HD 6640G2\", \"602 - AMD Radeon HD 6620G + HD 7450M Dual Graphics\", \"601 - ATI Mobility Radeon HD 3870\", \"600 - AMD Radeon HD 7600G\", \"599 - AMD Radeon HD 7500G + HD 7550M Dual Graphics\", \"598 - NVIDIA GeForce GT 335M\", \"597 - NVIDIA Quadro FX 2700M\", \"596 - AMD Radeon HD 6645G2\", \"595 - NVIDIA GeForce 9700M GTS\", \"594 - NVIDIA GeForce GT 425M\", \"593 - ATI Mobility Radeon HD 4670\", \"592 - AMD Radeon HD 7550M\", \"591 - ATI Mobility Radeon HD 565v\", \"590 - NVIDIA NVS 5200M\", \"589 - Intel HD Graphics 510\", \"588 - AMD Radeon HD 8610G\", \"587 - Intel HD Graphics 4400\", \"586 - Intel HD Graphics 610\", \"585 - Intel UHD Graphics 610\", \"584 - Intel HD Graphics 515\", \"576 - AMD Radeon HD 7640G\", \"575 - AMD Radeon HD 8470D\", \"574 - AMD Radeon HD 7620G\", \"573 - AMD Radeon HD 7610M\", \"572 - AMD Radeon HD 7640G + HD 7610M Dual Graphics\", \"571 - AMD Radeon HD 6550D\", \"570 - NVIDIA GeForce GT 525M\", \"569 - NVIDIA GeForce GT 620M\", \"568 - NVIDIA GeForce GT 625M\", \"567 - NVIDIA Quadro K500M\", \"566 - AMD Radeon HD 8550G\", \"565 - AMD Radeon HD 6530M\", \"564 - AMD Radeon HD 8510G\", \"563 - ATI Mobility Radeon HD 5650\", \"562 - NVIDIA Quadro FX 1800M\", \"561 - AMD Radeon HD 7630M\", \"560 - AMD Radeon HD 7570M\", \"559 - AMD FirePro M2000\", \"558 - AMD Radeon HD 7650M\", \"557 - AMD Radeon HD 6630M\", \"556 - NVIDIA GeForce GTS 250M\", \"555 - NVIDIA GeForce GTS 350M\", \"554 - AMD Radeon HD 7590M\", \"553 - AMD Radeon HD 6550M\", \"552 - ATI Radeon HD 5570\", \"551 - NVIDIA Quadro K510M\", \"550 - Intel HD Graphics 5000\", \"549 - AMD Radeon HD 6680G2\", \"548 - NVIDIA GeForce GT 435M\", \"547 - AMD Radeon HD 7660G\", \"546 - NVIDIA GeForce 710M\", \"545 - NVIDIA NVS 5400M\", \"544 - ATI FirePro M5800\", \"543 - AMD Radeon R5 (Kaveri)\", \"542 - AMD Radeon R5 (Carrizo)\", \"541 - Intel HD Graphics 615\", \"540 - Intel UHD Graphics 615\", \"539 - Intel UHD Graphics 617\", \"530 - Qualcomm Adreno 630\", \"526 - Intel HD Graphics 5500\", \"525 - ATI Mobility Radeon HD 5730\", \"524 - Intel HD Graphics 4600\", \"523 - AMD Radeon HD 6650M\", \"522 - AMD Radeon HD 6690G2\", \"521 - NVIDIA GeForce GT 540M\", \"520 - Intel Iris Graphics 5100\", \"519 - AMD Radeon HD 8550M\", \"518 - NVIDIA Quadro K610M\", \"517 - Intel HD Graphics 6000\", \"516 - AMD Radeon HD 8570M\", \"515 - AMD Radeon HD 8450G + Radeon HD 8570M Dual Graphics\", \"514 - AMD Radeon HD 6720G2\", \"513 - ATI Mobility Radeon HD 5750\", \"511 - AMD Radeon R5 (Stoney Ridge)\", \"510 - AMD Radeon RX Vega 2\", \"509 - AMD Radeon R5 M420\", \"508 - AMD Radeon R5 M315\", \"507 - AMD Radeon R5 M230\", \"506 - AMD Radeon R5 M320\", \"505 - AMD Radeon R5 M240\", \"504 - NVIDIA GeForce 8800M GTS\", \"503 - NVIDIA GeForce GT 720M\", \"502 - Intel UHD Graphics G4 (Lakefield GT1 48 EU)\", \"501 - Intel Iris Graphics 6100\", \"500 - Intel HD Graphics 520\", \"499 - NVIDIA GeForce 820M\", \"498 - NVIDIA GeForce 910M\", \"497 - NVIDIA Quadro 1000M\", \"496 - AMD Radeon RX Vega 3\", \"495 - AMD Radeon R5 M255\", \"494 - AMD Radeon R5 M430\", \"493 - AMD Radeon R5 M330\", \"492 - AMD Radeon R5 M335\", \"491 - NVIDIA GeForce GTS 150M\", \"490 - AMD Radeon HD 7560D\", \"489 - NVIDIA GeForce GT 630M\", \"488 - AMD Radeon HD 7670M\", \"487 - AMD Radeon HD 7520G + HD 7670M Dual Graphics\", \"486 - AMD Radeon HD 6620G + HD 7670M Dual Graphics\", \"485 - AMD Radeon HD 7640G + HD 7670M Dual Graphics\", \"484 - AMD Radeon HD 8650G\", \"483 - AMD Radeon HD 6570M\", \"482 - ATI Mobility Radeon HD 5770\", \"481 - ATI Mobility Radeon HD 4830\", \"480 - NVIDIA GeForce 9800M GS\", \"479 - AMD Radeon HD 6730M\", \"478 - AMD Radeon HD 6740G2\", \"477 - AMD Radeon HD 6760G2\", \"476 - ATI Mobility Radeon HD 5830\", \"475 - AMD Radeon HD 6830M\", \"474 - NVIDIA GeForce GT 430\", \"473 - NVIDIA GeForce 9800M GTS\", \"472 - NVIDIA GeForce GTS 160M\", \"471 - NVIDIA GeForce GTS 260M\", \"470 - AMD Radeon HD 8590M\", \"469 - NVIDIA GeForce GT 550M\", \"468 - NVIDIA Quadro K1000M\", \"467 - AMD Radeon HD 6750M\", \"466 - AMD Radeon HD 7660D\", \"465 - AMD Radeon R6 M255DX\", \"464 - AMD Radeon HD 8670M\", \"463 - AMD Radeon HD 8550G + HD 8670M Dual Graphics\", \"462 - AMD Radeon HD 7660G + HD 7670M Dual Graphics\", \"461 - AMD Radeon HD 8650G + HD 8570M Dual Graphics\", \"460 - AMD Radeon HD 8650G + HD 8670M Dual Graphics\", \"459 - AMD Radeon HD 8570D\", \"458 - Intel HD Graphics 5600\", \"457 - AMD Radeon HD 7690M\", \"456 - AMD Radeon HD 6755G2\", \"455 - NVIDIA GeForce GT 240 GDDR5\", \"454 - NVIDIA GeForce GTS 360M\", \"453 - NVIDIA GeForce GT 445M\", \"452 - NVIDIA Quadro FX 3600M\", \"451 - NVIDIA GeForce 8800M GTX\", \"450 - NVIDIA GeForce 9800M GT\", \"449 - NVIDIA Quadro 2000M\", \"448 - AMD FirePro W2100\", \"447 - AMD Radeon HD 6850M\", \"446 - ATI Mobility Radeon HD 5850\", \"445 - ATI Radeon HD 5670\", \"444 - NVIDIA GeForce GT 555M\", \"443 - NVIDIA GeForce GT 635M\", \"442 - AMD Radeon HD 6770M\", \"441 - AMD Radeon HD 8730M\", \"440 - AMD Radeon HD 8650M\", \"439 - AMD Radeon R6 (Kaveri)\", \"438 - NVIDIA GeForce GT 640M LE\", \"437 - AMD FirePro M5950\", \"436 - AMD Radeon HD 7690M XT\", \"435 - AMD Radeon HD 8670D\", \"434 - AMD Radeon HD 6775G2\", \"433 - NVIDIA Quadro FX 2800M\", \"432 - NVIDIA GeForce 9800M GTX\", \"431 - NVIDIA GeForce GTX 260M\", \"430 - ATI Mobility Radeon HD 4850\", \"429 - ATI FirePro M7740\", \"428 - ATI Mobility Radeon HD 4860\", \"427 - Qualcomm Adreno 680\", \"426 - Qualcomm Adreno 685\", \"425 - AMD Radeon R6 (Carrizo)\", \"424 - Intel HD Graphics 620\", \"423 - Intel UHD Graphics 620\", \"422 - AMD Radeon R5 (Bristol Ridge)\", \"420 - Intel HD Graphics P530\", \"419 - Intel HD Graphics 530\", \"418 - Intel UHD Graphics G7 (Lakefield GT2 64 EU)\", \"417 - Intel HD Graphics P630\", \"416 - Intel HD Graphics 630\", \"415 - Intel UHD Graphics P630\", \"414 - Intel UHD Graphics 630\", \"413 - Intel UHD Graphics G1 (Ice Lake 32 EU)\", \"412 - AMD Radeon RX Vega 5\", \"411 - AMD Radeon RX Vega 6 (Ryzen 2000/3000)\", \"410 - AMD Radeon R6 M340DX\", \"409 - AMD Radeon 610\", \"408 - AMD Radeon 520\", \"407 - AMD Radeon R7 M340\", \"406 - AMD Radeon R7 M260\", \"405 - NVIDIA Quadro FX 3700M\", \"404 - ATI Mobility Radeon HD 3850 X2\", \"403 - NVIDIA GeForce 8800M GTX SLI\", \"402 - ATI Mobility Radeon HD 3870 X2\", \"401 - NVIDIA GeForce 9800M GTS SLI\", \"400 - AMD Radeon R7 M440\", \"399 - AMD Radeon 620\", \"398 - AMD Radeon R8 M445DX\", \"397 - AMD Radeon HD 8690M\", \"396 - NVIDIA GeForce 9800M GT SLI\", \"395 - NVIDIA GeForce 920M\", \"394 - NVIDIA GeForce GTX 280M\", \"393 - AMD Radeon R7 M360\", \"391 - AMD Radeon HD 7730M\", \"390 - AMD Radeon R7 M460\", \"389 - AMD Radeon R8 M365DX\", \"388 - AMD Radeon R7 (Kaveri)\", \"387 - AMD Radeon R7 (Carrizo)\", \"386 - NVIDIA GeForce GT 640M\", \"385 - AMD Radeon R7 (Bristol Ridge)\", \"384 - ATI Mobility Radeon HD 4870\", \"383 - NVIDIA GeForce GTX 285M\", \"382 - NVIDIA Quadro FX 3800M\", \"381 - AMD Radeon R7 M265\", \"380 - AMD Radeon R7 M270\", \"379 - NVIDIA Quadro 3000M\", \"378 - AMD Radeon HD 8750M\", \"377 - AMD FirePro M4100\", \"376 - AMD Radeon HD 7750M\", \"375 - NVIDIA GeForce GT 645M\", \"374 - NVIDIA GeForce GT 730M\", \"373 - AMD Radeon HD 8550G + HD 8750M Dual Graphics\", \"372 - NVIDIA GeForce GTX 460M\", \"371 - AMD Radeon R7 M260X\", \"370 - AMD Radeon HD 8770M\", \"369 - AMD Radeon HD 8830M\", \"368 - NVIDIA GeForce 9800M GTX SLI\", \"367 - ATI Radeon HD 4850\", \"366 - AMD Radeon HD 6870M\", \"365 - ATI FirePro M7820\", \"364 - AMD FirePro M4000\", \"363 - NVIDIA Quadro 5000M\", \"362 - NVIDIA GeForce 825M\", \"361 - ATI Mobility Radeon HD 5870\", \"360 - NVIDIA GeForce GT 735M\", \"359 - NVIDIA GeForce GTX 260M SLI\", \"358 - NVIDIA GeForce GTS 450\", \"357 - NVIDIA Quadro K2000M\", \"352 - Intel Iris Graphics 540\", \"351 - NVIDIA GeForce 920MX\", \"350 - Intel Iris Plus Graphics 640\", \"349 - NVIDIA GeForce MX110\", \"348 - NVIDIA GeForce 830M\", \"346 - Intel Iris Plus Graphics 645\", \"345 - AMD Radeon RX Vega 6 (Ryzen 4000)\", \"344 - AMD Radeon 625\", \"343 - AMD Radeon 530\", \"342 - Intel Iris Graphics 550\", \"341 - NVIDIA GeForce 930M\", \"340 - Intel Iris Plus Graphics 650\", \"339 - NVIDIA GeForce GT 740M\", \"338 - AMD Radeon R7 384 Cores (Kaveri Desktop)\", \"337 - Intel Iris Pro Graphics 5200\", \"336 - AMD Radeon R7 512 Cores (Kaveri Desktop)\", \"335 - NVIDIA GeForce GTX 560M\", \"334 - AMD Radeon HD 7770M\", \"333 - NVIDIA GeForce GT 745M\", \"332 - AMD Radeon R7 M275DX\", \"331 - NVIDIA GeForce 840M\", \"330 - NVIDIA Quadro M500M\", \"329 - NVIDIA Quadro K620M\", \"328 - NVIDIA GeForce GT 650M\", \"327 - AMD Radeon R7 M370\", \"326 - AMD Radeon R7 M380\", \"325 - AMD Radeon R7 M445\", \"324 - Intel Iris Plus Graphics 655\", \"323 - AMD Radeon R9 M375\", \"322 - AMD FirePro W4190M\", \"321 - NVIDIA Quadro M600M\", \"318 - NVIDIA GeForce 930MX\", \"317 - Intel Iris Plus Graphics G4 (Ice Lake 48 EU)\", \"316 - NVIDIA GeForce 940M\", \"315 - AMD Radeon RX Vega 7\", \"314 - AMD Radeon RX Vega 8 (Ryzen 2000/3000)\", \"313 - NVIDIA Quadro K1100M\", \"312 - NVIDIA Quadro M520\", \"311 - NVIDIA GeForce 940MX\", \"310 - NVIDIA GeForce MX130\", \"309 - Intel Iris Pro Graphics 6200\", \"308 - NVIDIA GeForce GT 750M\", \"307 - NVIDIA GeForce GTX 480M\", \"306 - NVIDIA GeForce GTX 470M\", \"305 - NVIDIA Quadro 4000M\", \"304 - ATI Mobility Radeon HD 4870 X2\", \"303 - AMD FirePro W4100\", \"302 - AMD FirePro W4170M\", \"301 - AMD Radeon HD 8790M\", \"300 - AMD Radeon R7 M465\", \"299 - AMD Radeon HD 7850M\", \"298 - AMD Radeon R9 M265X\", \"297 - AMD Radeon R9 M365X\", \"296 - AMD Radeon HD 8850M\", \"295 - NVIDIA GeForce 845M\", \"294 - NVIDIA GeForce GTX 660M\", \"293 - NVIDIA GeForce GT 755M\", \"292 - AMD Radeon R7 250\", \"291 - AMD Radeon HD 6950M\", \"290 - NVIDIA GeForce GTX 280M SLI\", \"289 - NVIDIA GeForce GTX 550 Ti\", \"288 - ATI Radeon HD 5770\", \"287 - NVIDIA Quadro K2100M\", \"286 - AMD Radeon RX Vega 8 (Ryzen 4000)\", \"285 - NVIDIA GeForce MX230\", \"284 - AMD FirePro M5100\", \"283 - AMD FirePro M6000\", \"282 - Intel UHD Graphics Xe G4 48EUs\", \"281 - NVIDIA GeForce GTX 570M\", \"280 - NVIDIA Quadro K3000M\", \"279 - AMD Radeon HD 7870M\", \"278 - AMD Radeon HD 8870M\", \"277 - AMD Radeon R9 M270\", \"276 - AMD Radeon HD 6970M\", \"275 - AMD FirePro M8900\", \"274 - AMD FirePro W5130M\", \"273 - NVIDIA Maxwell GPU Surface Book\", \"272 - AMD Radeon RX Vega 9\", \"271 - NVIDIA GeForce GTX 670M\", \"270 - AMD Radeon R9 M275\", \"269 - NVIDIA GeForce GTX 760M\", \"268 - NVIDIA Quadro 5010M\", \"267 - NVIDIA GeForce GTX 670MX\", \"266 - AMD Radeon R9 M370X\", \"265 - AMD FirePro W5170M\", \"264 - NVIDIA Quadro K3100M\", \"263 - NVIDIA GeForce GTX 285M SLI\", \"262 - AMD Radeon HD 6790\", \"261 - NVIDIA GeForce GTX 460 768MB\", \"260 - NVIDIA GeForce GTX 485M\", \"259 - ATI Mobility Radeon HD 5870 Crossfire\", \"258 - NVIDIA GeForce GTX 460M SLI\", \"257 - NVIDIA GeForce GT 650M SLI\", \"256 - AMD Radeon HD 7770\", \"255 - AMD Radeon R9 M380\", \"254 - AMD Radeon R9 M385\", \"253 - AMD Radeon R9 M470\", \"252 - AMD Radeon HD 6990M\", \"251 - NVIDIA GeForce GTX 580M\", \"250 - NVIDIA GeForce GTX 675M\", \"249 - ATI Radeon HD 5850\", \"248 - Intel Iris Pro Graphics 580\", \"247 - Intel Iris Pro Graphics P580\", \"246 - AMD Radeon RX Vega 10\", \"245 - Intel Iris Plus Graphics G7 (Ice Lake 64 EU)\", \"244 - NVIDIA Quadro P500\", \"243 - NVIDIA Quadro K4000M\", \"242 - NVIDIA GeForce GTX 560M SLI\", \"241 - NVIDIA GeForce GTX 480M SLI\", \"240 - NVIDIA GeForce GTX 470M SLI\", \"239 - NVIDIA GeForce GTX 765M\", \"238 - NVIDIA GeForce 945M\", \"237 - NVIDIA GeForce GTX 470\", \"236 - AMD Radeon HD 6870\", \"235 - NVIDIA GeForce GTX 560 Ti\", \"234 - AMD Radeon HD 7950M\", \"233 - AMD Radeon R9 M280X\", \"232 - AMD Radeon RX Vega 11\", \"231 - NVIDIA Quadro M620\", \"230 - NVIDIA Quadro M1000M\", \"229 - NVIDIA GeForce GTX 850M\", \"228 - NVIDIA Quadro P520\", \"227 - AMD Radeon R9 M385X\", \"226 - AMD Radeon R9 M470X\", \"225 - AMD Radeon 540X\", \"224 - AMD Radeon 630\", \"223 - AMD Radeon Pro 450\", \"222 - NVIDIA GeForce GTX 950M\", \"221 - NVIDIA GeForce GT 750M SLI\", \"220 - NVIDIA GeForce GTX 675MX\", \"219 - AMD Radeon HD 6970M Crossfire\", \"218 - NVIDIA GeForce GTX 485M SLI\", \"217 - NVIDIA GeForce GT 755M SLI\", \"216 - AMD Radeon HD 6990M Crossfire\", \"215 - NVIDIA GeForce GTX 580M SLI\", \"214 - NVIDIA GeForce GTX 860M\", \"213 - AMD Radeon Pro WX 3100\", \"212 - AMD Radeon RX 540\", \"211 - AMD Radeon Pro WX 2100\", \"210 - AMD Radeon RX 540X\", \"209 - NVIDIA GeForce GTX 770M\", \"208 - Intel Iris Xe Graphics G7 80EUs\", \"207 - NVIDIA Quadro K4100M\", \"206 - NVIDIA Quadro K5000M\", \"205 - NVIDIA Quadro M2000M\", \"204 - NVIDIA GeForce MX330\", \"203 - NVIDIA GeForce MX150\", \"202 - NVIDIA GeForce MX250\", \"201 - NVIDIA Quadro P600\", \"200 - NVIDIA GeForce GT 1030\", \"199 - AMD Radeon Pro 455\", \"198 - AMD Radeon Pro 555\", \"197 - AMD Radeon Pro 555X\", \"196 - AMD Radeon Pro WX 3200\", \"195 - AMD Radeon RX 640\", \"194 - AMD Radeon RX 550\", \"193 - AMD Radeon RX 550X\", \"192 - NVIDIA Quadro P620\", \"191 - NVIDIA Quadro M1200\", \"190 - NVIDIA GeForce GTX 480\", \"189 - NVIDIA GeForce GTX 570\", \"188 - NVIDIA GeForce GTX 670MX SLI\", \"187 - NVIDIA GeForce GTX 750 Ti\", \"186 - NVIDIA GeForce GTX 960M\", \"185 - AMD Radeon Pro WX 4130\", \"184 - AMD Radeon Pro 460\", \"183 - AMD Radeon Pro 560\", \"182 - AMD Radeon Pro 560X\", \"181 - AMD Radeon HD 7970M\", \"180 - AMD FirePro M6100\", \"179 - AMD Radeon R9 M390\", \"178 - NVIDIA GeForce GTX 775M\", \"177 - NVIDIA GeForce GTX 680M\", \"176 - AMD Radeon RX 460\", \"175 - NVIDIA GeForce GTX 765M SLI\", \"174 - NVIDIA GeForce GTX 675M SLI\", \"173 - AMD Radeon HD 6970\", \"172 - NVIDIA GeForce GTX 580\", \"171 - AMD Radeon HD 8970M\", \"170 - AMD Radeon R9 M290X\", \"169 - NVIDIA GeForce GTX 870M\", \"168 - NVIDIA Quadro M2200\", \"167 - AMD Radeon RX 560\", \"166 - AMD Radeon RX 560X\", \"165 - NVIDIA GeForce GTX 965M\", \"164 - AMD Radeon HD 7870\", \"163 - AMD Radeon Pro WX 4150\", \"162 - AMD Radeon RX 460\", \"161 - NVIDIA GeForce GTX 680MX\", \"160 - NVIDIA GeForce MX350\", \"159 - NVIDIA Quadro P1000\", \"158 - NVIDIA Quadro K5100M\", \"157 - NVIDIA GeForce GTX 780M\", \"156 - NVIDIA GeForce GTX 760\", \"155 - NVIDIA GeForce GTX 660 Ti\", \"154 - AMD Radeon R9 270X\", \"153 - NVIDIA GeForce GTX 950\", \"152 - NVIDIA GeForce GTX 1050 Max-Q\", \"151 - NVIDIA GeForce GTX 880M\", \"150 - NVIDIA GeForce GTX 590\", \"149 - Intel Iris Xe Graphics G7 96EUs\", \"148 - AMD Radeon R7 370\", \"147 - AMD Radeon R9 M395\", \"146 - AMD FirePro W7170M\", \"145 - Intel Xe DG1 LP (iDG1LP) Mobile\", \"144 - NVIDIA GeForce GTX 1050 Mobile\", \"143 - NVIDIA GeForce GTX 1050\", \"142 - NVIDIA Quadro M3000M\", \"141 - AMD Radeon R9 M390X\", \"140 - AMD Radeon R9 M295X\", \"139 - AMD Radeon R9 M485X\", \"138 - AMD Radeon Pro Vega 16\", \"137 - AMD Radeon Pro WX Vega M GL\", \"136 - AMD Radeon RX Vega M GL / 870\", \"135 - NVIDIA GeForce GTX 1050 Ti Max-Q\", \"134 - AMD Radeon R9 M395X\", \"133 - NVIDIA GeForce GTX 770M SLI\", \"132 - AMD Radeon HD 7970\", \"131 - NVIDIA GeForce GTX 680\", \"130 - NVIDIA GeForce GTX 860M SLI\", \"129 - NVIDIA GeForce GTX 970M\", \"128 - NVIDIA Quadro M4000M\", \"127 - NVIDIA Quadro P2000 Max-Q\", \"126 - NVIDIA Quadro P2000\", \"125 - NVIDIA GeForce GTX 1050 Ti\", \"124 - NVIDIA GeForce GTX 1050 Ti Mobile\", \"123 - NVIDIA GeForce GTX 960\", \"122 - AMD Radeon R9 380\", \"121 - AMD Radeon R9 280X\", \"120 - NVIDIA Quadro M5000M\", \"119 - AMD Radeon Pro Vega 20\", \"118 - AMD Radeon RX Vega M GH\", \"117 - NVIDIA GeForce GTX 980M\", \"116 - AMD Radeon HD 7970M Crossfire\", \"115 - NVIDIA GeForce GTX 680M SLI\", \"114 - AMD Radeon HD 8970M Crossfire\", \"113 - AMD Radeon R9 M290X Crossfire\", \"112 - NVIDIA GeForce GTX 965M SLI\", \"111 - AMD Radeon RX 490M\", \"110 - AMD Radeon R9 290X\", \"109 - NVIDIA GeForce GTX 780M SLI\", \"108 - NVIDIA GeForce GTX 880M SLI\", \"107 - NVIDIA GeForce MX450\", \"106 - NVIDIA Quadro T1000 Max-Q\", \"105 - NVIDIA Quadro T1000\", \"104 - NVIDIA GeForce GTX 1650 Max-Q\", \"103 - AMD Radeon RX 470\", \"102 - AMD Radeon RX 570\", \"101 - AMD Radeon RX 570X\", \"100 - AMD Radeon RX 470\", \"99 - AMD Radeon Pro WX 7100\", \"98 - AMD Radeon RX 480\", \"97 - NVIDIA Quadro P3000 Max-Q\", \"96 - NVIDIA GeForce GTX 1060 Max-Q\", \"95 - NVIDIA GeForce GTX 1650 Ti Max-Q\", \"94 - NVIDIA GeForce GTX 1650\", \"93 - NVIDIA GeForce GTX 1650 Mobile\", \"92 - NVIDIA GeForce GTX 970\", \"91 - NVIDIA Quadro P3000\", \"90 - AMD Radeon RX 5300M\", \"89 - AMD Radeon Pro 5300M\", \"88 - AMD Radeon RX Vega Mobile\", \"87 - NVIDIA GeForce GTX 780 Ti\", \"86 - AMD Radeon RX 580\", \"85 - AMD Radeon RX 580X\", \"84 - NVIDIA Quadro P3200\", \"83 - NVIDIA Quadro P4000 Max-Q\", \"82 - AMD Radeon Pro 5500M\", \"81 - AMD Radeon RX 5500M\", \"80 - NVIDIA GeForce GTX 1060 Mobile\", \"79 - AMD Radeon RX 480\", \"78 - NVIDIA GeForce GTX 1650 Ti Mobile\", \"76 - NVIDIA Quadro T2000 Max-Q\", \"75 - NVIDIA Quadro T2000\", \"74 - NVIDIA Quadro P4000\", \"73 - AMD Radeon RX 570\", \"72 - NVIDIA GeForce GTX 1060\", \"71 - NVIDIA GeForce GTX 970M SLI\", \"70 - AMD Radeon R9 390X\", \"69 - NVIDIA Quadro M5500\", \"68 - NVIDIA GeForce GTX 980\", \"67 - AMD Radeon RX 580\", \"66 - AMD Radeon RX 590\", \"65 - NVIDIA GeForce GTX 980\", \"64 - AMD Radeon R9 Nano\", \"63 - AMD Radeon R9 Fury\", \"62 - NVIDIA GeForce GTX 980M SLI\", \"61 - NVIDIA Quadro P5000 Max-Q\", \"60 - NVIDIA GeForce GTX 1660 Ti Max-Q\", \"59 - AMD Radeon Pro 5600M\", \"58 - NVIDIA GeForce GTX 1070 Max-Q\", \"57 - NVIDIA GeForce GTX 1660\", \"56 - NVIDIA GeForce GTX 980 Ti\", \"55 - AMD Radeon RX 5600M\", \"54 - NVIDIA GeForce GTX 1660 Ti Mobile\", \"53 - NVIDIA Quadro P5000\", \"52 - NVIDIA GeForce GTX 1660 Super\", \"51 - NVIDIA GeForce GTX 1660 Ti\", \"50 - NVIDIA Quadro P4200\", \"49 - NVIDIA GeForce GTX 1070 Mobile\", \"48 - NVIDIA GeForce RTX 2060 Max-Q\", \"47 - AMD Radeon Pro Vega 56\", \"46 - NVIDIA GeForce GTX 1080 Max-Q\", \"45 - AMD Radeon RX 5600 XT\", \"44 - NVIDIA GeForce GTX 1070\", \"43 - NVIDIA Quadro P5200\", \"42 - NVIDIA GeForce GTX 980 SLI\", \"41 - NVIDIA GeForce RTX 2060 Mobile\", \"40 - AMD Radeon RX Vega 56\", \"39 - NVIDIA Quadro RTX 3000 Max-Q\", \"38 - NVIDIA Quadro RTX 3000\", \"37 - NVIDIA GeForce RTX 2070 Max-Q\", \"36 - NVIDIA GeForce GTX 1070 Ti\", \"35 - NVIDIA GeForce RTX 2070 Super Max-Q\", \"34 - NVIDIA GeForce RTX 2060\", \"33 - NVIDIA Quadro RTX 4000 Max-Q\", \"32 - NVIDIA Quadro RTX 4000\", \"31 - NVIDIA GeForce GTX 1080 Mobile\", \"30 - AMD Radeon RX Vega 64\", \"29 - AMD Radeon RX 5700M\", \"28 - AMD Radeon RX 5700\", \"27 - NVIDIA GeForce RTX 2060 Super\", \"26 - NVIDIA GeForce RTX 2070 Mobile\", \"25 - NVIDIA GeForce RTX 2070 Super Mobile\", \"24 - NVIDIA GeForce GTX 1080\", \"22 - NVIDIA GeForce RTX 2070\", \"21 - AMD Radeon RX 5700 XT\", \"20 - AMD Radeon VII\", \"19 - NVIDIA GeForce RTX 2070 Super\", \"18 - NVIDIA GeForce RTX 2080 Max-Q\", \"17 - NVIDIA GeForce RTX 2080 Super Max-Q\", \"16 - NVIDIA GeForce GTX 1070 SLI\", \"15 - NVIDIA GeForce GTX 1070 SLI\", \"14 - NVIDIA GeForce GTX 1080 SLI\", \"13 - NVIDIA Titan X Pascal\", \"12 - NVIDIA GeForce GTX 1080 Ti\", \"11 - NVIDIA GeForce RTX 2080 Mobile\", \"10 - NVIDIA GeForce RTX 2080 Super Mobile\", \"9 - NVIDIA Quadro RTX 5000 Max-Q\", \"8 - NVIDIA Quadro RTX 5000\", \"6 - NVIDIA GeForce RTX 2080\", \"5 - NVIDIA GeForce RTX 2080 Super\", \"4 - NVIDIA Quadro RTX 6000\", \"2 - NVIDIA GeForce RTX 2080 Ti\", \"1 - NVIDIA Titan RTX\"],\n      I = [\"973 - ARM Mali-200\", \"972 - Qualcomm Adreno 200\", \"971 - PowerVR SGX530\", \"970 - PowerVR SGX531\", \"969 - PowerVR SGX535\", \"968 - Vivante GC800\", \"967 - Qualcomm Adreno 203\", \"966 - Qualcomm Adreno 205\", \"964 - PowerVR SGX540\", \"962 - NVIDIA GeForce ULP (Tegra 2)\", \"961 - ARM Mali-400 MP\", \"960 - ARM Mali-400 MP2\", \"959 - Vivante GC1000+ Dual-Core\", \"958 - Qualcomm Adreno 220\", \"957 - Broadcom VideoCore-IV\", \"956 - NVIDIA GeForce ULP (Tegra 3)\", \"955 - ARM Mali-400 MP4\", \"954 - Vivante GC4000\", \"953 - Qualcomm Adreno 225\", \"945 - Qualcomm Adreno 302\", \"944 - Vivante GC7000UL\", \"943 - ARM Mali-T720\", \"942 - Qualcomm Adreno 304\", \"941 - Qualcomm Adreno 305\", \"940 - Qualcomm Adreno 306\", \"939 - Qualcomm Adreno 308\", \"938 - PowerVR SGX544\", \"937 - ARM Mali-T720 MP2\", \"936 - PowerVR SGX544MP2\", \"935 - PowerVR SGX545\", \"932 - PowerVR SGX543MP2\", \"922 - PowerVR SGX543MP3\", \"914 - ARM Mali-T830 MP1\", \"913 - ARM Mali-450 MP4\", \"912 - ARM Mali-T720 MP4\", \"911 - PowerVR GE8100\", \"910 - PowerVR GE8300\", \"909 - PowerVR GE8320\", \"908 - ARM Mali-T760 MP2\", \"907 - Qualcomm Adreno 320\", \"906 - ARM Mali-T624\", \"905 - PowerVR SGX543MP4\", \"878 - ARM Mali-T830 MP2\", \"877 - Qualcomm Adreno 405\", \"876 - PowerVR G6200\", \"875 - NVIDIA GeForce Tegra 4\", \"870 - ARM Mali-T604 MP4\", \"864 - ARM Mali-T830 MP3\", \"863 - ARM Mali-T860 MP2\", \"859 - Qualcomm Adreno 504\", \"858 - Qualcomm Adreno 505\", \"857 - PowerVR GE8322 / IMG8322\", \"856 - Qualcomm Adreno 506\", \"855 - Qualcomm Adreno 508\", \"854 - Qualcomm Adreno 509\", \"853 - ARM Mali-T628 MP4\", \"852 - PowerVR SGX554MP4\", \"814 - ARM Mali-T760 MP4\", \"813 - ARM Mali-T628 MP6\", \"812 - Intel HD Graphics (Bay Trail)\", \"811 - PowerVR G6400\", \"810 - PowerVR GX6250\", \"809 - PowerVR G6430\", \"808 - Qualcomm Adreno 330\", \"807 - Qualcomm Adreno 510\", \"806 - Qualcomm Adreno 512\", \"805 - Qualcomm Adreno 610\", \"804 - Qualcomm Adreno 612\", \"741 - Intel HD Graphics (Cherry Trail)\", \"728 - ARM Mali-G51 MP4\", \"726 - Qualcomm Adreno 616\", \"725 - Qualcomm Adreno 618\", \"724 - Qualcomm Adreno 418\", \"704 - Qualcomm Adreno 620\", \"703 - Qualcomm Adreno 420\", \"702 - PowerVR GX6450\", \"692 - ARM Mali-T880 MP2\", \"691 - ARM Mali-T760 MP6\", \"659 - ARM Mali-G52 MP1\", \"658 - ARM Mali-G52 MP2\", \"657 - ARM Mali-G52 MP6\", \"656 - ARM Mali-T880 MP4\", \"655 - ARM Mali-G72 MP3\", \"634 - Qualcomm Adreno 430\", \"631 - ARM Mali-G71 MP2\", \"630 - ARM Mali-T760 MP8\", \"583 - ARM Mali-G76 MP4\", \"582 - ARM Mali-T880 MP12\", \"581 - Apple A9 / PowerVR GT7600\", \"580 - NVIDIA Tegra K1 Kepler GPU\", \"579 - PowerVR GXA6850\", \"578 - Qualcomm Adreno 530\", \"577 - PowerVR GM9446\", \"538 - ARM Mali-G71 MP8\", \"537 - ARM Mali-G72 MP12\", \"536 - ARM Mali-G71 MP20\", \"535 - ARM Mali-G72 MP18\", \"534 - ARM Mali-G57 MP6\", \"533 - Qualcomm Adreno 540\", \"532 - ARM Mali-G76 MP10\", \"531 - ARM Mali-G76 MP12\", \"530 - Qualcomm Adreno 630\", \"529 - Qualcomm Adreno 640\", \"528 - ARM Mali-G76 MP16\", \"527 - ARM Mali-G77 MP11\", \"512 - Apple A10 Fusion GPU / PowerVR\", \"421 - NVIDIA Tegra X1 Maxwell GPU\", \"392 - Apple A9X / PowerVR Series 7XT\", \"356 - Apple A10X Fusion GPU / PowerVR\", \"355 - Apple A11 Bionic GPU\", \"354 - Qualcomm Adreno 650\", \"353 - Apple A12 Bionic GPU\", \"347 - Apple A13 Bionic GPU\", \"320 - Apple A12X Bionic GPU\", \"319 - Apple A12Z Bionic GPU\"],\n      r = function r(e) {\n    return e.toLowerCase().split(\"- \")[1].split(\" /\")[0];\n  };\n\n  var M = \"undefined\" == typeof window;\n\n  var D = new (function () {\n    function e(e) {\n      this.userAgent = e || (!M && window.navigator ? window.navigator.userAgent : \"\"), this.isAndroidDevice = !/like android/i.test(this.userAgent) && /android/i.test(this.userAgent), this.iOSDevice = this.match(1, /(iphone|ipod|ipad)/i).toLowerCase(), !M && \"MacIntel\" === navigator.platform && navigator.maxTouchPoints > 2 && !window.MSStream && (this.iOSDevice = \"ipad\");\n    }\n\n    return e.prototype.match = function (e, o) {\n      var I = this.userAgent.match(o);\n      return I && I.length > 1 && I[e] || \"\";\n    }, Object.defineProperty(e.prototype, \"isMobile\", {\n      get: function get() {\n        return !this.isTablet && (/[^-]mobi/i.test(this.userAgent) || \"iphone\" === this.iOSDevice || \"ipod\" === this.iOSDevice || this.isAndroidDevice || /nexus\\s*[0-6]\\s*/i.test(this.userAgent));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isTablet\", {\n      get: function get() {\n        return /tablet/i.test(this.userAgent) && !/tablet pc/i.test(this.userAgent) || \"ipad\" === this.iOSDevice || this.isAndroidDevice && !/[^-]mobi/i.test(this.userAgent) || !/nexus\\s*[0-6]\\s*/i.test(this.userAgent) && /nexus\\s*[0-9]+/i.test(this.userAgent);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isDesktop\", {\n      get: function get() {\n        return !this.isMobile && !this.isTablet;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isMacOS\", {\n      get: function get() {\n        return /macintosh/i.test(this.userAgent) && {\n          version: this.match(1, /mac os x (\\d+(\\.?_?\\d+)+)/i).replace(/[_\\s]/g, \".\").split(\".\").map(function (e) {\n            return e;\n          })[1]\n        };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isWindows\", {\n      get: function get() {\n        return /windows /i.test(this.userAgent) && {\n          version: this.match(1, /Windows ((NT|XP)( \\d\\d?.\\d)?)/i)\n        };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isiOS\", {\n      get: function get() {\n        return !!this.iOSDevice && {\n          version: this.match(1, /os (\\d+([_\\s]\\d+)*) like mac os x/i).replace(/[_\\s]/g, \".\") || this.match(1, /version\\/(\\d+(\\.\\d+)?)/i)\n        };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"isAndroid\", {\n      get: function get() {\n        return this.isAndroidDevice && {\n          version: this.match(1, /android[ \\/-](\\d+(\\.\\d+)*)/i)\n        };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(e.prototype, \"browser\", {\n      get: function get() {\n        var e = this.match(1, /version\\/(\\d+(\\.\\d+)?)/i);\n        return /opera/i.test(this.userAgent) ? {\n          name: \"Opera\",\n          version: e || this.match(1, /(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n        } : /opr\\/|opios/i.test(this.userAgent) ? {\n          name: \"Opera\",\n          version: this.match(1, /(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || e\n        } : /SamsungBrowser/i.test(this.userAgent) ? {\n          name: \"Samsung Internet for Android\",\n          version: e || this.match(1, /(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n        } : /yabrowser/i.test(this.userAgent) ? {\n          name: \"Yandex Browser\",\n          version: e || this.match(1, /(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n        } : /ucbrowser/i.test(this.userAgent) ? {\n          name: \"UC Browser\",\n          version: this.match(1, /(?:ucbrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n        } : /msie|trident/i.test(this.userAgent) ? {\n          name: \"Internet Explorer\",\n          version: this.match(1, /(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n        } : /(edge|edgios|edga|edg)/i.test(this.userAgent) ? {\n          name: \"Microsoft Edge\",\n          version: this.match(2, /(edge|edgios|edga|edg)\\/(\\d+(\\.\\d+)?)/i)\n        } : /firefox|iceweasel|fxios/i.test(this.userAgent) ? {\n          name: \"Firefox\",\n          version: this.match(1, /(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n        } : /chromium/i.test(this.userAgent) ? {\n          name: \"Chromium\",\n          version: this.match(1, /(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || e\n        } : /chrome|crios|crmo/i.test(this.userAgent) ? {\n          name: \"Chrome\",\n          version: this.match(1, /(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n        } : /safari|applewebkit/i.test(this.userAgent) ? {\n          name: \"Safari\",\n          version: e\n        } : {\n          name: this.match(1, /^(.*)\\/(.*) /),\n          version: this.match(2, /^(.*)\\/(.*) /)\n        };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), e;\n  }())(),\n      a = D.browser,\n      A = D.isMobile,\n      n = D.isTablet,\n      i = function i(e) {\n    return e.replace(/[\\D]/g, \"\");\n  },\n      G = function G(e, o) {\n    var I = e ? e.length : 0,\n        r = o ? o.length : 0;\n    if (0 === I) return r;\n    if (0 === r) return I;\n    var M = new Array(r + 1);\n\n    for (var _e = 0; _e <= r; ++_e) {\n      (M[_e] = new Array(I + 1))[0] = _e;\n    }\n\n    var D = M[0];\n\n    for (var _e2 = 1; _e2 <= I; ++_e2) {\n      D[_e2] = _e2;\n    }\n\n    for (var _D = 1; _D <= r; ++_D) {\n      for (var _r = 1; _r <= I; ++_r) {\n        o.charAt(_D - 1) === e.charAt(_r - 1) ? M[_D][_r] = M[_D - 1][_r - 1] : M[_D][_r] = Math.min(M[_D - 1][_r - 1], M[_D][_r - 1], M[_D - 1][_r]) + 1;\n      }\n    }\n\n    return M[r][I];\n  },\n      d = function d(e, o, I) {\n    var M = [\"adreno\", \"apple\", \"mali-t\", \"mali\", \"nvidia\", \"powervr\"].find(function (e) {\n      return o.includes(e);\n    }),\n        D = [];\n    if (M) for (var _a = 0; _a < e.length; _a++) {\n      var _A = e[_a];\n\n      for (var _e3 = 0; _e3 < _A.length; _e3++) {\n        var _n = r(_A[_e3]);\n\n        !_n.includes(M) || \"mali\" === _n && _n.includes(\"mali-t\") || !i(_n).includes(I) || D.push({\n          rank: [_a, \"BENCHMARK - \" + _n],\n          distance: G(o, _n)\n        });\n      }\n    }\n    var a = R(D);\n    return a.length > 0 ? a[0].rank : [void 0, void 0];\n  },\n      R = function R(e) {\n    return e.sort(function (e, o) {\n      return e.distance - o.distance;\n    });\n  },\n      c = function c(e, o, I) {\n    var M = [\"intel\", \"amd\", \"nvidia\"].find(function (e) {\n      return o.includes(e);\n    }),\n        D = [];\n    if (M) for (var _a2 = 0; _a2 < e.length; _a2++) {\n      var _A2 = e[_a2];\n\n      for (var _e4 = 0; _e4 < _A2.length; _e4++) {\n        var _n2 = r(_A2[_e4]);\n\n        _n2.includes(M) && i(_n2).includes(I) && D.push({\n          rank: [_a2, \"BENCHMARK - \" + _n2],\n          distance: G(o, _n2)\n        });\n      }\n    }\n    var a = R(D);\n    return a.length > 0 ? a[0].rank : [void 0, void 0];\n  };\n\n  e.getGPUTier = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$mobileBenchmarkP = _ref.mobileBenchmarkPercentages,\n        e = _ref$mobileBenchmarkP === void 0 ? [0, 50, 30, 20] : _ref$mobileBenchmarkP,\n        _ref$desktopBenchmark = _ref.desktopBenchmarkPercentages,\n        r = _ref$desktopBenchmark === void 0 ? [0, 50, 30, 20] : _ref$desktopBenchmark,\n        _ref$forceRendererStr = _ref.forceRendererString,\n        M = _ref$forceRendererStr === void 0 ? \"\" : _ref$forceRendererStr,\n        _ref$forceMobile = _ref.forceMobile,\n        D = _ref$forceMobile === void 0 ? !1 : _ref$forceMobile,\n        G = _ref.glContext,\n        _ref$failIfMajorPerfo = _ref.failIfMajorPerformanceCaveat,\n        R = _ref$failIfMajorPerfo === void 0 ? !0 : _ref$failIfMajorPerfo;\n\n    var t;\n\n    var V = A || n || D,\n        l = function l() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"FALLBACK\";\n      return {\n        tier: \"GPU_\".concat(V ? \"MOBILE\" : \"DESKTOP\", \"_TIER_\").concat(e),\n        type: o\n      };\n    };\n\n    if (M) t = M;else {\n      var _e5 = G || function (e) {\n        var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n        var I = {\n          alpha: !1,\n          antialias: !1,\n          depth: !1,\n          failIfMajorPerformanceCaveat: o,\n          powerPreference: \"high-performance\",\n          stencil: !1\n        };\n        \"boolean\" != typeof e && \"Safari\" === e.name && e.version.includes(\"12\") && delete I.powerPreference;\n        var r = document.createElement(\"canvas\"),\n            M = r.getContext(\"webgl\", I) || r.getContext(\"experimental-webgl\", I);\n        if (M && M instanceof WebGLRenderingContext) return M;\n      }(a, R);\n\n      if (!_e5) return l(0, \"WEBGL_UNSUPPORTED\");\n\n      t = function (e) {\n        var o = e.getExtension(\"WEBGL_debug_renderer_info\");\n        return o && e.getParameter(o.UNMASKED_RENDERER_WEBGL);\n      }(_e5);\n    }\n\n    t = function (e) {\n      var o = e.toLowerCase();\n      return o.includes(\"angle (\") && o.includes(\"direct3d\") && (o = o.replace(\"angle (\", \"\").split(\" direct3d\")[0]), o.includes(\"nvidia\") && o.includes(\"gb\") && (o = o.split(/\\dgb/)[0]), o;\n    }(t);\n\n    if (/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 9400m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|radeon r9 200|mali-4|mali-3|mali-2|google swiftshader|sgx543|legacy|sgx 543)/.test(t)) return l(0, \"BLACKLISTED\");\n\n    var _ref2 = (V ? d : c)(function (e, o) {\n      var I = 0;\n      return o.map(function (o) {\n        var r = Math.round(e.length / 100 * o),\n            M = e.slice(I, I + r);\n        return I += r, M;\n      });\n    }(V ? I : o, V ? e : r), t, i(t)),\n        _ref3 = _slicedToArray(_ref2, 2),\n        s = _ref3[0],\n        N = _ref3[1];\n\n    return l(s, N);\n  }, Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n});","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","'use strict'; // do not edit .js files directly - edit src/index.jst\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};","var prefix = 'react-spring: ';\nvar flagInterpolate = false;\nexport function deprecateInterpolate() {\n  if (!flagInterpolate) {\n    flagInterpolate = true;\n    console.warn(prefix + 'The \"interpolate\" function is deprecated in v10 (use \"to\" instead)');\n  }\n}","import { useEffect, useRef, useState } from 'react';\nexport var useOnce = function useOnce(effect) {\n  return useEffect(effect, []);\n};\n/** Return a function that re-renders this component, if still mounted */\n\nexport var useForceUpdate = function useForceUpdate() {\n  var update = useState(0)[1];\n  var unmounted = useRef(false);\n  useOnce(function () {\n    return function () {\n      unmounted.current = true;\n    };\n  });\n  return function () {\n    if (!unmounted.current) {\n      update({});\n    }\n  };\n};\n/** Use a value from the previous render */\n\nexport function usePrev(value) {\n  var prevRef = useRef(undefined);\n  useEffect(function () {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}","import * as G from './globals'; // The global `requestAnimationFrame` must be dereferenced to avoid \"Illegal invocation\" errors\n\nvar requestAnimationFrame = function requestAnimationFrame(fn) {\n  return (void 0, G.requestAnimationFrame)(fn);\n};\n/**\n * FrameLoop executes its animations in order of lowest priority first.\n * Animations are retained until idle.\n */\n\n\nvar FrameLoop =\n/** @class */\nfunction () {\n  function FrameLoop(raf) {\n    if (raf === void 0) {\n      raf = requestAnimationFrame;\n    }\n\n    var idle = true;\n    var writing = false; // The most recent framestamp\n\n    var lastTime = 0; // The active animations for the current frame, sorted by lowest priority first\n\n    var animations = []; // The priority of the currently advancing animation.\n    // To protect against a race condition whenever a frame is being processed,\n    // where the filtering of `animations` is corrupted with a shifting index,\n    // causing animations to potentially advance 2x faster than intended.\n\n    var priority = 0; // Animations starting on the next frame\n\n    var startQueue = new Set(); // Flushed after all animations are updated.\n    // Used to dispatch events to an \"onFrame\" prop, for example.\n\n    var frameQueue = new Set(); // Flushed at the very end of each frame.\n    // Used to avoid layout thrashing in @react-spring/web, for example.\n\n    var writeQueue = new Set(); // Add an animation to the frameloop\n\n    var start = function start(animation) {\n      var index = animations.indexOf(animation);\n\n      if (index < 0) {\n        index = animations.findIndex(function (other) {\n          return other.priority > animation.priority;\n        });\n        animations.splice(~index ? index : animations.length, 0, animation);\n      }\n    };\n\n    var loop = function loop() {\n      if (idle) return;\n\n      try {\n        advance();\n        raf(loop);\n      } catch (e) {\n        console.error(e);\n      }\n    }; // Start the frameloop\n\n\n    var kickoff = function kickoff() {\n      if (idle) {\n        idle = false; // To minimize frame skips, the frameloop never stops.\n\n        if (lastTime == 0) {\n          lastTime = G.now();\n          raf(loop);\n        }\n      }\n    };\n\n    var timeoutQueue = [];\n\n    this.setTimeout = function (handler, ms) {\n      var time = G.now() + ms;\n\n      var cancel = function cancel() {\n        var index = timeoutQueue.findIndex(function (t) {\n          return t.cancel == cancel;\n        });\n\n        if (index >= 0) {\n          timeoutQueue.splice(index, 1);\n        }\n      };\n\n      var index = findIndex(timeoutQueue, function (t) {\n        return t.time > time;\n      });\n      var timeout = {\n        time: time,\n        handler: handler,\n        cancel: cancel\n      };\n      timeoutQueue.splice(index, 0, timeout);\n      kickoff();\n      return timeout;\n    }; // Process the current frame.\n\n\n    var advance = this.advance = function () {\n      var time = G.now(); // Start animations that were added during last frame.\n\n      if (startQueue.size) {\n        startQueue.forEach(start);\n        startQueue.clear();\n      } // Flush the timeout queue.\n\n\n      if (timeoutQueue.length) {\n        G.batchedUpdates(function () {\n          var count = findIndex(timeoutQueue, function (t) {\n            return t.time > time;\n          });\n          timeoutQueue.splice(0, count).forEach(function (t) {\n            return t.handler();\n          });\n        });\n      }\n\n      if (time > lastTime) {\n        // http://gafferongames.com/game-physics/fix-your-timestep/\n        var dt_1 = Math.min(64, time - lastTime);\n        lastTime = time;\n        G.batchedUpdates(function () {\n          // Animations can be added while the frameloop is updating,\n          // but they need a higher priority to be started on this frame.\n          if (animations.length) {\n            G.willAdvance(animations);\n            animations = animations.filter(function (animation) {\n              priority = animation.priority; // Animations may go idle before the next frame.\n\n              if (!animation.idle) {\n                animation.advance(dt_1);\n              } // Remove idle animations.\n\n\n              return !animation.idle;\n            });\n            priority = 0;\n          }\n\n          if (frameQueue.size) {\n            frameQueue.forEach(function (onFrame) {\n              return onFrame(time);\n            });\n            frameQueue.clear();\n          }\n\n          if (writeQueue.size) {\n            writing = true;\n            writeQueue.forEach(function (write) {\n              return write(time);\n            });\n            writeQueue.clear();\n            writing = false;\n          }\n        });\n      }\n    };\n\n    this.start = function (animation) {\n      if (priority > animation.priority) {\n        startQueue.add(animation);\n      } else {\n        start(animation);\n        kickoff();\n      }\n    };\n\n    this.onFrame = function (cb) {\n      frameQueue.add(cb);\n      kickoff();\n    };\n\n    this.onWrite = function (cb) {\n      if (writing) cb(lastTime);else writeQueue.add(cb);\n    }; // Expose internals for testing.\n\n\n    if (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n      var dispose_1 = function dispose_1() {\n        idle = true;\n        startQueue.clear();\n        timeoutQueue.length = 0;\n      };\n\n      Object.defineProperties(this, {\n        _animations: {\n          get: function get() {\n            return animations;\n          }\n        },\n        _dispose: {\n          get: function get() {\n            return dispose_1;\n          }\n        }\n      });\n    }\n  }\n\n  return FrameLoop;\n}();\n\nexport { FrameLoop };\n/** Like `Array.prototype.findIndex` but returns `arr.length` instead of `-1` */\n\nfunction findIndex(arr, test) {\n  var index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _toConsumableArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/runner/work/upvision.github.io/upvision.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { useState, useRef, useMemo, useEffect } from 'react';\nimport { debounce } from 'debounce';\n\nfunction useMeasure() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    debounce: 0,\n    scroll: false\n  },\n      debounce$1 = _ref.debounce,\n      scroll = _ref.scroll,\n      polyfill = _ref.polyfill;\n\n  var ResizeObserver = polyfill || (typeof window === 'undefined' ? function ResizeObserver() {\n    _classCallCheck(this, ResizeObserver);\n  } : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  var _useState = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      bounds = _useState2[0],\n      set = _useState2[1]; // keep all state in a ref\n\n\n  var state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  var scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\n  var resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // memoize handlers, so event-listeners know when they should update\n\n  var _useMemo = useMemo(function () {\n    var callback = function callback() {\n      if (!state.current.element) return;\n\n      var _state$current$elemen = state.current.element.getBoundingClientRect(),\n          left = _state$current$elemen.left,\n          top = _state$current$elemen.top,\n          width = _state$current$elemen.width,\n          height = _state$current$elemen.height,\n          bottom = _state$current$elemen.bottom,\n          right = _state$current$elemen.right,\n          x = _state$current$elemen.x,\n          y = _state$current$elemen.y;\n\n      var size = {\n        left: left,\n        top: top,\n        width: width,\n        height: height,\n        bottom: bottom,\n        right: right,\n        x: x,\n        y: y\n      };\n      Object.freeze(size);\n      if (!areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\n  }, [set, scrollDebounce, resizeDebounce]),\n      _useMemo2 = _slicedToArray(_useMemo, 3),\n      forceRefresh = _useMemo2[0],\n      resizeChange = _useMemo2[1],\n      scrollChange = _useMemo2[2]; // cleanup current scroll-listeners / observers\n\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(function (element) {\n        return element.removeEventListener('scroll', scrollChange, true);\n      });\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(function (scrollContainer) {\n        return scrollContainer.addEventListener('scroll', scrollChange, {\n          capture: true,\n          passive: true\n        });\n      });\n    }\n  } // the ref we expose to the user\n\n\n  var ref = function ref(node) {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(function () {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(function () {\n    return removeListeners;\n  }, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(function () {\n    var cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return function () {\n      return void window.removeEventListener('resize', cb);\n    };\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(function () {\n    if (enabled) {\n      var cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return function () {\n        return void window.removeEventListener('scroll', cb, true);\n      };\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  var result = [];\n  if (!element || element === document.body) return result;\n\n  var _window$getComputedSt = window.getComputedStyle(element),\n      overflow = _window$getComputedSt.overflow,\n      overflowX = _window$getComputedSt.overflowX,\n      overflowY = _window$getComputedSt.overflowY;\n\n  if ([overflow, overflowX, overflowY].some(function (prop) {\n    return prop === 'auto' || prop === 'scroll';\n  })) result.push(element);\n  return [].concat(result, _toConsumableArray(findScrollContainers(element.parentElement)));\n} // Checks if element boundaries are equal\n\n\nvar keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nvar areBoundsEqual = function areBoundsEqual(a, b) {\n  return keys.every(function (key) {\n    return a[key] === b[key];\n  });\n};\n\nif (typeof module !== 'undefined' && Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(module, 'exports').writable) {\n  module.exports = useMeasure;\n}\n\nexport default useMeasure;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\n\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\n\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n/** Used for built-in method references. */\n\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max;\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function (value, key) {\n    return key in object;\n  });\n}\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\n\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\n\n\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\n\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\n\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\n\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\n\n\nvar pick = baseRest(function (object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\nmodule.exports = pick;","// http://www.w3.org/TR/css3-color/#svg-color\nvar colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\nexport default colors;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __createBinding(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n;\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  privateMap.set(receiver, value);\n  return value;\n}","// const INTEGER = '[-+]?\\\\d+';\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  var parts = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    parts[_i] = arguments[_i];\n  }\n\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nexport var rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nexport var rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nexport var hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nexport var hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nexport var hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nexport var hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nexport var hex6 = /^#([0-9a-fA-F]{6})$/;\nexport var hex8 = /^#([0-9a-fA-F]{8})$/;","/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nimport * as matchers from './colorMatchers';\nimport * as G from './globals';\nexport function normalizeColor(color) {\n  var match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = matchers.hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n\n  if (G.colorNames && G.colorNames[color] !== undefined) {\n    return G.colorNames[color];\n  }\n\n  if (match = matchers.rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = matchers.rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = matchers.hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = matchers.hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = matchers.hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = matchers.hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = matchers.hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(h, c, x) {\n  if (h < 60) return [c, x, 0];\n  if (h < 120) return [x, c, 0];\n  if (h < 180) return [0, c, x];\n  if (h < 240) return [0, x, c];\n  if (h < 300) return [x, 0, c];\n  return [c, 0, x];\n}\n\nfunction hslToRgb(h, s, l) {\n  var C = (1 - Math.abs(2 * l - 1)) * s;\n  var X = C * (1 - Math.abs(h / 60 % 2 - 1));\n  var M = l - C / 2;\n\n  var _a = hue2rgb(h, C, X),\n      R1 = _a[0],\n      G1 = _a[1],\n      B1 = _a[2];\n\n  return Math.round((R1 + M) * 255) << 24 | Math.round((G1 + M) * 255) << 16 | Math.round((B1 + M) * 255) << 8;\n}\n\nfunction parse255(str) {\n  var int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  var int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  var int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}","import { normalizeColor } from './normalizeColor';\nexport function colorToRgba(input) {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  var r = (int32Color & 0xff000000) >>> 24;\n  var g = (int32Color & 0x00ff0000) >>> 16;\n  var b = (int32Color & 0x0000ff00) >>> 8;\n  var a = (int32Color & 0x000000ff) / 255;\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n}","import { __assign } from \"tslib\";\nimport { getFluidValue } from 'fluids';\nimport { createInterpolator } from './createInterpolator';\nimport { colorToRgba } from './colorToRgba';\nimport * as G from './globals'; // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\nvar numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nvar colorNamesRegex; // rgba requires that the r,g,b are integers.... so we want to round them,\n// but we *dont* want to round the opacity (4th column).\n\nvar rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\n\nvar rgbaRound = function rgbaRound(_, p1, p2, p3, p4) {\n  return \"rgba(\" + Math.round(p1) + \", \" + Math.round(p2) + \", \" + Math.round(p3) + \", \" + p4 + \")\";\n};\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *     \"rgba(123, 42, 99, 0.36)\"           // colors\n *     \"-45deg\"                            // values with units\n *     \"0 2px 2px 0px rgba(0, 0, 0, 0.12)\" // CSS box-shadows\n *     \"rotate(0deg) translate(2px, 3px)\"  // CSS transforms\n */\n\n\nexport var createStringInterpolator = function createStringInterpolator(config) {\n  if (!colorNamesRegex) colorNamesRegex = G.colorNames ? new RegExp(\"(\" + Object.keys(G.colorNames).join('|') + \")\", 'g') : /^\\b$/; // never match\n  // Convert colors to rgba(...)\n\n  var output = config.output.map(function (value) {\n    return getFluidValue(value).replace(colorRegex, colorToRgba).replace(colorNamesRegex, colorToRgba);\n  }); // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 2], [0, 0]]\n\n  var keyframes = output.map(function (value) {\n    return value.match(numberRegex).map(Number);\n  }); // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 0], [2, 0]]\n\n  var outputRanges = keyframes[0].map(function (_, i) {\n    return keyframes.map(function (values) {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal');\n      }\n\n      return values[i];\n    });\n  }); // Create an interpolator for each animated number\n\n  var interpolators = outputRanges.map(function (output) {\n    return createInterpolator(__assign(__assign({}, config), {\n      output: output\n    }));\n  }); // Use the first `output` as a template for each call\n\n  return function (input) {\n    var i = 0;\n    return output[0].replace(numberRegex, function () {\n      return String(interpolators[i++](input));\n    }).replace(rgbaRegex, rgbaRound);\n  };\n};","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var committed = useRef(initial);\n  var isInputMatch = Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = isInputMatch ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\n\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\n\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","module.exports = require(\"regenerator-runtime\");\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  ;\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}\n\n; // Adds compatibility for ES modules\n\ndebounce.debounce = debounce;\nmodule.exports = debounce;","function E() {// Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function on(name, callback, ctx) {\n    var e = this.e || (this.e = {});\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n    return this;\n  },\n  once: function once(name, callback, ctx) {\n    var self = this;\n\n    function listener() {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    }\n\n    ;\n    listener._ = callback;\n    return this.on(name, listener, ctx);\n  },\n  emit: function emit(name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n  off: function off(name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n      }\n    } // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n\n    liveEvents.length ? e[name] = liveEvents : delete e[name];\n    return this;\n  }\n};\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;"],"sourceRoot":""}